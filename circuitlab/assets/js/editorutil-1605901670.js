/*
This file includes minified (compressed) versions of some libraries which
have their own copyright and license.  These have been concatenated and
minified for performance reasons.



Raphael 2.0 - JavaScript Vector Library                            
Copyright (c) 2008-2011 Dmitry Baranovskiy (http://raphaeljs.com)  
Copyright (c) 2008-2011 Sencha Labs (http://sencha.com)             
Licensed under the MIT (http://raphaeljs.com/license.html) license.



Eve 0.3.2 - JavaScript Events Library
Copyright (c) 2008-2011 Dmitry Baranovskiy (http://dmitry.baranovskiy.com/)
Licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)
license.



Raphael SVG Import 0.0.4 - Extension to Raphael JS
https://github.com/wout/raphael-svg-import
Copyright (c) 2011 Wout Fierens
- Load order fix by Georgi Momchilov
- Prototype dependency removed by Matt Cook
Licensed under the MIT
(http://www.opensource.org/licenses/mit-license.php) license.



OpenJS Keyboard Shortcuts Module
http://www.openjs.com/scripts/events/keyboard_shortcuts/
Version : 2.01.B
By Binny V A
License : BSD



jQuery Mousewheel Module version 3.0.6
http://brandonaaron.net/code/mousewheel/demos
Copyright (c) 2011 Brandon Aaron (http://brandonaaron.net)
Licensed under the MIT License
 


jqPlot, copyright (c) 2009-2011 Chris Leonello
http://www.jqplot.com/
MIT licensed



bootstrap-dropdown.js v1.3.0
http://twitter.github.com/bootstrap/javascript.html#dropdown
Copyright 2011 Twitter, Inc.
Licensed under the Apache License, Version 2.0

*/
(function(){if(!this.gettext)this.gettext=function(x){return x};if(!this.ngettext)this.ngettext=function(sing,plur,ct){return ct==1?sing:plur};if(!this.gettext_noop)this.gettext_noop=function(x){return x};if(!this.pgettext)this.pgettext=function(c,x){return x};if(!this.npgettext)this.npgettext=function(c,sing,plur,ct){return ct==1?sing:plur};if(!this.interpolate)this.interpolate=function(fmt,obj,named){if(named)return fmt.replace(/%\(\w+\)s/g,function(match){return String(obj[match.slice(2,-2)])});
else return fmt.replace(/%s/g,function(match){return String(obj.shift())})}}).apply(this);
$(document).ajaxSend(function(event,xhr,settings){function getCookie(name){var cookieValue=null;if(document.cookie&&document.cookie!=""){var cookies=document.cookie.split(";");for(var i=0;i<cookies.length;i++){var cookie=jQuery.trim(cookies[i]);if(cookie.substring(0,name.length+1)==name+"="){cookieValue=decodeURIComponent(cookie.substring(name.length+1));break}}}return cookieValue}function sameOrigin(url){var host=document.location.host;var protocol=document.location.protocol;var sr_origin="//"+host;
var origin=protocol+sr_origin;return url==origin||url.slice(0,origin.length+1)==origin+"/"||url==sr_origin||url.slice(0,sr_origin.length+1)==sr_origin+"/"||!/^(\/\/|http:|https:).*/.test(url)}function safeMethod(method){return/^(GET|HEAD|OPTIONS|TRACE)$/.test(method)}if(!safeMethod(settings.type)&&sameOrigin(settings.url))xhr.setRequestHeader("X-CSRFToken",getCookie("csrftoken"))});
if(!Array.prototype.indexOf)Array.prototype.indexOf=function(searchElement){if(this===void 0||this===null)throw new TypeError;var t=Object(this);var len=t.length>>>0;if(len===0)return-1;var n=0;if(arguments.length>0){n=Number(arguments[1]);if(n!==n)n=0;else if(n!==0&&n!==1/0&&n!==-(1/0))n=(n>0||-1)*Math.floor(Math.abs(n))}if(n>=len)return-1;var k=n>=0?n:Math.max(len-Math.abs(n),0);for(;k<len;k++)if(k in t&&t[k]===searchElement)return k;return-1};
if(!Array.prototype.reduce)Array.prototype.reduce=function reduce(accumlator){var i,l=this.length,curr;if(typeof accumlator!=="function")throw new TypeError("First argument is not callable");if((l==0||l===null)&&arguments.length<=1)throw new TypeError("Array length is 0 and no second argument");if(arguments.length<=1){curr=this[0];i=1}else curr=arguments[1];for(i=i||0;i<l;++i)if(i in this)curr=accumlator.call(undefined,curr,this[i],i,this);return curr};var experiments={};
experiments=function(){var experiment_enrollment={};return{record_enrollment:function(experiment_name,group){experiment_enrollment[experiment_name]=group},control:function(experiment_name){if(experiment_enrollment[experiment_name])return experiment_enrollment[experiment_name]=="control";else{if(console)console.error("Can't find experiment named "+experiment_name);return true}},test:function(experiment_name){if(experiment_enrollment[experiment_name])return experiment_enrollment[experiment_name]=="test";
else{if(console)console.error("Can't find experiment named "+experiment_name);return false}},confirm_human:function(){$.get("/experiments/confirm_human/")}}}();window["experiments"]=experiments;
(function(glob){var version="0.3.2",has="hasOwnProperty",separator=/[\.\/]/,wildcard="*",fun=function(){},numsort=function(a,b){return a-b},current_event,stop,events={n:{}},eve=function(name,scope){var e=events,oldstop=stop,args=Array.prototype.slice.call(arguments,2),listeners=eve.listeners(name),z=0,f=false,l,indexed=[],queue={},out=[],errors=[];current_event=name;stop=0;for(var i=0,ii=listeners.length;i<ii;i++)if("zIndex"in listeners[i]){indexed.push(listeners[i].zIndex);if(listeners[i].zIndex<
0)queue[listeners[i].zIndex]=listeners[i]}indexed.sort(numsort);while(indexed[z]<0){l=queue[indexed[z++]];out.push(l.apply(scope,args));if(stop){stop=oldstop;return out}}for(i=0;i<ii;i++){l=listeners[i];if("zIndex"in l)if(l.zIndex==indexed[z]){out.push(l.apply(scope,args));if(stop){stop=oldstop;return out}do{z++;l=queue[indexed[z]];l&&out.push(l.apply(scope,args));if(stop){stop=oldstop;return out}}while(l)}else queue[l.zIndex]=l;else{out.push(l.apply(scope,args));if(stop){stop=oldstop;return out}}}stop=
oldstop;return out.length?out:null};eve.listeners=function(name){var names=name.split(separator),e=events,item,items,k,i,ii,j,jj,nes,es=[e],out=[];for(i=0,ii=names.length;i<ii;i++){nes=[];for(j=0,jj=es.length;j<jj;j++){e=es[j].n;items=[e[names[i]],e[wildcard]];k=2;while(k--){item=items[k];if(item){nes.push(item);out=out.concat(item.f||[])}}}es=nes}return out};eve.on=function(name,f){var names=name.split(separator),e=events;for(var i=0,ii=names.length;i<ii;i++){e=e.n;!e[names[i]]&&(e[names[i]]={n:{}});
e=e[names[i]]}e.f=e.f||[];for(i=0,ii=e.f.length;i<ii;i++)if(e.f[i]==f)return fun;e.f.push(f);return function(zIndex){if(+zIndex==+zIndex)f.zIndex=+zIndex}};eve.stop=function(){stop=1};eve.nt=function(subname){if(subname)return(new RegExp("(?:\\.|\\/|^)"+subname+"(?:\\.|\\/|$)")).test(current_event);return current_event};eve.unbind=function(name,f){var names=name.split(separator),e,key,splice,cur=[events];for(var i=0,ii=names.length;i<ii;i++)for(var j=0;j<cur.length;j+=splice.length-2){splice=[j,1];
e=cur[j].n;if(names[i]!=wildcard){if(e[names[i]])splice.push(e[names[i]])}else for(key in e)if(e[has](key))splice.push(e[key]);cur.splice.apply(cur,splice)}for(i=0,ii=cur.length;i<ii;i++){e=cur[i];while(e.n){if(f){if(e.f){for(j=0,jj=e.f.length;j<jj;j++)if(e.f[j]==f){e.f.splice(j,1);break}!e.f.length&&delete e.f}for(key in e.n)if(e.n[has](key)&&e.n[key].f){var funcs=e.n[key].f;for(j=0,jj=funcs.length;j<jj;j++)if(funcs[j]==f){funcs.splice(j,1);break}!funcs.length&&delete e.n[key].f}}else{delete e.f;
for(key in e.n)if(e.n[has](key)&&e.n[key].f)delete e.n[key].f}e=e.n}}};eve.version=version;eve.toString=function(){return"You are running Eve "+version};typeof module!="undefined"&&module.exports?module.exports=eve:glob.eve=eve})(this);
(function(){function R(first){if(R.is(first,"function"))return loaded?first():eve.on("DOMload",first);else if(R.is(first,array)){var a=first,cnv=R._engine.create[apply](R,a.splice(0,3+R.is(a[0],nu))),res=cnv.set(),i=0,ii=a.length,j;for(;i<ii;i++){j=a[i]||{};elements[has](j.type)&&res.push(cnv[j.type]().attr(j))}return res}else{var args=Array.prototype.slice.call(arguments,0);if(R.is(args[args.length-1],"function")){var f=args.pop();return loaded?f.call(R._engine.create[apply](R,args)):eve.on("DOMload",
function(){f.call(R._engine.create[apply](R,args))})}else return R._engine.create[apply](R,arguments)}}R.version="2.0.0";R.eve=eve;var loaded,separator=/[, ]+/,elements={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},formatrg=/\{(\d+)\}/g,proto="prototype",has="hasOwnProperty",g={doc:document,win:window},oldRaphael={was:Object.prototype[has].call(g.win,"Raphael"),is:g.win.Raphael},Paper=function(){this.ca=this.customAttributes={}},paperproto,appendChild="appendChild",apply="apply",concat="concat",
supportsTouch=false;E="",S=" ",Str=String,split="split",events="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[split](S),touchMap={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},lowerCase=Str.prototype.toLowerCase,math=Math,mmax=math.max,mmin=math.min,abs=math.abs,pow=math.pow,PI=math.PI,nu="number",string="string",array="array",toString="toString",fillString="fill",objectToString=Object.prototype.toString,paper={},push="push",
ISURL=R._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,colourRegExp=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,isnan={"NaN":1,"Infinity":1,"-Infinity":1},bezierrg=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,round=math.round,setAttribute=
"setAttribute",toFloat=parseFloat,toInt=parseInt,upperCase=Str.prototype.toUpperCase,availableAttrs=R._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt",
"stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},availableAnimAttrs=R._availableAnimAttrs={blur:nu,"clip-rect":"csv",cx:nu,cy:nu,fill:"colour","fill-opacity":nu,"font-size":nu,height:nu,opacity:nu,path:"path",r:nu,rx:nu,ry:nu,stroke:"colour","stroke-opacity":nu,"stroke-width":nu,transform:"transform",width:nu,x:nu,y:nu},commaSpaces=/\s*,\s*/,hsrg={hs:1,rg:1},p2s=/,?([achlmqrstvxz]),?/gi,
pathCommand=/([achlmrqstvz])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?\s*,?\s*)+)/ig,tCommand=/([rstm])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?\s*,?\s*)+)/ig,pathValues=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)\s*,?\s*/ig,radial_gradient=R._radial_gradient=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/,eldata={},sortByKey=function(a,b){return a.key-b.key},sortByNumber=function(a,b){return toFloat(a)-toFloat(b)},fun=function(){},pipe=function(x){return x},rectPath=R._rectPath=function(x,y,w,h,r){if(r)return[["M",x+r,y],["l",w-r*2,0],
["a",r,r,0,0,1,r,r],["l",0,h-r*2],["a",r,r,0,0,1,-r,r],["l",r*2-w,0],["a",r,r,0,0,1,-r,-r],["l",0,r*2-h],["a",r,r,0,0,1,r,-r],["z"]];return[["M",x,y],["l",w,0],["l",0,h],["l",-w,0],["z"]]},ellipsePath=function(x,y,rx,ry){if(ry==null)ry=rx;return[["M",x,y],["m",0,-ry],["a",rx,ry,0,1,1,0,2*ry],["a",rx,ry,0,1,1,0,-2*ry],["z"]]},getPath=R._getPath={path:function(el){return el.attr("path")},circle:function(el){var a=el.attrs;return ellipsePath(a.cx,a.cy,a.r)},ellipse:function(el){var a=el.attrs;return ellipsePath(a.cx,
a.cy,a.rx,a.ry)},rect:function(el){var a=el.attrs;return rectPath(a.x,a.y,a.width,a.height,a.r)},image:function(el){var a=el.attrs;return rectPath(a.x,a.y,a.width,a.height)},text:function(el){var bbox=el._getBBox();return rectPath(bbox.x,bbox.y,bbox.width,bbox.height)}},mapPath=R.mapPath=function(path,matrix){if(!matrix)return path;var x,y,i,j,pathi;path=path2curve(path);for(i=0,ii=path.length;i<ii;i++){pathi=path[i];for(j=1,jj=pathi.length;j<jj;j+=2){x=matrix.x(pathi[j],pathi[j+1]);y=matrix.y(pathi[j],
pathi[j+1]);pathi[j]=x;pathi[j+1]=y}}return path};R._g=g;R.type=g.win.SVGAngle||g.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML";if(R.type=="VML"){var d=g.doc.createElement("div"),b;d.innerHTML='<v:shape adj="1"/>';b=d.firstChild;b.style.behavior="url(#default#VML)";if(!(b&&typeof b.adj=="object"))return R.type=E;d=null}R.svg=!(R.vml=R.type=="VML");R._Paper=Paper;R.fn=paperproto=Paper.prototype=R.prototype;R._id=0;R._oid=0;R.is=function(o,type){type=
lowerCase.call(type);if(type=="finite")return!isnan[has](+o);if(type=="array")return o instanceof Array;return type=="null"&&o===null||type==typeof o&&o!==null||type=="object"&&o===Object(o)||type=="array"&&Array.isArray&&Array.isArray(o)||objectToString.call(o).slice(8,-1).toLowerCase()==type};R.angle=function(x1,y1,x2,y2,x3,y3){if(x3==null){var x=x1-x2,y=y1-y2;if(!x&&!y)return 0;return(180+math.atan2(-y,-x)*180/PI+360)%360}else return R.angle(x1,y1,x3,y3)-R.angle(x2,y2,x3,y3)};R.rad=function(deg){return deg%
360*PI/180};R.deg=function(rad){return rad*180/PI%360};R.snapTo=function(values,value,tolerance){tolerance=R.is(tolerance,"finite")?tolerance:10;if(R.is(values,array)){var i=values.length;while(i--)if(abs(values[i]-value)<=tolerance)return values[i]}else{values=+values;var rem=value%values;if(rem<tolerance)return value-rem;if(rem>values-tolerance)return value-rem+values}return value};var createUUID=R.createUUID=function(uuidRegEx,uuidReplacer){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(uuidRegEx,
uuidReplacer).toUpperCase()}}(/[xy]/g,function(c){var r=math.random()*16|0,v=c=="x"?r:r&3|8;return v.toString(16)});R.setWindow=function(newwin){eve("setWindow",R,g.win,newwin);g.win=newwin;g.doc=g.win.document;if(initWin)initWin(g.win)};var toHex=function(color){if(R.vml){var trim=/^\s+|\s+$/g;var bod;try{var docum=new ActiveXObject("htmlfile");docum.write("<body>");docum.close();bod=docum.body}catch(e){bod=createPopup().document.body}var range=bod.createTextRange();toHex=cacher(function(color){try{bod.style.color=
Str(color).replace(trim,E);var value=range.queryCommandValue("ForeColor");value=(value&255)<<16|value&65280|(value&16711680)>>>16;return"#"+("000000"+value.toString(16)).slice(-6)}catch(e){return"none"}})}else{var i=g.doc.createElement("i");i.title="Rapha\u00ebl Colour Picker";i.style.display="none";g.doc.body.appendChild(i);toHex=cacher(function(color){i.style.color=color;return g.doc.defaultView.getComputedStyle(i,E).getPropertyValue("color")})}return toHex(color)},hsbtoString=function(){return"hsb("+
[this.h,this.s,this.b]+")"},hsltoString=function(){return"hsl("+[this.h,this.s,this.l]+")"},rgbtoString=function(){return this.hex},prepareRGB=function(r,g,b){if(g==null&&R.is(r,"object")&&"r"in r&&"g"in r&&"b"in r){b=r.b;g=r.g;r=r.r}if(g==null&&R.is(r,string)){var clr=R.getRGB(r);r=clr.r;g=clr.g;b=clr.b}if(r>1||g>1||b>1){r/=255;g/=255;b/=255}return[r,g,b]},packageRGB=function(r,g,b,o){r*=255;g*=255;b*=255;var rgb={r:r,g:g,b:b,hex:R.rgb(r,g,b),toString:rgbtoString};R.is(o,"finite")&&(rgb.opacity=
o);return rgb};R.color=function(clr){var rgb;if(R.is(clr,"object")&&"h"in clr&&"s"in clr&&"b"in clr){rgb=R.hsb2rgb(clr);clr.r=rgb.r;clr.g=rgb.g;clr.b=rgb.b;clr.hex=rgb.hex}else if(R.is(clr,"object")&&"h"in clr&&"s"in clr&&"l"in clr){rgb=R.hsl2rgb(clr);clr.r=rgb.r;clr.g=rgb.g;clr.b=rgb.b;clr.hex=rgb.hex}else{if(R.is(clr,"string"))clr=R.getRGB(clr);if(R.is(clr,"object")&&"r"in clr&&"g"in clr&&"b"in clr){rgb=R.rgb2hsl(clr);clr.h=rgb.h;clr.s=rgb.s;clr.l=rgb.l;rgb=R.rgb2hsb(clr);clr.v=rgb.b}else{clr={hex:"none"};
crl.r=clr.g=clr.b=clr.h=clr.s=clr.v=clr.l=-1}}clr.toString=rgbtoString;return clr};R.hsb2rgb=function(h,s,v,o){if(this.is(h,"object")&&"h"in h&&"s"in h&&"b"in h){v=h.b;s=h.s;h=h.h;o=h.o}h*=360;var R,G,B,X,C;h=h%360/60;C=v*s;X=C*(1-abs(h%2-1));R=G=B=v-C;h=~~h;R+=[C,X,0,0,X,C][h];G+=[X,C,C,X,0,0][h];B+=[0,0,X,C,C,X][h];return packageRGB(R,G,B,o)};R.hsl2rgb=function(h,s,l,o){if(this.is(h,"object")&&"h"in h&&"s"in h&&"l"in h){l=h.l;s=h.s;h=h.h}if(h>1||s>1||l>1){h/=360;s/=100;l/=100}h*=360;var R,G,B,X,
C;h=h%360/60;C=2*s*(l<0.5?l:1-l);X=C*(1-abs(h%2-1));R=G=B=l-C/2;h=~~h;R+=[C,X,0,0,X,C][h];G+=[X,C,C,X,0,0][h];B+=[0,0,X,C,C,X][h];return packageRGB(R,G,B,o)};R.rgb2hsb=function(r,g,b){b=prepareRGB(r,g,b);r=b[0];g=b[1];b=b[2];var H,S,V,C;V=mmax(r,g,b);C=V-mmin(r,g,b);H=C==0?null:V==r?(g-b)/C:V==g?(b-r)/C+2:(r-g)/C+4;H=(H+360)%6*60/360;S=C==0?0:C/V;return{h:H,s:S,b:V,toString:hsbtoString}};R.rgb2hsl=function(r,g,b){b=prepareRGB(r,g,b);r=b[0];g=b[1];b=b[2];var H,S,L,M,m,C;M=mmax(r,g,b);m=mmin(r,g,b);
C=M-m;H=C==0?null:M==r?(g-b)/C:M==g?(b-r)/C+2:(r-g)/C+4;H=(H+360)%6*60/360;L=(M+m)/2;S=C==0?0:L<0.5?C/(2*L):C/(2-2*L);return{h:H,s:S,l:L,toString:hsltoString}};R._path2string=function(){return this.join(",").replace(p2s,"$1")};function repush(array,item){for(var i=0,ii=array.length;i<ii;i++)if(array[i]===item)return array.push(array.splice(i,1)[0])}function cacher(f,scope,postprocessor){function newf(){var arg=Array.prototype.slice.call(arguments,0),args=arg.join("\u2400"),cache=newf.cache=newf.cache||
{},count=newf.count=newf.count||[];if(cache[has](args)){repush(count,args);return postprocessor?postprocessor(cache[args]):cache[args]}count.length>=1E3&&delete cache[count.shift()];count.push(args);cache[args]=f[apply](scope,arg);return postprocessor?postprocessor(cache[args]):cache[args]}return newf}var preload=R._preload=function(src,f){var img=g.doc.createElement("img");img.style.cssText="position:absolute;left:-9999em;top-9999em";img.onload=function(){f.call(this);this.onload=null;g.doc.body.removeChild(this)};
img.onerror=function(){g.doc.body.removeChild(this)};g.doc.body.appendChild(img);img.src=src};function clrToString(){return this.hex}R.getRGB=cacher(function(colour){if(!colour||!!((colour=Str(colour)).indexOf("-")+1))return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:clrToString};if(colour=="none")return{r:-1,g:-1,b:-1,hex:"none",toString:clrToString};!(hsrg[has](colour.toLowerCase().substring(0,2))||colour.charAt()=="#")&&(colour=toHex(colour));var res,red,green,blue,opacity,t,values,rgb=colour.match(colourRegExp);
if(rgb){if(rgb[2]){blue=toInt(rgb[2].substring(5),16);green=toInt(rgb[2].substring(3,5),16);red=toInt(rgb[2].substring(1,3),16)}if(rgb[3]){blue=toInt((t=rgb[3].charAt(3))+t,16);green=toInt((t=rgb[3].charAt(2))+t,16);red=toInt((t=rgb[3].charAt(1))+t,16)}if(rgb[4]){values=rgb[4][split](commaSpaces);red=toFloat(values[0]);values[0].slice(-1)=="%"&&(red*=2.55);green=toFloat(values[1]);values[1].slice(-1)=="%"&&(green*=2.55);blue=toFloat(values[2]);values[2].slice(-1)=="%"&&(blue*=2.55);rgb[1].toLowerCase().slice(0,
4)=="rgba"&&(opacity=toFloat(values[3]));values[3]&&values[3].slice(-1)=="%"&&(opacity/=100)}if(rgb[5]){values=rgb[5][split](commaSpaces);red=toFloat(values[0]);values[0].slice(-1)=="%"&&(red*=2.55);green=toFloat(values[1]);values[1].slice(-1)=="%"&&(green*=2.55);blue=toFloat(values[2]);values[2].slice(-1)=="%"&&(blue*=2.55);(values[0].slice(-3)=="deg"||values[0].slice(-1)=="\u00b0")&&(red/=360);rgb[1].toLowerCase().slice(0,4)=="hsba"&&(opacity=toFloat(values[3]));values[3]&&values[3].slice(-1)==
"%"&&(opacity/=100);return R.hsb2rgb(red,green,blue,opacity)}if(rgb[6]){values=rgb[6][split](commaSpaces);red=toFloat(values[0]);values[0].slice(-1)=="%"&&(red*=2.55);green=toFloat(values[1]);values[1].slice(-1)=="%"&&(green*=2.55);blue=toFloat(values[2]);values[2].slice(-1)=="%"&&(blue*=2.55);(values[0].slice(-3)=="deg"||values[0].slice(-1)=="\u00b0")&&(red/=360);rgb[1].toLowerCase().slice(0,4)=="hsla"&&(opacity=toFloat(values[3]));values[3]&&values[3].slice(-1)=="%"&&(opacity/=100);return R.hsl2rgb(red,
green,blue,opacity)}rgb={r:red,g:green,b:blue,toString:clrToString};rgb.hex="#"+(16777216|blue|green<<8|red<<16).toString(16).slice(1);R.is(opacity,"finite")&&(rgb.opacity=opacity);return rgb}return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:clrToString}},R);R.hsb=cacher(function(h,s,b){return R.hsb2rgb(h,s,b).hex});R.hsl=cacher(function(h,s,l){return R.hsl2rgb(h,s,l).hex});R.rgb=cacher(function(r,g,b){return"#"+(16777216|b|g<<8|r<<16).toString(16).slice(1)});R.getColor=function(value){var start=
this.getColor.start=this.getColor.start||{h:0,s:1,b:value||0.75},rgb=this.hsb2rgb(start.h,start.s,start.b);start.h+=0.075;if(start.h>1){start.h=0;start.s-=0.2;start.s<=0&&(this.getColor.start={h:0,s:1,b:start.b})}return rgb.hex};R.getColor.reset=function(){delete this.start};function catmullRom2bezier(crp){var d=[];for(var i=0,iLen=crp.length;iLen-2>i;i+=2){var p=[{x:+crp[i],y:+crp[i+1]},{x:+crp[i],y:+crp[i+1]},{x:+crp[i+2],y:+crp[i+3]},{x:+crp[i+4],y:+crp[i+5]}];if(iLen-4==i){p[0]={x:+crp[i-2],y:+crp[i-
1]};p[3]=p[2]}else if(i)p[0]={x:+crp[i-2],y:+crp[i-1]};d.push(["C",(-p[0].x+6*p[1].x+p[2].x)/6,(-p[0].y+6*p[1].y+p[2].y)/6,(p[1].x+6*p[2].x-p[3].x)/6,(p[1].y+6*p[2].y-p[3].y)/6,p[2].x,p[2].y])}return d}R.parsePathString=cacher(function(pathString){if(!pathString)return null;var paramCounts={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},data=[];if(R.is(pathString,array)&&R.is(pathString[0],array))data=pathClone(pathString);if(!data.length)Str(pathString).replace(pathCommand,function(a,b,c){var params=
[],name=b.toLowerCase();c.replace(pathValues,function(a,b){b&&params.push(+b)});if(name=="m"&&params.length>2){data.push([b][concat](params.splice(0,2)));name="l";b=b=="m"?"l":"L"}if(name=="r")data.push([b][concat](params));else while(params.length>=paramCounts[name]){data.push([b][concat](params.splice(0,paramCounts[name])));if(!paramCounts[name])break}});data.toString=R._path2string;return data});R.parseTransformString=cacher(function(TString){if(!TString)return null;var paramCounts={r:3,s:4,t:2,
m:6},data=[];if(R.is(TString,array)&&R.is(TString[0],array))data=pathClone(TString);if(!data.length)Str(TString).replace(tCommand,function(a,b,c){var params=[],name=lowerCase.call(b);c.replace(pathValues,function(a,b){b&&params.push(+b)});data.push([b][concat](params))});data.toString=R._path2string;return data});R.findDotsAtSegment=function(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,t){var t1=1-t,t13=pow(t1,3),t12=pow(t1,2),t2=t*t,t3=t2*t,x=t13*p1x+t12*3*t*c1x+t1*3*t*t*c2x+t3*p2x,y=t13*p1y+t12*3*t*c1y+t1*3*
t*t*c2y+t3*p2y,mx=p1x+2*t*(c1x-p1x)+t2*(c2x-2*c1x+p1x),my=p1y+2*t*(c1y-p1y)+t2*(c2y-2*c1y+p1y),nx=c1x+2*t*(c2x-c1x)+t2*(p2x-2*c2x+c1x),ny=c1y+2*t*(c2y-c1y)+t2*(p2y-2*c2y+c1y),ax=t1*p1x+t*c1x,ay=t1*p1y+t*c1y,cx=t1*c2x+t*p2x,cy=t1*c2y+t*p2y,alpha=90-math.atan2(mx-nx,my-ny)*180/PI;(mx>nx||my<ny)&&(alpha+=180);return{x:x,y:y,m:{x:mx,y:my},n:{x:nx,y:ny},start:{x:ax,y:ay},end:{x:cx,y:cy},alpha:alpha}};var pathDimensions=cacher(function(path){if(!path)return{x:0,y:0,width:0,height:0};path=path2curve(path);
var x=0,y=0,X=[],Y=[],p;for(var i=0,ii=path.length;i<ii;i++){p=path[i];if(p[0]=="M"){x=p[1];y=p[2];X.push(x);Y.push(y)}else{var dim=curveDim(x,y,p[1],p[2],p[3],p[4],p[5],p[6]);X=X[concat](dim.min.x,dim.max.x);Y=Y[concat](dim.min.y,dim.max.y);x=p[5];y=p[6]}}var xmin=mmin[apply](0,X),ymin=mmin[apply](0,Y);return{x:xmin,y:ymin,width:mmax[apply](0,X)-xmin,height:mmax[apply](0,Y)-ymin}},null,function(o){return{x:o.x,y:o.y,width:o.width,height:o.height}}),pathClone=function(pathArray){var res=[];if(!R.is(pathArray,
array)||!R.is(pathArray&&pathArray[0],array))pathArray=R.parsePathString(pathArray);for(var i=0,ii=pathArray.length;i<ii;i++){res[i]=[];for(var j=0,jj=pathArray[i].length;j<jj;j++)res[i][j]=pathArray[i][j]}res.toString=R._path2string;return res},pathToRelative=R._pathToRelative=cacher(function(pathArray){if(!R.is(pathArray,array)||!R.is(pathArray&&pathArray[0],array))pathArray=R.parsePathString(pathArray);var res=[],x=0,y=0,mx=0,my=0,start=0;if(pathArray[0][0]=="M"){x=pathArray[0][1];y=pathArray[0][2];
mx=x;my=y;start++;res.push(["M",x,y])}for(var i=start,ii=pathArray.length;i<ii;i++){var r=res[i]=[],pa=pathArray[i];if(pa[0]!=lowerCase.call(pa[0])){r[0]=lowerCase.call(pa[0]);switch(r[0]){case "a":r[1]=pa[1];r[2]=pa[2];r[3]=pa[3];r[4]=pa[4];r[5]=pa[5];r[6]=+(pa[6]-x).toFixed(3);r[7]=+(pa[7]-y).toFixed(3);break;case "v":r[1]=+(pa[1]-y).toFixed(3);break;case "m":mx=pa[1];my=pa[2];default:for(var j=1,jj=pa.length;j<jj;j++)r[j]=+(pa[j]-(j%2?x:y)).toFixed(3)}}else{r=res[i]=[];if(pa[0]=="m"){mx=pa[1]+
x;my=pa[2]+y}for(var k=0,kk=pa.length;k<kk;k++)res[i][k]=pa[k]}var len=res[i].length;switch(res[i][0]){case "z":x=mx;y=my;break;case "h":x+=+res[i][len-1];break;case "v":y+=+res[i][len-1];break;default:x+=+res[i][len-2];y+=+res[i][len-1]}}res.toString=R._path2string;return res},0,pathClone),pathToAbsolute=R._pathToAbsolute=cacher(function(pathArray){if(!R.is(pathArray,array)||!R.is(pathArray&&pathArray[0],array))pathArray=R.parsePathString(pathArray);if(!pathArray||!pathArray.length)return[["M",0,
0]];var res=[],x=0,y=0,mx=0,my=0,start=0;if(pathArray[0][0]=="M"){x=+pathArray[0][1];y=+pathArray[0][2];mx=x;my=y;start++;res[0]=["M",x,y]}for(var r,pa,i=start,ii=pathArray.length;i<ii;i++){res.push(r=[]);pa=pathArray[i];if(pa[0]!=upperCase.call(pa[0])){r[0]=upperCase.call(pa[0]);switch(r[0]){case "A":r[1]=pa[1];r[2]=pa[2];r[3]=pa[3];r[4]=pa[4];r[5]=pa[5];r[6]=+(pa[6]+x);r[7]=+(pa[7]+y);break;case "V":r[1]=+pa[1]+y;break;case "H":r[1]=+pa[1]+x;break;case "R":var dots=[x,y][concat](pa.slice(1));for(var j=
2,jj=dots.length;j<jj;j++){dots[j]=+dots[j]+x;dots[++j]=+dots[j]+y}res.pop();res=res[concat](catmullRom2bezier(dots));break;case "M":mx=+pa[1]+x;my=+pa[2]+y;default:for(j=1,jj=pa.length;j<jj;j++)r[j]=+pa[j]+(j%2?x:y)}}else if(pa[0]=="R"){dots=[x,y][concat](pa.slice(1));res.pop();res=res[concat](catmullRom2bezier(dots));r=["R"][concat](pa.slice(-2))}else for(var k=0,kk=pa.length;k<kk;k++)r[k]=pa[k];switch(r[0]){case "Z":x=mx;y=my;break;case "H":x=r[1];break;case "V":y=r[1];break;case "M":mx=r[r.length-
2];my=r[r.length-1];default:x=r[r.length-2];y=r[r.length-1]}}res.toString=R._path2string;return res},null,pathClone),l2c=function(x1,y1,x2,y2){return[x1,y1,x2,y2,x2,y2]},q2c=function(x1,y1,ax,ay,x2,y2){var _13=1/3,_23=2/3;return[_13*x1+_23*ax,_13*y1+_23*ay,_13*x2+_23*ax,_13*y2+_23*ay,x2,y2]},a2c=function(x1,y1,rx,ry,angle,large_arc_flag,sweep_flag,x2,y2,recursive){var _120=PI*120/180,rad=PI/180*(+angle||0),res=[],xy,rotate=cacher(function(x,y,rad){var X=x*math.cos(rad)-y*math.sin(rad),Y=x*math.sin(rad)+
y*math.cos(rad);return{x:X,y:Y}});if(!recursive){xy=rotate(x1,y1,-rad);x1=xy.x;y1=xy.y;xy=rotate(x2,y2,-rad);x2=xy.x;y2=xy.y;var cos=math.cos(PI/180*angle),sin=math.sin(PI/180*angle),x=(x1-x2)/2,y=(y1-y2)/2;var h=x*x/(rx*rx)+y*y/(ry*ry);if(h>1){h=math.sqrt(h);rx=h*rx;ry=h*ry}var rx2=rx*rx,ry2=ry*ry,k=(large_arc_flag==sweep_flag?-1:1)*math.sqrt(abs((rx2*ry2-rx2*y*y-ry2*x*x)/(rx2*y*y+ry2*x*x))),cx=k*rx*y/ry+(x1+x2)/2,cy=k*-ry*x/rx+(y1+y2)/2,f1=math.asin(((y1-cy)/ry).toFixed(9)),f2=math.asin(((y2-cy)/
ry).toFixed(9));f1=x1<cx?PI-f1:f1;f2=x2<cx?PI-f2:f2;f1<0&&(f1=PI*2+f1);f2<0&&(f2=PI*2+f2);if(sweep_flag&&f1>f2)f1=f1-PI*2;if(!sweep_flag&&f2>f1)f2=f2-PI*2}else{f1=recursive[0];f2=recursive[1];cx=recursive[2];cy=recursive[3]}var df=f2-f1;if(abs(df)>_120){var f2old=f2,x2old=x2,y2old=y2;f2=f1+_120*(sweep_flag&&f2>f1?1:-1);x2=cx+rx*math.cos(f2);y2=cy+ry*math.sin(f2);res=a2c(x2,y2,rx,ry,angle,0,sweep_flag,x2old,y2old,[f2,f2old,cx,cy])}df=f2-f1;var c1=math.cos(f1),s1=math.sin(f1),c2=math.cos(f2),s2=math.sin(f2),
t=math.tan(df/4),hx=4/3*rx*t,hy=4/3*ry*t,m1=[x1,y1],m2=[x1+hx*s1,y1-hy*c1],m3=[x2+hx*s2,y2-hy*c2],m4=[x2,y2];m2[0]=2*m1[0]-m2[0];m2[1]=2*m1[1]-m2[1];if(recursive)return[m2,m3,m4][concat](res);else{res=[m2,m3,m4][concat](res).join()[split](",");var newres=[];for(var i=0,ii=res.length;i<ii;i++)newres[i]=i%2?rotate(res[i-1],res[i],rad).y:rotate(res[i],res[i+1],rad).x;return newres}},findDotAtSegment=function(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,t){var t1=1-t;return{x:pow(t1,3)*p1x+pow(t1,2)*3*t*c1x+t1*3*
t*t*c2x+pow(t,3)*p2x,y:pow(t1,3)*p1y+pow(t1,2)*3*t*c1y+t1*3*t*t*c2y+pow(t,3)*p2y}},curveDim=cacher(function(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y){var a=c2x-2*c1x+p1x-(p2x-2*c2x+c1x),b=2*(c1x-p1x)-2*(c2x-c1x),c=p1x-c1x,t1=(-b+math.sqrt(b*b-4*a*c))/2/a,t2=(-b-math.sqrt(b*b-4*a*c))/2/a,y=[p1y,p2y],x=[p1x,p2x],dot;abs(t1)>"1e12"&&(t1=0.5);abs(t2)>"1e12"&&(t2=0.5);if(t1>0&&t1<1){dot=findDotAtSegment(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,t1);x.push(dot.x);y.push(dot.y)}if(t2>0&&t2<1){dot=findDotAtSegment(p1x,p1y,
c1x,c1y,c2x,c2y,p2x,p2y,t2);x.push(dot.x);y.push(dot.y)}a=c2y-2*c1y+p1y-(p2y-2*c2y+c1y);b=2*(c1y-p1y)-2*(c2y-c1y);c=p1y-c1y;t1=(-b+math.sqrt(b*b-4*a*c))/2/a;t2=(-b-math.sqrt(b*b-4*a*c))/2/a;abs(t1)>"1e12"&&(t1=0.5);abs(t2)>"1e12"&&(t2=0.5);if(t1>0&&t1<1){dot=findDotAtSegment(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,t1);x.push(dot.x);y.push(dot.y)}if(t2>0&&t2<1){dot=findDotAtSegment(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,t2);x.push(dot.x);y.push(dot.y)}return{min:{x:mmin[apply](0,x),y:mmin[apply](0,y)},max:{x:mmax[apply](0,
x),y:mmax[apply](0,y)}}}),path2curve=R._path2curve=cacher(function(path,path2){var p=pathToAbsolute(path),p2=path2&&pathToAbsolute(path2),attrs={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},attrs2={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},processPath=function(path,d){var nx,ny;if(!path)return["C",d.x,d.y,d.x,d.y,d.x,d.y];!(path[0]in{T:1,Q:1})&&(d.qx=d.qy=null);switch(path[0]){case "M":d.X=path[1];d.Y=path[2];break;case "A":path=["C"][concat](a2c[apply](0,[d.x,d.y][concat](path.slice(1))));break;case "S":nx=
d.x+(d.x-(d.bx||d.x));ny=d.y+(d.y-(d.by||d.y));path=["C",nx,ny][concat](path.slice(1));break;case "T":d.qx=d.x+(d.x-(d.qx||d.x));d.qy=d.y+(d.y-(d.qy||d.y));path=["C"][concat](q2c(d.x,d.y,d.qx,d.qy,path[1],path[2]));break;case "Q":d.qx=path[1];d.qy=path[2];path=["C"][concat](q2c(d.x,d.y,path[1],path[2],path[3],path[4]));break;case "L":path=["C"][concat](l2c(d.x,d.y,path[1],path[2]));break;case "H":path=["C"][concat](l2c(d.x,d.y,path[1],d.y));break;case "V":path=["C"][concat](l2c(d.x,d.y,d.x,path[1]));
break;case "Z":path=["C"][concat](l2c(d.x,d.y,d.X,d.Y));break}return path},fixArc=function(pp,i){if(pp[i].length>7){pp[i].shift();var pi=pp[i];while(pi.length)pp.splice(i++,0,["C"][concat](pi.splice(0,6)));pp.splice(i,1);ii=mmax(p.length,p2&&p2.length||0)}},fixM=function(path1,path2,a1,a2,i){if(path1&&path2&&path1[i][0]=="M"&&path2[i][0]!="M"){path2.splice(i,0,["M",a2.x,a2.y]);a1.bx=0;a1.by=0;a1.x=path1[i][1];a1.y=path1[i][2];ii=mmax(p.length,p2&&p2.length||0)}};for(var i=0,ii=mmax(p.length,p2&&p2.length||
0);i<ii;i++){p[i]=processPath(p[i],attrs);fixArc(p,i);p2&&(p2[i]=processPath(p2[i],attrs2));p2&&fixArc(p2,i);fixM(p,p2,attrs,attrs2,i);fixM(p2,p,attrs2,attrs,i);var seg=p[i],seg2=p2&&p2[i],seglen=seg.length,seg2len=p2&&seg2.length;attrs.x=seg[seglen-2];attrs.y=seg[seglen-1];attrs.bx=toFloat(seg[seglen-4])||attrs.x;attrs.by=toFloat(seg[seglen-3])||attrs.y;attrs2.bx=p2&&(toFloat(seg2[seg2len-4])||attrs2.x);attrs2.by=p2&&(toFloat(seg2[seg2len-3])||attrs2.y);attrs2.x=p2&&seg2[seg2len-2];attrs2.y=p2&&
seg2[seg2len-1]}return p2?[p,p2]:p},null,pathClone),parseDots=R._parseDots=cacher(function(gradient){var dots=[];for(var i=0,ii=gradient.length;i<ii;i++){var dot={},par=gradient[i].match(/^([^:]*):?([\d\.]*)/);dot.color=R.getRGB(par[1]);if(dot.color.error)return null;dot.color=dot.color.hex;par[2]&&(dot.offset=par[2]+"%");dots.push(dot)}for(i=1,ii=dots.length-1;i<ii;i++)if(!dots[i].offset){var start=toFloat(dots[i-1].offset||0),end=0;for(var j=i+1;j<ii;j++)if(dots[j].offset){end=dots[j].offset;break}if(!end){end=
100;j=ii}end=toFloat(end);var d=(end-start)/(j-i+1);for(;i<j;i++){start+=d;dots[i].offset=start+"%"}}return dots}),tear=R._tear=function(el,paper){el==paper.top&&(paper.top=el.prev);el==paper.bottom&&(paper.bottom=el.next);el.next&&(el.next.prev=el.prev);el.prev&&(el.prev.next=el.next)},tofront=R._tofront=function(el,paper){if(paper.top===el)return;tear(el,paper);el.next=null;el.prev=paper.top;paper.top.next=el;paper.top=el},toback=R._toback=function(el,paper){if(paper.bottom===el)return;tear(el,
paper);el.next=paper.bottom;el.prev=null;paper.bottom.prev=el;paper.bottom=el},insertafter=R._insertafter=function(el,el2,paper){tear(el,paper);el2==paper.top&&(paper.top=el);el2.next&&(el2.next.prev=el);el.next=el2.next;el.prev=el2;el2.next=el},insertbefore=R._insertbefore=function(el,el2,paper){tear(el,paper);el2==paper.bottom&&(paper.bottom=el);el2.prev&&(el2.prev.next=el);el.prev=el2.prev;el2.prev=el;el.next=el2},removed=function(methodname){return function(){throw new Error("Rapha\u00ebl: you are calling to method \u201c"+
methodname+"\u201d of removed object");}},extractTransform=R._extractTransform=function(el,tstr){if(tstr==null)return el._.transform;tstr=Str(tstr).replace(/\.{3}|\u2026/g,el._.transform||E);var tdata=R.parseTransformString(tstr),deg=0,dx=0,dy=0,sx=1,sy=1,_=el._,m=new Matrix;_.transform=tdata||[];if(tdata)for(var i=0,ii=tdata.length;i<ii;i++){var t=tdata[i],tlen=t.length,command=Str(t[0]).toLowerCase(),absolute=t[0]!=command,inver=absolute?m.invert():0,x1,y1,x2,y2,bb;if(command=="t"&&tlen==3)if(absolute){x1=
inver.x(0,0);y1=inver.y(0,0);x2=inver.x(t[1],t[2]);y2=inver.y(t[1],t[2]);m.translate(x2-x1,y2-y1)}else m.translate(t[1],t[2]);else if(command=="r")if(tlen==2){bb=bb||el.getBBox(1);m.rotate(t[1],bb.x+bb.width/2,bb.y+bb.height/2);deg+=t[1]}else{if(tlen==4){if(absolute){x2=inver.x(t[2],t[3]);y2=inver.y(t[2],t[3]);m.rotate(t[1],x2,y2)}else m.rotate(t[1],t[2],t[3]);deg+=t[1]}}else if(command=="s")if(tlen==2||tlen==3){bb=bb||el.getBBox(1);m.scale(t[1],t[tlen-1],bb.x+bb.width/2,bb.y+bb.height/2);sx*=t[1];
sy*=t[tlen-1]}else{if(tlen==5){if(absolute){x2=inver.x(t[3],t[4]);y2=inver.y(t[3],t[4]);m.scale(t[1],t[2],x2,y2)}else m.scale(t[1],t[2],t[3],t[4]);sx*=t[1];sy*=t[2]}}else if(command=="m"&&tlen==7)m.add(t[1],t[2],t[3],t[4],t[5],t[6]);_.dirtyT=1;el.matrix=m}el.matrix=m;_.sx=sx;_.sy=sy;_.deg=deg;_.dx=dx=m.e;_.dy=dy=m.f;if(sx==1&&sy==1&&!deg&&_.bbox){_.bbox.x+=+dx;_.bbox.y+=+dy}else _.dirtyT=1},getEmpty=function(item){var l=item[0];switch(l.toLowerCase()){case "t":return[l,0,0];case "m":return[l,1,0,
0,1,0,0];case "r":if(item.length==4)return[l,0,item[2],item[3]];else return[l,0];case "s":if(item.length==5)return[l,1,1,item[3],item[4]];else if(item.length==3)return[l,1,1];else return[l,1]}},equaliseTransform=R._equaliseTransform=function(t1,t2){t2=Str(t2).replace(/\.{3}|\u2026/g,t1);t1=R.parseTransformString(t1)||[];t2=R.parseTransformString(t2)||[];var maxlength=mmax(t1.length,t2.length),from=[],to=[],i=0,j,jj,tt1,tt2;for(;i<maxlength;i++){tt1=t1[i]||getEmpty(t2[i]);tt2=t2[i]||getEmpty(tt1);
if(tt1[0]!=tt2[0]||tt1[0].toLowerCase()=="r"&&(tt1[2]!=tt2[2]||tt1[3]!=tt2[3])||tt1[0].toLowerCase()=="s"&&(tt1[3]!=tt2[3]||tt1[4]!=tt2[4]))return;from[i]=[];to[i]=[];for(j=0,jj=mmax(tt1.length,tt2.length);j<jj;j++){j in tt1&&(from[i][j]=tt1[j]);j in tt2&&(to[i][j]=tt2[j])}}return{from:from,to:to}};R._getContainer=function(x,y,w,h){var container;container=h==null&&!R.is(x,"object")?g.doc.getElementById(x):x;if(container==null)return;if(container.tagName)if(y==null)return{container:container,width:container.style.pixelWidth||
container.offsetWidth,height:container.style.pixelHeight||container.offsetHeight};else return{container:container,width:y,height:w};return{container:1,x:x,y:y,width:w,height:h}};R.pathToRelative=pathToRelative;R._engine={};R.path2curve=path2curve;R.matrix=function(a,b,c,d,e,f){return new Matrix(a,b,c,d,e,f)};function Matrix(a,b,c,d,e,f){if(a!=null){this.a=+a;this.b=+b;this.c=+c;this.d=+d;this.e=+e;this.f=+f}else{this.a=1;this.b=0;this.c=0;this.d=1;this.e=0;this.f=0}}(function(matrixproto){matrixproto.add=
function(a,b,c,d,e,f){var out=[[],[],[]],m=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],matrix=[[a,c,e],[b,d,f],[0,0,1]],x,y,z,res;if(a&&a instanceof Matrix)matrix=[[a.a,a.c,a.e],[a.b,a.d,a.f],[0,0,1]];for(x=0;x<3;x++)for(y=0;y<3;y++){res=0;for(z=0;z<3;z++)res+=m[x][z]*matrix[z][y];out[x][y]=res}this.a=out[0][0];this.b=out[1][0];this.c=out[0][1];this.d=out[1][1];this.e=out[0][2];this.f=out[1][2]};matrixproto.invert=function(){var me=this,x=me.a*me.d-me.b*me.c;return new Matrix(me.d/x,-me.b/
x,-me.c/x,me.a/x,(me.c*me.f-me.d*me.e)/x,(me.b*me.e-me.a*me.f)/x)};matrixproto.clone=function(){return new Matrix(this.a,this.b,this.c,this.d,this.e,this.f)};matrixproto.translate=function(x,y){this.add(1,0,0,1,x,y)};matrixproto.scale=function(x,y,cx,cy){y==null&&(y=x);(cx||cy)&&this.add(1,0,0,1,cx,cy);this.add(x,0,0,y,0,0);(cx||cy)&&this.add(1,0,0,1,-cx,-cy)};matrixproto.rotate=function(a,x,y){a=R.rad(a);x=x||0;y=y||0;var cos=+math.cos(a).toFixed(9),sin=+math.sin(a).toFixed(9);this.add(cos,sin,-sin,
cos,x,y);this.add(1,0,0,1,-x,-y)};matrixproto.x=function(x,y){return x*this.a+y*this.c+this.e};matrixproto.y=function(x,y){return x*this.b+y*this.d+this.f};matrixproto.get=function(i){return+this[Str.fromCharCode(97+i)].toFixed(4)};matrixproto.toString=function(){return R.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()};matrixproto.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+
this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"};matrixproto.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]};function norm(a){return a[0]*a[0]+a[1]*a[1]}function normalize(a){var mag=math.sqrt(norm(a));a[0]&&(a[0]/=mag);a[1]&&(a[1]/=mag)}matrixproto.split=function(){var out={};out.dx=this.e;out.dy=this.f;var row=[[this.a,this.c],[this.b,this.d]];out.scalex=math.sqrt(norm(row[0]));normalize(row[0]);
out.shear=row[0][0]*row[1][0]+row[0][1]*row[1][1];row[1]=[row[1][0]-row[0][0]*out.shear,row[1][1]-row[0][1]*out.shear];out.scaley=math.sqrt(norm(row[1]));normalize(row[1]);out.shear/=out.scaley;var sin=-row[0][1],cos=row[1][1];if(cos<0){out.rotate=R.deg(math.acos(cos));if(sin<0)out.rotate=360-out.rotate}else out.rotate=R.deg(math.asin(sin));out.isSimple=!+out.shear.toFixed(9)&&(out.scalex.toFixed(9)==out.scaley.toFixed(9)||!out.rotate);out.isSuperSimple=!+out.shear.toFixed(9)&&out.scalex.toFixed(9)==
out.scaley.toFixed(9)&&!out.rotate;out.noRotation=!+out.shear.toFixed(9)&&!out.rotate;return out};matrixproto.toTransformString=function(shorter){var s=shorter||this[split]();if(s.isSimple)return"t"+[s.dx,s.dy]+"s"+[s.scalex,s.scaley,0,0]+"r"+[s.rotate,0,0];else return"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}})(Matrix.prototype);var version=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);if(navigator.vendor=="Apple Computer, Inc."&&
(version&&version[1]<4||navigator.platform.slice(0,2)=="iP")||navigator.vendor=="Google Inc."&&version&&version[1]<8)paperproto.safari=function(){var rect=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){rect.remove()})};else paperproto.safari=fun;var preventDefault=function(){this.returnValue=false},preventTouch=function(){return this.originalEvent.preventDefault()},stopPropagation=function(){this.cancelBubble=true},stopTouch=function(){return this.originalEvent.stopPropagation()},
addEvent=function(){if(g.doc.addEventListener)return function(obj,type,fn,element){var realName=supportsTouch&&touchMap[type]?touchMap[type]:type,f=function(e){var scrollY=g.doc.documentElement.scrollTop||g.doc.body.scrollTop,scrollX=g.doc.documentElement.scrollLeft||g.doc.body.scrollLeft,x=e.clientX+scrollX,y=e.clientY+scrollY;if(supportsTouch&&touchMap[has](type))for(var i=0,ii=e.targetTouches&&e.targetTouches.length;i<ii;i++)if(e.targetTouches[i].target==obj){var olde=e;e=e.targetTouches[i];e.originalEvent=
olde;e.preventDefault=preventTouch;e.stopPropagation=stopTouch;break}return fn.call(element,e,x,y)};obj.addEventListener(realName,f,false);return function(){obj.removeEventListener(realName,f,false);return true}};else if(g.doc.attachEvent)return function(obj,type,fn,element){var f=function(e){e=e||g.win.event;var scrollY=g.doc.documentElement.scrollTop||g.doc.body.scrollTop,scrollX=g.doc.documentElement.scrollLeft||g.doc.body.scrollLeft,x=e.clientX+scrollX,y=e.clientY+scrollY;e.preventDefault=e.preventDefault||
preventDefault;e.stopPropagation=e.stopPropagation||stopPropagation;return fn.call(element,e,x,y)};obj.attachEvent("on"+type,f);var detacher=function(){obj.detachEvent("on"+type,f);return true};return detacher}}(),drag=[],dragMove=function(e){var x=e.clientX,y=e.clientY,scrollY=g.doc.documentElement.scrollTop||g.doc.body.scrollTop,scrollX=g.doc.documentElement.scrollLeft||g.doc.body.scrollLeft,dragi,j=drag.length;while(j--){dragi=drag[j];if(dragi.el.removed){drag=[];return}if(supportsTouch){var i=
e.touches.length,touch;while(i--){touch=e.touches[i];if(touch.identifier==dragi.el._drag.id){x=touch.clientX;y=touch.clientY;(e.originalEvent?e.originalEvent:e).preventDefault();break}}}else e.preventDefault();var node=dragi.el.node,o,next=node.nextSibling,parent=node.parentNode,display=node.style.display;g.win.opera&&parent.removeChild(node);node.style.display="none";o=dragi.el.paper.getElementByPoint(x,y);node.style.display=display;g.win.opera&&(next?parent.insertBefore(node,next):parent.appendChild(node));
o&&eve("drag.over."+dragi.el.id,dragi.el,o);x+=scrollX;y+=scrollY;eve("drag.move."+dragi.el.id,dragi.move_scope||dragi.el,x-dragi.el._drag.x,y-dragi.el._drag.y,x,y,e)}},dragUp=function(e){R.unmousemove(dragMove).unmouseup(dragUp);var i=drag.length,dragi;while(i--){dragi=drag[i];dragi.el._drag={};if(dragi.el.removed)continue;eve("drag.end."+dragi.el.id,dragi.end_scope||dragi.start_scope||dragi.move_scope||dragi.el,e)}drag=[]},elproto=R.el={};for(var i=events.length;i--;)(function(eventName){R[eventName]=
elproto[eventName]=function(fn,scope){if(R.is(fn,"function")){this.events=this.events||[];this.events.push({name:eventName,f:fn,unbind:addEvent(this.shape||this.node||g.doc,eventName,fn,scope||this)})}return this};R["un"+eventName]=elproto["un"+eventName]=function(fn){var events=this.events,l=events.length;while(l--)if(events[l].name==eventName&&events[l].f==fn){events[l].unbind();events.splice(l,1);!events.length&&delete this.events;return this}return this}})(events[i]);elproto.data=function(key,
value){var data=eldata[this.id]=eldata[this.id]||{};if(arguments.length==1){if(R.is(key,"object")){for(var i in key)if(key[has](i))this.data(i,key[i]);return this}eve("data.get."+this.id,this,data[key],key);return data[key]}data[key]=value;eve("data.set."+this.id,this,value,key);return this};elproto.removeData=function(key){if(key==null)eldata[this.id]={};else eldata[this.id]&&delete eldata[this.id][key];return this};elproto.hover=function(f_in,f_out,scope_in,scope_out){return this.mouseover(f_in,
scope_in).mouseout(f_out,scope_out||scope_in)};elproto.unhover=function(f_in,f_out){return this.unmouseover(f_in).unmouseout(f_out)};elproto.drag=function(onmove,onstart,onend,move_scope,start_scope,end_scope){function start(e){(e.originalEvent||e).preventDefault();var scrollY=g.doc.documentElement.scrollTop||g.doc.body.scrollTop,scrollX=g.doc.documentElement.scrollLeft||g.doc.body.scrollLeft;this._drag.x=e.clientX+scrollX;this._drag.y=e.clientY+scrollY;this._drag.id=e.identifier;!drag.length&&R.mousemove(dragMove).mouseup(dragUp);
drag.push({el:this,move_scope:move_scope,start_scope:start_scope,end_scope:end_scope});onstart&&eve.on("drag.start."+this.id,onstart);onmove&&eve.on("drag.move."+this.id,onmove);onend&&eve.on("drag.end."+this.id,onend);eve("drag.start."+this.id,start_scope||move_scope||this,e.clientX+scrollX,e.clientY+scrollY,e)}this._drag={};this.mousedown(start);return this};elproto.onDragOver=function(f){f?eve.on("drag.over."+this.id,f):eve.unbind("drag.over."+this.id)};elproto.undrag=function(){var i=drag.length;
while(i--)if(drag[i].el==this){R.unmousedown(drag[i].start);drag.splice(i++,1);eve.unbind("drag.*."+this.id)}!drag.length&&R.unmousemove(dragMove).unmouseup(dragUp)};paperproto.circle=function(x,y,r){var out=R._engine.circle(this,x||0,y||0,r||0);this.__set__&&this.__set__.push(out);return out};paperproto.rect=function(x,y,w,h,r){var out=R._engine.rect(this,x||0,y||0,w||0,h||0,r||0);this.__set__&&this.__set__.push(out);return out};paperproto.ellipse=function(x,y,rx,ry){var out=R._engine.ellipse(this,
x||0,y||0,rx||0,ry||0);this.__set__&&this.__set__.push(out);return out};paperproto.path=function(pathString){pathString&&!R.is(pathString,string)&&!R.is(pathString[0],array)&&(pathString+=E);var out=R._engine.path(R.format[apply](R,arguments),this);this.__set__&&this.__set__.push(out);return out};paperproto.image=function(src,x,y,w,h){var out=R._engine.image(this,src||"about:blank",x||0,y||0,w||0,h||0);this.__set__&&this.__set__.push(out);return out};paperproto.text=function(x,y,text){var out=R._engine.text(this,
x||0,y||0,Str(text));this.__set__&&this.__set__.push(out);return out};paperproto.set=function(itemsArray){!R.is(itemsArray,"array")&&(itemsArray=Array.prototype.splice.call(arguments,0,arguments.length));var out=new Set(itemsArray);this.__set__&&this.__set__.push(out);return out};paperproto.setStart=function(set){this.__set__=set||this.set()};paperproto.setFinish=function(set){var out=this.__set__;delete this.__set__;return out};paperproto.setSize=function(width,height){return R._engine.setSize.call(this,
width,height)};paperproto.setViewBox=function(x,y,w,h,fit){return R._engine.setViewBox.call(this,x,y,w,h,fit)};paperproto.top=paperproto.bottom=null;paperproto.raphael=R;var getOffset=function(elem){var box=elem.getBoundingClientRect(),doc=elem.ownerDocument,body=doc.body,docElem=doc.documentElement,clientTop=docElem.clientTop||body.clientTop||0,clientLeft=docElem.clientLeft||body.clientLeft||0,top=box.top+(g.win.pageYOffset||docElem.scrollTop||body.scrollTop)-clientTop,left=box.left+(g.win.pageXOffset||
docElem.scrollLeft||body.scrollLeft)-clientLeft;return{y:top,x:left}};paperproto.getElementByPoint=function(x,y){var paper=this,svg=paper.canvas,target=g.doc.elementFromPoint(x,y);if(g.win.opera&&target.tagName=="svg"){var so=getOffset(svg),sr=svg.createSVGRect();sr.x=x-so.x;sr.y=y-so.y;sr.width=sr.height=1;var hits=svg.getIntersectionList(sr,null);if(hits.length)target=hits[hits.length-1]}if(!target)return null;while(target.parentNode&&target!=svg.parentNode&&!target.raphael)target=target.parentNode;
target==paper.canvas.parentNode&&(target=svg);target=target&&target.raphael?paper.getById(target.raphaelid):null;return target};paperproto.getById=function(id){var bot=this.bottom;while(bot){if(bot.id==id)return bot;bot=bot.next}return null};paperproto.forEach=function(callback,thisArg){var bot=this.bottom;while(bot){if(callback.call(thisArg,bot)===false)return this;bot=bot.next}return this};function x_y(){return this.x+S+this.y}function x_y_w_h(){return this.x+S+this.y+S+this.width+" \u00d7 "+this.height}
elproto.getBBox=function(isWithoutTransform){if(this.removed)return{};var _=this._;if(isWithoutTransform){if(_.dirty||!_.bboxwt){this.realPath=getPath[this.type](this);_.bboxwt=pathDimensions(this.realPath);_.bboxwt.toString=x_y_w_h;_.dirty=0}return _.bboxwt}if(_.dirty||_.dirtyT||!_.bbox){if(_.dirty||!this.realPath){_.bboxwt=0;this.realPath=getPath[this.type](this)}_.bbox=pathDimensions(mapPath(this.realPath,this.matrix));_.bbox.toString=x_y_w_h;_.dirty=_.dirtyT=0}return _.bbox};elproto.clone=function(){if(this.removed)return null;
var out=this.paper[this.type]().attr(this.attr());this.__set__&&this.__set__.push(out);return out};elproto.glow=function(glow){if(this.type=="text")return null;glow=glow||{};var s={width:(glow.width||10)+(+this.attr("stroke-width")||1),fill:glow.fill||false,opacity:glow.opacity||0.5,offsetx:glow.offsetx||0,offsety:glow.offsety||0,color:glow.color||"#000"},c=s.width/2,r=this.paper,out=r.set(),path=this.realPath||getPath[this.type](this);path=this.matrix?mapPath(path,this.matrix):path;for(var i=1;i<
c+1;i++)out.push(r.path(path).attr({stroke:s.color,fill:s.fill?s.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(s.width/c*i).toFixed(3),opacity:+(s.opacity/c).toFixed(3)}));return out.insertBefore(this).translate(s.offsetx,s.offsety)};var curveslengths={},getPointAtSegmentLength=function(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,length){var len=0,precision=100,name=[p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y].join(),cache=curveslengths[name],old,dot;!cache&&(curveslengths[name]=cache=
{data:[]});cache.timer&&clearTimeout(cache.timer);cache.timer=setTimeout(function(){delete curveslengths[name]},2E3);if(length!=null&&!cache.precision){var total=getPointAtSegmentLength(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y);cache.precision=~~total*10;cache.data=[]}precision=cache.precision||precision;for(var i=0;i<precision+1;i++){if(cache.data[i*precision])dot=cache.data[i*precision];else{dot=R.findDotsAtSegment(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,i/precision);cache.data[i*precision]=dot}i&&(len+=pow(pow(old.x-
dot.x,2)+pow(old.y-dot.y,2),0.5));if(length!=null&&len>=length)return dot;old=dot}if(length==null)return len},getLengthFactory=function(istotal,subpath){return function(path,length,onlystart){path=path2curve(path);var x,y,p,l,sp="",subpaths={},point,len=0;for(var i=0,ii=path.length;i<ii;i++){p=path[i];if(p[0]=="M"){x=+p[1];y=+p[2]}else{l=getPointAtSegmentLength(x,y,p[1],p[2],p[3],p[4],p[5],p[6]);if(len+l>length){if(subpath&&!subpaths.start){point=getPointAtSegmentLength(x,y,p[1],p[2],p[3],p[4],p[5],
p[6],length-len);sp+=["C"+point.start.x,point.start.y,point.m.x,point.m.y,point.x,point.y];if(onlystart)return sp;subpaths.start=sp;sp=["M"+point.x,point.y+"C"+point.n.x,point.n.y,point.end.x,point.end.y,p[5],p[6]].join();len+=l;x=+p[5];y=+p[6];continue}if(!istotal&&!subpath){point=getPointAtSegmentLength(x,y,p[1],p[2],p[3],p[4],p[5],p[6],length-len);return{x:point.x,y:point.y,alpha:point.alpha}}}len+=l;x=+p[5];y=+p[6]}sp+=p.shift()+p}subpaths.end=sp;point=istotal?len:subpath?subpaths:R.findDotsAtSegment(x,
y,p[0],p[1],p[2],p[3],p[4],p[5],1);point.alpha&&(point={x:point.x,y:point.y,alpha:point.alpha});return point}};var getTotalLength=getLengthFactory(1),getPointAtLength=getLengthFactory(),getSubpathsAtLength=getLengthFactory(0,1);R.getTotalLength=getTotalLength;R.getPointAtLength=getPointAtLength;R.getSubpath=function(path,from,to){if(this.getTotalLength(path)-to<1.0E-6)return getSubpathsAtLength(path,from).end;var a=getSubpathsAtLength(path,to,1);return from?getSubpathsAtLength(a,from).end:a};elproto.getTotalLength=
function(){if(this.type!="path")return;if(this.node.getTotalLength)return this.node.getTotalLength();return getTotalLength(this.attrs.path)};elproto.getPointAtLength=function(length){if(this.type!="path")return;return getPointAtLength(this.attrs.path,length)};elproto.getSubpath=function(from,to){if(this.type!="path")return;return R.getSubpath(this.attrs.path,from,to)};var ef=R.easing_formulas={linear:function(n){return n},"<":function(n){return pow(n,1.7)},">":function(n){return pow(n,0.48)},"<>":function(n){var q=
0.48-n/1.04,Q=math.sqrt(0.1734+q*q),x=Q-q,X=pow(abs(x),1/3)*(x<0?-1:1),y=-Q-q,Y=pow(abs(y),1/3)*(y<0?-1:1),t=X+Y+0.5;return(1-t)*3*t*t+t*t*t},backIn:function(n){var s=1.70158;return n*n*((s+1)*n-s)},backOut:function(n){n=n-1;var s=1.70158;return n*n*((s+1)*n+s)+1},elastic:function(n){if(n==!!n)return n;return pow(2,-10*n)*math.sin((n-0.075)*2*PI/0.3)+1},bounce:function(n){var s=7.5625,p=2.75,l;if(n<1/p)l=s*n*n;else if(n<2/p){n-=1.5/p;l=s*n*n+0.75}else if(n<2.5/p){n-=2.25/p;l=s*n*n+0.9375}else{n-=
2.625/p;l=s*n*n+0.984375}return l}};ef.easeIn=ef["ease-in"]=ef["<"];ef.easeOut=ef["ease-out"]=ef[">"];ef.easeInOut=ef["ease-in-out"]=ef["<>"];ef["back-in"]=ef.backIn;ef["back-out"]=ef.backOut;var animationElements=[],requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){setTimeout(callback,16)},animation=function(){var Now=+new Date,l=0;for(;l<animationElements.length;l++){var e=
animationElements[l];if(e.el.removed||e.paused)continue;var time=Now-e.start,ms=e.ms,easing=e.easing,from=e.from,diff=e.diff,to=e.to,t=e.t,that=e.el,set={},now,init={},key;if(e.initstatus){time=(e.initstatus*e.anim.top-e.prev)/(e.percent-e.prev)*ms;e.status=e.initstatus;delete e.initstatus;e.stop&&animationElements.splice(l--,1)}else e.status=(e.prev+(e.percent-e.prev)*(time/ms))/e.anim.top;if(time<0)continue;if(time<ms){var pos=easing(time/ms);for(var attr in from)if(from[has](attr)){switch(availableAnimAttrs[attr]){case nu:now=
+from[attr]+pos*ms*diff[attr];break;case "colour":now="rgb("+[upto255(round(from[attr].r+pos*ms*diff[attr].r)),upto255(round(from[attr].g+pos*ms*diff[attr].g)),upto255(round(from[attr].b+pos*ms*diff[attr].b))].join(",")+")";break;case "path":now=[];for(var i=0,ii=from[attr].length;i<ii;i++){now[i]=[from[attr][i][0]];for(var j=1,jj=from[attr][i].length;j<jj;j++)now[i][j]=+from[attr][i][j]+pos*ms*diff[attr][i][j];now[i]=now[i].join(S)}now=now.join(S);break;case "transform":if(diff[attr].real){now=[];
for(i=0,ii=from[attr].length;i<ii;i++){now[i]=[from[attr][i][0]];for(j=1,jj=from[attr][i].length;j<jj;j++)now[i][j]=from[attr][i][j]+pos*ms*diff[attr][i][j]}}else{var get=function(i){return+from[attr][i]+pos*ms*diff[attr][i]};now=[["m",get(0),get(1),get(2),get(3),get(4),get(5)]]}break;case "csv":if(attr=="clip-rect"){now=[];i=4;while(i--)now[i]=+from[attr][i]+pos*ms*diff[attr][i]}break;default:var from2=[][concat](from[attr]);now=[];i=that.paper.customAttributes[attr].length;while(i--)now[i]=+from2[i]+
pos*ms*diff[attr][i];break}set[attr]=now}that.attr(set);(function(id,that,anim){setTimeout(function(){eve("anim.frame."+id,that,anim)})})(that.id,that,e.anim)}else{(function(f,el,a){setTimeout(function(){eve("anim.frame."+el.id,el,a);eve("anim.finish."+el.id,el,a);R.is(f,"function")&&f.call(el)})})(e.callback,that,e.anim);that.attr(to);animationElements.splice(l--,1);if(e.repeat>1&&!e.next){for(key in to)if(to[has](key))init[key]=e.totalOrigin[key];e.el.attr(init);runAnimation(e.anim,e.el,e.anim.percents[0],
null,e.totalOrigin,e.repeat-1)}if(e.next&&!e.stop)runAnimation(e.anim,e.el,e.next,null,e.totalOrigin,e.repeat)}}R.svg&&that&&that.paper&&that.paper.safari();animationElements.length&&requestAnimFrame(animation)},upto255=function(color){return color>255?255:color<0?0:color};elproto.animateWith=function(element,anim,params,ms,easing,callback){var a=params?R.animation(params,ms,easing,callback):anim;status=element.status(anim);return this.animate(a).status(a,status*anim.ms/a.ms)};function CubicBezierAtTime(t,
p1x,p1y,p2x,p2y,duration){var cx=3*p1x,bx=3*(p2x-p1x)-cx,ax=1-cx-bx,cy=3*p1y,by=3*(p2y-p1y)-cy,ay=1-cy-by;function sampleCurveX(t){return((ax*t+bx)*t+cx)*t}function solve(x,epsilon){var t=solveCurveX(x,epsilon);return((ay*t+by)*t+cy)*t}function solveCurveX(x,epsilon){var t0,t1,t2,x2,d2,i;for(t2=x,i=0;i<8;i++){x2=sampleCurveX(t2)-x;if(abs(x2)<epsilon)return t2;d2=(3*ax*t2+2*bx)*t2+cx;if(abs(d2)<1.0E-6)break;t2=t2-x2/d2}t0=0;t1=1;t2=x;if(t2<t0)return t0;if(t2>t1)return t1;while(t0<t1){x2=sampleCurveX(t2);
if(abs(x2-x)<epsilon)return t2;if(x>x2)t0=t2;else t1=t2;t2=(t1-t0)/2+t0}return t2}return solve(t,1/(200*duration))}elproto.onAnimation=function(f){f?eve.on("anim.frame."+this.id,f):eve.unbind("anim.frame."+this.id);return this};function Animation(anim,ms){var percents=[],newAnim={};this.ms=ms;this.times=1;if(anim){for(var attr in anim)if(anim[has](attr)){newAnim[toFloat(attr)]=anim[attr];percents.push(toFloat(attr))}percents.sort(sortByNumber)}this.anim=newAnim;this.top=percents[percents.length-1];
this.percents=percents}Animation.prototype.delay=function(delay){var a=new Animation(this.anim,this.ms);a.times=this.times;a.del=+delay||0;return a};Animation.prototype.repeat=function(times){var a=new Animation(this.anim,this.ms);a.del=this.del;a.times=math.floor(mmax(times,0))||1;return a};function runAnimation(anim,element,percent,status,totalOrigin,times){percent=toFloat(percent);var params,isInAnim,isInAnimSet,percents=[],next,prev,timestamp,ms=anim.ms,from={},to={},diff={};if(status)for(i=0,
ii=animationElements.length;i<ii;i++){var e=animationElements[i];if(e.el.id==element.id&&e.anim==anim){if(e.percent!=percent){animationElements.splice(i,1);isInAnimSet=1}else isInAnim=e;element.attr(e.totalOrigin);break}}else status=+to;for(var i=0,ii=anim.percents.length;i<ii;i++)if(anim.percents[i]==percent||anim.percents[i]>status*anim.top){percent=anim.percents[i];prev=anim.percents[i-1]||0;ms=ms/anim.top*(percent-prev);next=anim.percents[i+1];params=anim.anim[percent];break}else if(status)element.attr(anim.anim[anim.percents[i]]);
if(!params)return;if(!isInAnim){for(attr in params)if(params[has](attr))if(availableAnimAttrs[has](attr)||element.paper.customAttributes[has](attr)){from[attr]=element.attr(attr);from[attr]==null&&(from[attr]=availableAttrs[attr]);to[attr]=params[attr];switch(availableAnimAttrs[attr]){case nu:diff[attr]=(to[attr]-from[attr])/ms;break;case "colour":from[attr]=R.getRGB(from[attr]);var toColour=R.getRGB(to[attr]);diff[attr]={r:(toColour.r-from[attr].r)/ms,g:(toColour.g-from[attr].g)/ms,b:(toColour.b-
from[attr].b)/ms};break;case "path":var pathes=path2curve(from[attr],to[attr]),toPath=pathes[1];from[attr]=pathes[0];diff[attr]=[];for(i=0,ii=from[attr].length;i<ii;i++){diff[attr][i]=[0];for(var j=1,jj=from[attr][i].length;j<jj;j++)diff[attr][i][j]=(toPath[i][j]-from[attr][i][j])/ms}break;case "transform":var _=element._,eq=equaliseTransform(_[attr],to[attr]);if(eq){from[attr]=eq.from;to[attr]=eq.to;diff[attr]=[];diff[attr].real=true;for(i=0,ii=from[attr].length;i<ii;i++){diff[attr][i]=[from[attr][i][0]];
for(j=1,jj=from[attr][i].length;j<jj;j++)diff[attr][i][j]=(to[attr][i][j]-from[attr][i][j])/ms}}else{var m=element.matrix||new Matrix,to2={_:{transform:_.transform},getBBox:function(){return element.getBBox(1)}};from[attr]=[m.a,m.b,m.c,m.d,m.e,m.f];extractTransform(to2,to[attr]);to[attr]=to2._.transform;diff[attr]=[(to2.matrix.a-m.a)/ms,(to2.matrix.b-m.b)/ms,(to2.matrix.c-m.c)/ms,(to2.matrix.d-m.d)/ms,(to2.matrix.e-m.e)/ms,(to2.matrix.e-m.f)/ms]}break;case "csv":var values=Str(params[attr])[split](separator),
from2=Str(from[attr])[split](separator);if(attr=="clip-rect"){from[attr]=from2;diff[attr]=[];i=from2.length;while(i--)diff[attr][i]=(values[i]-from[attr][i])/ms}to[attr]=values;break;default:values=[][concat](params[attr]);from2=[][concat](from[attr]);diff[attr]=[];i=element.paper.customAttributes[attr].length;while(i--)diff[attr][i]=((values[i]||0)-(from2[i]||0))/ms;break}}var easing=params.easing,easyeasy=R.easing_formulas[easing];if(!easyeasy){easyeasy=Str(easing).match(bezierrg);if(easyeasy&&
easyeasy.length==5){var curve=easyeasy;easyeasy=function(t){return CubicBezierAtTime(t,+curve[1],+curve[2],+curve[3],+curve[4],ms)}}else easyeasy=pipe}timestamp=params.start||anim.start||+new Date;e={anim:anim,percent:percent,timestamp:timestamp,start:timestamp+(anim.del||0),status:0,initstatus:status||0,stop:false,ms:ms,easing:easyeasy,from:from,diff:diff,to:to,el:element,callback:params.callback,prev:prev,next:next,repeat:times||anim.times,origin:element.attr(),totalOrigin:totalOrigin};animationElements.push(e);
if(status&&!isInAnim&&!isInAnimSet){e.stop=true;e.start=new Date-ms*status;if(animationElements.length==1)return animation()}if(isInAnimSet)e.start=new Date-e.ms*status;animationElements.length==1&&requestAnimFrame(animation)}else{isInAnim.initstatus=status;isInAnim.start=new Date-isInAnim.ms*status}eve("anim.start."+element.id,element,anim)}R.animation=function(params,ms,easing,callback){if(params instanceof Animation)return params;if(R.is(easing,"function")||!easing){callback=callback||easing||
null;easing=null}params=Object(params);ms=+ms||0;var p={},json,attr;for(attr in params)if(params[has](attr)&&toFloat(attr)!=attr&&toFloat(attr)+"%"!=attr){json=true;p[attr]=params[attr]}if(!json)return new Animation(params,ms);else{easing&&(p.easing=easing);callback&&(p.callback=callback);return new Animation({100:p},ms)}};elproto.animate=function(params,ms,easing,callback){var element=this;if(element.removed){callback&&callback.call(element);return element}var anim=params instanceof Animation?params:
R.animation(params,ms,easing,callback);runAnimation(anim,element,anim.percents[0],null,element.attr());return element};elproto.setTime=function(anim,value){if(anim&&value!=null)this.status(anim,mmin(value,anim.ms)/anim.ms);return this};elproto.status=function(anim,value){var out=[],i=0,len,e;if(value!=null){runAnimation(anim,this,-1,mmin(value,1));return this}else{len=animationElements.length;for(;i<len;i++){e=animationElements[i];if(e.el.id==this.id&&(!anim||e.anim==anim)){if(anim)return e.status;
out.push({anim:e.anim,status:e.status})}}if(anim)return 0;return out}};elproto.pause=function(anim){for(var i=0;i<animationElements.length;i++)if(animationElements[i].el.id==this.id&&(!anim||animationElements[i].anim==anim))if(eve("anim.pause."+this.id,this,animationElements[i].anim)!==false)animationElements[i].paused=true;return this};elproto.resume=function(anim){for(var i=0;i<animationElements.length;i++)if(animationElements[i].el.id==this.id&&(!anim||animationElements[i].anim==anim)){var e=animationElements[i];
if(eve("anim.resume."+this.id,this,e.anim)!==false){delete e.paused;this.status(e.anim,e.status)}}return this};elproto.stop=function(anim){for(var i=0;i<animationElements.length;i++)if(animationElements[i].el.id==this.id&&(!anim||animationElements[i].anim==anim))if(eve("anim.stop."+this.id,this,animationElements[i].anim)!==false)animationElements.splice(i--,1);return this};elproto.toString=function(){return"Rapha\u00ebl\u2019s object"};var Set=function(items){this.items=[];this.length=0;this.type=
"set";if(items)for(var i=0,ii=items.length;i<ii;i++)if(items[i]&&(items[i].constructor==elproto.constructor||items[i].constructor==Set)){this[this.items.length]=this.items[this.items.length]=items[i];this.length++}},setproto=Set.prototype;setproto.push=function(){var item,len;for(var i=0,ii=arguments.length;i<ii;i++){item=arguments[i];if(item&&(item.constructor==elproto.constructor||item.constructor==Set)){len=this.items.length;this[len]=this.items[len]=item;this.length++}}return this};setproto.pop=
function(){this.length&&delete this[this.length--];return this.items.pop()};setproto.forEach=function(callback,thisArg){for(var i=0,ii=this.items.length;i<ii;i++)if(callback.call(thisArg,this.items[i],i)===false)return this;return this};for(var method in elproto)if(elproto[has](method))setproto[method]=function(methodname){return function(){var arg=arguments;return this.forEach(function(el){el[methodname][apply](el,arg)})}}(method);setproto.attr=function(name,value){if(name&&R.is(name,array)&&R.is(name[0],
"object"))for(var j=0,jj=name.length;j<jj;j++)this.items[j].attr(name[j]);else for(var i=0,ii=this.items.length;i<ii;i++)this.items[i].attr(name,value);return this};setproto.clear=function(){while(this.length)this.pop()};setproto.splice=function(index,count,insertion){index=index<0?mmax(this.length+index,0):index;count=mmax(0,mmin(this.length-index,count));var tail=[],todel=[],args=[],i;for(i=2;i<arguments.length;i++)args.push(arguments[i]);for(i=0;i<count;i++)todel.push(this[index+i]);for(;i<this.length-
index;i++)tail.push(this[index+i]);var arglen=args.length;for(i=0;i<arglen+tail.length;i++)this.items[index+i]=this[index+i]=i<arglen?args[i]:tail[i-arglen];i=this.items.length=this.length-=count-arglen;while(this[i])delete this[i++];return new Set(todel)};setproto.exclude=function(el){for(var i=0,ii=this.length;i<ii;i++)if(this[i]==el){this.splice(i,1);return true}};setproto.animate=function(params,ms,easing,callback){(R.is(easing,"function")||!easing)&&(callback=easing||null);var len=this.items.length,
i=len,item,set=this,collector;if(!len)return this;callback&&(collector=function(){!--len&&callback.call(set)});easing=R.is(easing,string)?easing:collector;var anim=R.animation(params,ms,easing,collector);item=this.items[--i].animate(anim);while(i--)this.items[i]&&!this.items[i].removed&&this.items[i].animateWith(item,anim);return this};setproto.insertAfter=function(el){var i=this.items.length;while(i--)this.items[i].insertAfter(el);return this};setproto.getBBox=function(){var x=[],y=[],w=[],h=[];
for(var i=this.items.length;i--;)if(!this.items[i].removed){var box=this.items[i].getBBox();x.push(box.x);y.push(box.y);w.push(box.x+box.width);h.push(box.y+box.height)}x=mmin[apply](0,x);y=mmin[apply](0,y);return{x:x,y:y,width:mmax[apply](0,w)-x,height:mmax[apply](0,h)-y}};setproto.clone=function(s){s=new Set;for(var i=0,ii=this.items.length;i<ii;i++)s.push(this.items[i].clone());return s};setproto.toString=function(){return"Rapha\u00ebl\u2018s set"};R.registerFont=function(font){if(!font.face)return font;
this.fonts=this.fonts||{};var fontcopy={w:font.w,face:{},glyphs:{}},family=font.face["font-family"];for(var prop in font.face)if(font.face[has](prop))fontcopy.face[prop]=font.face[prop];if(this.fonts[family])this.fonts[family].push(fontcopy);else this.fonts[family]=[fontcopy];if(!font.svg){fontcopy.face["units-per-em"]=toInt(font.face["units-per-em"],10);for(var glyph in font.glyphs)if(font.glyphs[has](glyph)){var path=font.glyphs[glyph];fontcopy.glyphs[glyph]={w:path.w,k:{},d:path.d&&"M"+path.d.replace(/[mlcxtrv]/g,
function(command){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[command]||"M"})+"z"};if(path.k)for(var k in path.k)if(path[has](k))fontcopy.glyphs[glyph].k[k]=path.k[k]}}return font};paperproto.getFont=function(family,weight,style,stretch){stretch=stretch||"normal";style=style||"normal";weight=+weight||{normal:400,bold:700,lighter:300,bolder:800}[weight]||400;if(!R.fonts)return;var font=R.fonts[family];if(!font){var name=new RegExp("(^|\\s)"+family.replace(/[^\w\d\s+!~.:_-]/g,E)+"(\\s|$)","i");for(var fontName in R.fonts)if(R.fonts[has](fontName))if(name.test(fontName)){font=
R.fonts[fontName];break}}var thefont;if(font)for(var i=0,ii=font.length;i<ii;i++){thefont=font[i];if(thefont.face["font-weight"]==weight&&(thefont.face["font-style"]==style||!thefont.face["font-style"])&&thefont.face["font-stretch"]==stretch)break}return thefont};paperproto.print=function(x,y,string,font,size,origin,letter_spacing){origin=origin||"middle";letter_spacing=mmax(mmin(letter_spacing||0,1),-1);var out=this.set(),letters=Str(string)[split](E),shift=0,path=E,scale;R.is(font,string)&&(font=
this.getFont(font));if(font){scale=(size||16)/font.face["units-per-em"];var bb=font.face.bbox[split](separator),top=+bb[0],height=+bb[1]+(origin=="baseline"?bb[3]-bb[1]+ +font.face.descent:(bb[3]-bb[1])/2);for(var i=0,ii=letters.length;i<ii;i++){var prev=i&&font.glyphs[letters[i-1]]||{},curr=font.glyphs[letters[i]];shift+=i?(prev.w||font.w)+(prev.k&&prev.k[letters[i]]||0)+font.w*letter_spacing:0;curr&&curr.d&&out.push(this.path(curr.d).attr({fill:"#000",stroke:"none",transform:[["t",shift*scale,0]]}))}out.transform(["...s",
scale,scale,top,height,"t",(x-top)/scale,(y-height)/scale])}return out};R.format=function(token,params){var args=R.is(params,array)?[0][concat](params):arguments;token&&R.is(token,string)&&args.length-1&&(token=token.replace(formatrg,function(str,i){return args[++i]==null?E:args[i]}));return token||E};R.fullfill=function(){var tokenRegex=/\{([^\}]+)\}/g,objNotationRegex=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,replacer=function(all,key,obj){var res=obj;key.replace(objNotationRegex,
function(all,name,quote,quotedName,isFunc){name=name||quotedName;if(res){if(name in res)res=res[name];typeof res=="function"&&isFunc&&(res=res())}});res=(res==null||res==obj?all:res)+"";return res};return function(str,obj){return String(str).replace(tokenRegex,function(all,key){return replacer(all,key,obj)})}}();R.ninja=function(){oldRaphael.was?g.win.Raphael=oldRaphael.is:delete Raphael;return R};R.st=setproto;(function(doc,loaded,f){if(doc.readyState==null&&doc.addEventListener){doc.addEventListener(loaded,
f=function(){doc.removeEventListener(loaded,f,false);doc.readyState="complete"},false);doc.readyState="loading"}function isLoaded(){/in/.test(doc.readyState)?setTimeout(isLoaded,9):R.eve("DOMload")}isLoaded()})(document,"DOMContentLoaded");oldRaphael.was?g.win.Raphael=R:Raphael=R;eve.on("DOMload",function(){loaded=true})})();
window.Raphael.svg&&function(R){var has="hasOwnProperty",Str=String,toFloat=parseFloat,toInt=parseInt,math=Math,mmax=math.max,abs=math.abs,pow=math.pow,separator=/[, ]+/,eve=R.eve,E="",S=" ";var xlink="http://www.w3.org/1999/xlink",markers={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},markerCounter={};R.toString=function(){return"Your browser supports SVG.\nYou are running Rapha\u00ebl "+
this.version};var $=function(el,attr){if(attr){if(typeof el=="string")el=$(el);for(var key in attr)if(attr[has](key))if(key.substring(0,6)=="xlink:")el.setAttributeNS(xlink,key.substring(6),Str(attr[key]));else el.setAttribute(key,Str(attr[key]))}else el=R._g.doc.createElementNS("http://www.w3.org/2000/svg",el);return el},gradients={},rgGrad=/^url\(#(.*)\)$/,removeGradientFill=function(node,paper){var oid=node.getAttribute("fill");oid=oid&&oid.match(rgGrad);if(oid&&!--gradients[oid[1]]){delete gradients[oid[1]];
paper.defs.removeChild(R._g.doc.getElementById(oid[1]))}},addGradientFill=function(element,gradient){var type="linear",id=element.id+gradient,fx=0.5,fy=0.5,o=element.node,SVG=element.paper,s=o.style,el=R._g.doc.getElementById(id);if(!el){gradient=Str(gradient).replace(R._radial_gradient,function(all,_fx,_fy){type="radial";if(_fx&&_fy){fx=toFloat(_fx);fy=toFloat(_fy);var dir=(fy>0.5)*2-1;pow(fx-0.5,2)+pow(fy-0.5,2)>0.25&&(fy=math.sqrt(0.25-pow(fx-0.5,2))*dir+0.5)&&fy!=0.5&&(fy=fy.toFixed(5)-1.0E-5*
dir)}return E});gradient=gradient.split(/\s*\-\s*/);if(type=="linear"){var angle=gradient.shift();angle=-toFloat(angle);if(isNaN(angle))return null;var vector=[0,0,math.cos(R.rad(angle)),math.sin(R.rad(angle))],max=1/(mmax(abs(vector[2]),abs(vector[3]))||1);vector[2]*=max;vector[3]*=max;if(vector[2]<0){vector[0]=-vector[2];vector[2]=0}if(vector[3]<0){vector[1]=-vector[3];vector[3]=0}}var dots=R._parseDots(gradient);if(!dots)return null;if(element.gradient){SVG.defs.removeChild(element.gradient);delete element.gradient}id=
id.replace(/[\(\)\s,\xb0#]/g,"-");el=$(type+"Gradient",{id:id});element.gradient=el;$(el,type=="radial"?{fx:fx,fy:fy}:{x1:vector[0],y1:vector[1],x2:vector[2],y2:vector[3],gradientTransform:element.matrix.invert()});SVG.defs.appendChild(el);for(var i=0,ii=dots.length;i<ii;i++)el.appendChild($("stop",{offset:dots[i].offset?dots[i].offset:i?"100%":"0%","stop-color":dots[i].color||"#fff"}))}$(o,{fill:"url(#"+id+")",opacity:1,"fill-opacity":1});s.fill=E;s.opacity=1;s.fillOpacity=1;return 1},updatePosition=
function(o){var bbox=o.getBBox(1);$(o.pattern,{patternTransform:o.matrix.invert()+" translate("+bbox.x+","+bbox.y+")"})},addArrow=function(o,value,isEnd){if(o.type=="path"){var values=Str(value).toLowerCase().split("-"),p=o.paper,se=isEnd?"end":"start",node=o.node,attrs=o.attrs,stroke=attrs["stroke-width"],i=values.length,type="classic",from,to,dx,refX,attr,w=3,h=3,t=5;while(i--)switch(values[i]){case "block":case "classic":case "oval":case "diamond":case "open":case "none":type=values[i];break;case "wide":h=
5;break;case "narrow":h=2;break;case "long":w=5;break;case "short":w=2;break}if(type=="open"){w+=2;h+=2;t+=2;dx=1;refX=isEnd?4:1;attr={fill:"none",stroke:attrs.stroke}}else{refX=dx=w/2;attr={fill:attrs.stroke,stroke:"none"}}if(o._.arrows)if(isEnd){o._.arrows.endPath&&markerCounter[o._.arrows.endPath]--;o._.arrows.endMarker&&markerCounter[o._.arrows.endMarker]--}else{o._.arrows.startPath&&markerCounter[o._.arrows.startPath]--;o._.arrows.startMarker&&markerCounter[o._.arrows.startMarker]--}else o._.arrows=
{};if(type!="none"){var pathId="raphael-marker-"+type,markerId="raphael-marker-"+se+type+w+h;if(!R._g.doc.getElementById(pathId)){p.defs.appendChild($($("path"),{"stroke-linecap":"round",d:markers[type],id:pathId}));markerCounter[pathId]=1}else markerCounter[pathId]++;var marker=R._g.doc.getElementById(markerId),use;if(!marker){marker=$($("marker"),{id:markerId,markerHeight:h,markerWidth:w,orient:"auto",refX:refX,refY:h/2});use=$($("use"),{"xlink:href":"#"+pathId,transform:(isEnd?" rotate(180 "+w/
2+" "+h/2+") ":S)+"scale("+w/t+","+h/t+")","stroke-width":1/((w/t+h/t)/2)});marker.appendChild(use);p.defs.appendChild(marker);markerCounter[markerId]=1}else{markerCounter[markerId]++;use=marker.getElementsByTagName("use")[0]}$(use,attr);var delta=dx*(type!="diamond"&&type!="oval");if(isEnd){from=o._.arrows.startdx*stroke||0;to=R.getTotalLength(attrs.path)-delta*stroke}else{from=delta*stroke;to=R.getTotalLength(attrs.path)-(o._.arrows.enddx*stroke||0)}attr={};attr["marker-"+se]="url(#"+markerId+")";
if(to||from)attr.d=Raphael.getSubpath(attrs.path,from,to);$(node,attr);o._.arrows[se+"Path"]=pathId;o._.arrows[se+"Marker"]=markerId;o._.arrows[se+"dx"]=delta;o._.arrows[se+"Type"]=type;o._.arrows[se+"String"]=value}else{if(isEnd){from=o._.arrows.startdx*stroke||0;to=R.getTotalLength(attrs.path)-from}else{from=0;to=R.getTotalLength(attrs.path)-(o._.arrows.enddx*stroke||0)}o._.arrows[se+"Path"]&&$(node,{d:Raphael.getSubpath(attrs.path,from,to)});delete o._.arrows[se+"Path"];delete o._.arrows[se+"Marker"];
delete o._.arrows[se+"dx"];delete o._.arrows[se+"Type"];delete o._.arrows[se+"String"]}for(attr in markerCounter)if(markerCounter[has](attr)&&!markerCounter[attr]){var item=R._g.doc.getElementById(attr);item&&item.parentNode.removeChild(item)}}},dasharray={"":[0],"none":[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},addDashes=function(o,value,params){value=dasharray[Str(value).toLowerCase()];if(value){var width=
o.attrs["stroke-width"]||"1",butt={round:width,square:width,butt:0}[o.attrs["stroke-linecap"]||params["stroke-linecap"]]||0,dashes=[],i=value.length;while(i--)dashes[i]=value[i]*width+(i%2?1:-1)*butt;if(dashes.length===1&&dashes[0]===0)$(o.node,{"stroke-dasharray":"none"});else $(o.node,{"stroke-dasharray":dashes.join(",")})}},setFillAndStroke=function(o,params){var node=o.node,attrs=o.attrs,vis=node.style.visibility;node.style.visibility="hidden";for(var att in params)if(params[has](att)){if(!R._availableAttrs[has](att))continue;
var value=params[att];attrs[att]=value;switch(att){case "blur":o.blur(value);break;case "href":case "title":case "target":var pn=node.parentNode;if(pn.tagName.toLowerCase()!="a"){var hl=$("a");pn.insertBefore(hl,node);hl.appendChild(node);pn=hl}if(att=="target"&&value=="blank")pn.setAttributeNS(xlink,"show","new");else pn.setAttributeNS(xlink,att,value);break;case "cursor":node.style.cursor=value;break;case "transform":o.transform(value);break;case "arrow-start":addArrow(o,value);break;case "arrow-end":addArrow(o,
value,1);break;case "clip-rect":var rect=Str(value).split(separator);if(rect.length==4){o.clip&&o.clip.parentNode.parentNode.removeChild(o.clip.parentNode);var el=$("clipPath"),rc=$("rect");el.id=R.createUUID();$(rc,{x:rect[0],y:rect[1],width:rect[2],height:rect[3]});el.appendChild(rc);o.paper.defs.appendChild(el);$(node,{"clip-path":"url(#"+el.id+")"});o.clip=rc}if(!value){var clip=R._g.doc.getElementById(node.getAttribute("clip-path").replace(/(^url\(#|\)$)/g,E));clip&&clip.parentNode.removeChild(clip);
$(node,{"clip-path":E});delete o.clip}break;case "path":if(o.type=="path"){$(node,{d:value?attrs.path=R._pathToAbsolute(value):"M0,0"});o._.dirty=1;if(o._.arrows){"startString"in o._.arrows&&addArrow(o,o._.arrows.startString);"endString"in o._.arrows&&addArrow(o,o._.arrows.endString,1)}}break;case "width":node.setAttribute(att,value);o._.dirty=1;if(attrs.fx){att="x";value=attrs.x}else break;case "x":if(attrs.fx)value=-attrs.x-(attrs.width||0);case "rx":if(att=="rx"&&o.type=="rect")break;case "cx":node.setAttribute(att,
value);o.pattern&&updatePosition(o);o._.dirty=1;break;case "height":node.setAttribute(att,value);o._.dirty=1;if(attrs.fy){att="y";value=attrs.y}else break;case "y":if(attrs.fy)value=-attrs.y-(attrs.height||0);case "ry":if(att=="ry"&&o.type=="rect")break;case "cy":node.setAttribute(att,value);o.pattern&&updatePosition(o);o._.dirty=1;break;case "r":if(o.type=="rect")$(node,{rx:value,ry:value});else node.setAttribute(att,value);o._.dirty=1;break;case "src":if(o.type=="image")node.setAttributeNS(xlink,
"href",value);break;case "stroke-width":if(o.paper._vbSize)value*=o.paper._vbSize;node.setAttribute(att,value);if(attrs["stroke-dasharray"])addDashes(o,attrs["stroke-dasharray"],params);if(o._.arrows){"startString"in o._.arrows&&addArrow(o,o._.arrows.startString);"endString"in o._.arrows&&addArrow(o,o._.arrows.endString,1)}break;case "stroke-dasharray":addDashes(o,value,params);break;case "fill":var isURL=Str(value).match(R._ISURL);if(isURL){el=$("pattern");var ig=$("image");el.id=R.createUUID();
$(el,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1});$(ig,{x:0,y:0,"xlink:href":isURL[1]});el.appendChild(ig);(function(el){R._preload(isURL[1],function(){var w=this.offsetWidth,h=this.offsetHeight;$(el,{width:w,height:h});$(ig,{width:w,height:h});o.paper.safari()})})(el);o.paper.defs.appendChild(el);node.style.fill="url(#"+el.id+")";$(node,{fill:"url(#"+el.id+")"});o.pattern=el;o.pattern&&updatePosition(o);break}var clr=R.getRGB(value);if(!clr.error){delete params.gradient;delete attrs.gradient;
!R.is(attrs.opacity,"undefined")&&R.is(params.opacity,"undefined")&&$(node,{opacity:attrs.opacity});!R.is(attrs["fill-opacity"],"undefined")&&R.is(params["fill-opacity"],"undefined")&&$(node,{"fill-opacity":attrs["fill-opacity"]})}else if((o.type=="circle"||o.type=="ellipse"||Str(value).charAt()!="r")&&addGradientFill(o,value)){if("opacity"in attrs||"fill-opacity"in attrs){var gradient=R._g.doc.getElementById(node.getAttribute("fill").replace(/^url\(#|\)$/g,E));if(gradient){var stops=gradient.getElementsByTagName("stop");
$(stops[stops.length-1],{"stop-opacity":("opacity"in attrs?attrs.opacity:1)*("fill-opacity"in attrs?attrs["fill-opacity"]:1)})}}attrs.gradient=value;attrs.fill="none";break}clr[has]("opacity")&&$(node,{"fill-opacity":clr.opacity>1?clr.opacity/100:clr.opacity});case "stroke":clr=R.getRGB(value);node.setAttribute(att,clr.hex);att=="stroke"&&clr[has]("opacity")&&$(node,{"stroke-opacity":clr.opacity>1?clr.opacity/100:clr.opacity});if(att=="stroke"&&o._.arrows){"startString"in o._.arrows&&addArrow(o,o._.arrows.startString);
"endString"in o._.arrows&&addArrow(o,o._.arrows.endString,1)}break;case "gradient":(o.type=="circle"||o.type=="ellipse"||Str(value).charAt()!="r")&&addGradientFill(o,value);break;case "opacity":if(attrs.gradient&&!attrs[has]("stroke-opacity"))$(node,{"stroke-opacity":value>1?value/100:value});case "fill-opacity":if(attrs.gradient){gradient=R._g.doc.getElementById(node.getAttribute("fill").replace(/^url\(#|\)$/g,E));if(gradient){stops=gradient.getElementsByTagName("stop");$(stops[stops.length-1],{"stop-opacity":value})}break}default:att==
"font-size"&&(value=toInt(value,10)+"px");var cssrule=att.replace(/(\-.)/g,function(w){return w.substring(1).toUpperCase()});node.style[cssrule]=value;o._.dirty=1;node.setAttribute(att,value);break}}tuneText(o,params);node.style.visibility=vis},leading=1.2,tuneText=function(el,params){if(el.type!="text"||!(params[has]("text")||params[has]("font")||params[has]("font-size")||params[has]("x")||params[has]("y")))return;var a=el.attrs,node=el.node,fontSize=el.attrs["font-size"]?el.attrs["font-size"]:12;
if(params[has]("text")){a.text=params.text;while(node.firstChild)node.removeChild(node.firstChild);var texts=Str(params.text).split("\n"),tspans=[],tspan;for(var i=0,ii=texts.length;i<ii;i++){tspan=$("tspan");i&&$(tspan,{dy:fontSize*leading,x:a.x});tspan.appendChild(R._g.doc.createTextNode(texts[i]));node.appendChild(tspan);tspans[i]=tspan}}else{var tspans=node.getElementsByTagName("tspan");for(i=0,ii=tspans.length;i<ii;i++)if(i)$(tspans[i],{dy:fontSize*leading,x:a.x});else $(tspans[0],{dy:0})}el._.dirty=
1;var tspan_size=tspans.length*fontSize*1.2-fontSize*1.2;var diff=(-tspan_size+fontSize*0.9)/2;$(node,{x:a.x,y:a.y});$(tspans[0],{dy:diff})},Element=function(node,svg){var X=0,Y=0;this[0]=this.node=node;node.raphael=true;this.id=R._oid++;node.raphaelid=this.id;this.matrix=R.matrix();this.realPath=null;this.paper=svg;this.attrs=this.attrs||{};this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1};!svg.bottom&&(svg.bottom=this);this.prev=svg.top;svg.top&&(svg.top.next=this);svg.top=this;this.next=
null},elproto=R.el;Element.prototype=elproto;elproto.constructor=Element;R._engine.path=function(pathString,SVG){var el=$("path");SVG.canvas&&SVG.canvas.appendChild(el);var p=new Element(el,SVG);p.type="path";setFillAndStroke(p,{fill:"none",stroke:"#000",path:pathString});return p};elproto.rotate=function(deg,cx,cy){if(this.removed)return this;deg=Str(deg).split(separator);if(deg.length-1){cx=toFloat(deg[1]);cy=toFloat(deg[2])}deg=toFloat(deg[0]);cy==null&&(cx=cy);if(cx==null||cy==null){var bbox=
this.getBBox(1);cx=bbox.x+bbox.width/2;cy=bbox.y+bbox.height/2}this.transform(this._.transform.concat([["r",deg,cx,cy]]));return this};elproto.scale=function(sx,sy,cx,cy){if(this.removed)return this;sx=Str(sx).split(separator);if(sx.length-1){sy=toFloat(sx[1]);cx=toFloat(sx[2]);cy=toFloat(sx[3])}sx=toFloat(sx[0]);sy==null&&(sy=sx);cy==null&&(cx=cy);if(cx==null||cy==null)var bbox=this.getBBox(1);cx=cx==null?bbox.x+bbox.width/2:cx;cy=cy==null?bbox.y+bbox.height/2:cy;this.transform(this._.transform.concat([["s",
sx,sy,cx,cy]]));return this};elproto.translate=function(dx,dy){if(this.removed)return this;dx=Str(dx).split(separator);if(dx.length-1)dy=toFloat(dx[1]);dx=toFloat(dx[0])||0;dy=+dy||0;this.transform(this._.transform.concat([["t",dx,dy]]));return this};elproto.transform=function(tstr){var _=this._;var i=0;if(tstr==null)return _.transform;R._extractTransform(this,tstr);this.clip&&$(this.clip,{transform:this.matrix.invert()});this.pattern&&updatePosition(this);this.node&&$(this.node,{transform:this.matrix});
return this};elproto.hide=function(){!this.removed&&this.paper.safari(this.node.style.display="none");return this};elproto.show=function(){!this.removed&&this.paper.safari(this.node.style.display="");return this};elproto.remove=function(){if(this.removed)return;this.paper.__set__&&this.paper.__set__.exclude(this);eve.unbind("*.*."+this.id);R._tear(this,this.paper);this.node.parentNode.removeChild(this.node);for(var i in this)delete this[i];this.removed=true};elproto._getBBox=function(){if(this.node.style.display==
"none"){this.show();var hide=true}var bbox={};try{bbox=this.node.getBBox()}catch(e){}finally{bbox=bbox||{}}hide&&this.hide();return bbox};elproto.attr=function(name,value){if(this.removed)return this;if(name==null){var res={};for(var a in this.attrs)if(this.attrs[has](a))res[a]=this.attrs[a];res.gradient&&res.fill=="none"&&(res.fill=res.gradient)&&delete res.gradient;res.transform=this._.transform;return res}if(value==null&&R.is(name,"string")){if(name=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;
if(name=="transform")return this._.transform;var names=name.split(separator),out={};for(var i=0,ii=names.length;i<ii;i++){name=names[i];if(name in this.attrs)out[name]=this.attrs[name];else if(R.is(this.paper.customAttributes[name],"function"))out[name]=this.paper.customAttributes[name].def;else out[name]=R._availableAttrs[name]}return ii-1?out:out[names[0]]}if(value==null&&R.is(name,"array")){out={};for(i=0,ii=name.length;i<ii;i++)out[name[i]]=this.attr(name[i]);return out}if(value!=null){var params=
{};params[name]=value}else if(name!=null&&R.is(name,"object"))params=name;for(var key in params)eve("attr."+key+"."+this.id,this,params[key]);for(key in this.paper.customAttributes)if(this.paper.customAttributes[has](key)&&params[has](key)&&R.is(this.paper.customAttributes[key],"function")){var par=this.paper.customAttributes[key].apply(this,[].concat(params[key]));this.attrs[key]=params[key];for(var subkey in par)if(par[has](subkey))params[subkey]=par[subkey]}setFillAndStroke(this,params);return this};
elproto.toFront=function(){if(this.removed)return this;this.node.parentNode.appendChild(this.node);var svg=this.paper;svg.top!=this&&R._tofront(this,svg);return this};elproto.toBack=function(){if(this.removed)return this;if(this.node.parentNode.firstChild!=this.node){this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild);R._toback(this,this.paper);var svg=this.paper}return this};elproto.insertAfter=function(element){if(this.removed)return this;var node=element.node||element[element.length-
1].node;if(node.nextSibling)node.parentNode.insertBefore(this.node,node.nextSibling);else node.parentNode.appendChild(this.node);R._insertafter(this,element,this.paper);return this};elproto.insertBefore=function(element){if(this.removed)return this;var node=element.node||element[0].node;node.parentNode.insertBefore(this.node,node);R._insertbefore(this,element,this.paper);return this};elproto.blur=function(size){var t=this;if(+size!==0){var fltr=$("filter"),blur=$("feGaussianBlur");t.attrs.blur=size;
fltr.id=R.createUUID();$(blur,{stdDeviation:+size||1.5});fltr.appendChild(blur);t.paper.defs.appendChild(fltr);t._blur=fltr;$(t.node,{filter:"url(#"+fltr.id+")"})}else{if(t._blur){t._blur.parentNode.removeChild(t._blur);delete t._blur;delete t.attrs.blur}t.node.removeAttribute("filter")}};R._engine.circle=function(svg,x,y,r){var el=$("circle");svg.canvas&&svg.canvas.appendChild(el);var res=new Element(el,svg);res.attrs={cx:x,cy:y,r:r,fill:"none",stroke:"#000"};res.type="circle";$(el,res.attrs);return res};
R._engine.rect=function(svg,x,y,w,h,r){var el=$("rect");svg.canvas&&svg.canvas.appendChild(el);var res=new Element(el,svg);res.attrs={x:x,y:y,width:w,height:h,r:r||0,rx:r||0,ry:r||0,fill:"none",stroke:"#000"};res.type="rect";$(el,res.attrs);return res};R._engine.ellipse=function(svg,x,y,rx,ry){var el=$("ellipse");svg.canvas&&svg.canvas.appendChild(el);var res=new Element(el,svg);res.attrs={cx:x,cy:y,rx:rx,ry:ry,fill:"none",stroke:"#000"};res.type="ellipse";$(el,res.attrs);return res};R._engine.image=
function(svg,src,x,y,w,h){var el=$("image");$(el,{x:x,y:y,width:w,height:h,preserveAspectRatio:"none"});el.setAttributeNS(xlink,"href",src);svg.canvas&&svg.canvas.appendChild(el);var res=new Element(el,svg);res.attrs={x:x,y:y,width:w,height:h,src:src};res.type="image";return res};R._engine.text=function(svg,x,y,text){var el=$("text");svg.canvas&&svg.canvas.appendChild(el);var res=new Element(el,svg);res.attrs={x:x,y:y,"text-anchor":"middle",text:text,font:R._availableAttrs.font,stroke:"none",fill:"#000"};
res.type="text";setFillAndStroke(res,res.attrs);return res};R._engine.setSize=function(width,height){this.width=width||this.width;this.height=height||this.height;this.canvas.setAttribute("width",this.width);this.canvas.setAttribute("height",this.height);if(this._viewBox)this.setViewBox.apply(this,this._viewBox);return this};R._engine.create=function(){var con=R._getContainer.apply(0,arguments),container=con&&con.container,x=con.x,y=con.y,width=con.width,height=con.height;if(!container)throw new Error("SVG container not found.");
var cnvs=$("svg"),css="overflow:hidden;",isFloating;x=x||0;y=y||0;width=width||512;height=height||342;$(cnvs,{height:height,version:1.1,width:width,xmlns:"http://www.w3.org/2000/svg"});if(container==1){cnvs.style.cssText=css+"position:absolute;left:"+x+"px;top:"+y+"px";R._g.doc.body.appendChild(cnvs);isFloating=1}else{cnvs.style.cssText=css+"position:relative";if(container.firstChild)container.insertBefore(cnvs,container.firstChild);else container.appendChild(cnvs)}var g=$("g");cnvs.appendChild(g);
cnvs=g;g.style&&(g.style.webkitTapHighlightColor="rgba(0,0,0,0)");container=new R._Paper;container.width=width;container.height=height;container.canvas=cnvs;container.clear();container._left=container._top=0;isFloating&&(container.renderfix=function(){});container.renderfix();return container};R._engine.setViewBox=function(x,y,w,h,fit){eve("setViewBox",this,this._viewBox,[x,y,w,h,fit]);var size=mmax(w/this.width,h/this.height),top=this.top,aspectRatio=fit?"meet":"xMinYMin",vb,sw;if(x==null){if(this._vbSize)size=
1;delete this._vbSize;vb="0 0 "+this.width+S+this.height}else{this._vbSize=size;vb=x+S+y+S+w+S+h}$(this.canvas,{viewBox:vb,preserveAspectRatio:aspectRatio});while(size&&top){sw="stroke-width"in top.attrs?top.attrs["stroke-width"]:1;top.attr({"stroke-width":sw});top._.dirty=1;top._.dirtyT=1;top=top.prev}this._viewBox=[x,y,w,h,!!fit];return this};R.prototype.renderfix=function(){var cnvs=this.canvas,s=cnvs.style,pos=cnvs.getScreenCTM()||cnvs.parentNode.createSVGMatrix(),left=-pos.e%1,top=-pos.f%1;if(left||
top){if(left){this._left=(this._left+left)%1;s.left=this._left+"px"}if(top){this._top=(this._top+top)%1;s.top=this._top+"px"}}};R.prototype.clear=function(){R.eve("clear",this);var c=this.canvas;while(c.firstChild)c.removeChild(c.firstChild);this.bottom=this.top=null;(this.desc=$("desc")).appendChild(R._g.doc.createTextNode("Created with Rapha\u00ebl "+R.version));c.appendChild(this.desc);c.appendChild(this.defs=$("defs"))};R.prototype.remove=function(){eve("remove",this);this.canvas.parentNode&&
this.canvas.parentNode.removeChild(this.canvas);for(var i in this)this[i]=removed(i)};R.prototype.setTransform=function(trans){$(this.canvas,{transform:trans})};var setproto=R.st;for(var method in elproto)if(elproto[has](method)&&!setproto[has](method))setproto[method]=function(methodname){return function(){var arg=arguments;return this.forEach(function(el){el[methodname].apply(el,arg)})}}(method)}(window.Raphael);
window.Raphael.vml&&function(R){var has="hasOwnProperty",Str=String,toFloat=parseFloat,math=Math,round=math.round,mmax=math.max,mmin=math.min,abs=math.abs,fillString="fill",separator=/[, ]+/,eve=R.eve,ms=" progid:DXImageTransform.Microsoft",S=" ",E="",map={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},bites=/([clmz]),?([^clmz]*)/gi,blurregexp=/ progid:\S+Blur\([^\)]+\)/g,val=/-?[^,\s-]+/g,cssDot="position:absolute;left:0;top:0;width:1px;height:1px",zoom=21600,pathTypes={path:1,rect:1,image:1},
ovalTypes={circle:1,ellipse:1},path2vml=function(path){var total=/[ahqstv]/ig,command=R._pathToAbsolute;Str(path).match(total)&&(command=R._path2curve);total=/[clmz]/g;if(command==R._pathToAbsolute&&!Str(path).match(total)){var res=Str(path).replace(bites,function(all,command,args){var vals=[],isMove=command.toLowerCase()=="m",res=map[command];args.replace(val,function(value){if(isMove&&vals.length==2){res+=vals+map[command=="m"?"l":"L"];vals=[]}vals.push(round(value*zoom))});return res+vals});return res}var pa=
command(path),p,r;res=[];for(var i=0,ii=pa.length;i<ii;i++){p=pa[i];r=pa[i][0].toLowerCase();r=="z"&&(r="x");for(var j=1,jj=p.length;j<jj;j++)r+=round(p[j]*zoom)+(j!=jj-1?",":E);res.push(r)}return res.join(S)},compensation=function(deg,dx,dy){var m=R.matrix();m.rotate(-deg,0.5,0.5);return{dx:m.x(dx,dy),dy:m.y(dx,dy)}},setCoords=function(p,sx,sy,dx,dy,deg){var _=p._,m=p.matrix,fillpos=_.fillpos,o=p.node,s=o.style,y=1,flip="",dxdy,kx=zoom/sx,ky=zoom/sy;s.visibility="hidden";if(!sx||!sy)return;o.coordsize=
abs(kx)+S+abs(ky);s.rotation=deg*(sx*sy<0?-1:1);if(deg){var c=compensation(deg,dx,dy);dx=c.dx;dy=c.dy}sx<0&&(flip+="x");sy<0&&(flip+=" y")&&(y=-1);s.flip=flip;o.coordorigin=dx*-kx+S+dy*-ky;if(fillpos||_.fillsize){var fill=o.getElementsByTagName(fillString);fill=fill&&fill[0];o.removeChild(fill);if(fillpos){c=compensation(deg,m.x(fillpos[0],fillpos[1]),m.y(fillpos[0],fillpos[1]));fill.position=c.dx*y+S+c.dy*y}if(_.fillsize)fill.size=_.fillsize[0]*abs(sx)+S+_.fillsize[1]*abs(sy);o.appendChild(fill)}s.visibility=
"visible"};R.toString=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\u00ebl "+this.version};addArrow=function(o,value,isEnd){var values=Str(value).toLowerCase().split("-"),se=isEnd?"end":"start",i=values.length,type="classic",w="medium",h="medium";while(i--)switch(values[i]){case "block":case "classic":case "oval":case "diamond":case "open":case "none":type=values[i];break;case "wide":case "narrow":h=values[i];break;case "long":case "short":w=
values[i];break}var stroke=o.node.getElementsByTagName("stroke")[0];stroke[se+"arrow"]=type;stroke[se+"arrowlength"]=w;stroke[se+"arrowwidth"]=h};setFillAndStroke=function(o,params){o.attrs=o.attrs||{};var node=o.node,a=o.attrs,s=node.style,xy,newpath=pathTypes[o.type]&&(params.x!=a.x||params.y!=a.y||params.width!=a.width||params.height!=a.height||params.cx!=a.cx||params.cy!=a.cy||params.rx!=a.rx||params.ry!=a.ry||params.r!=a.r),isOval=ovalTypes[o.type]&&(a.cx!=params.cx||a.cy!=params.cy||a.r!=params.r||
a.rx!=params.rx||a.ry!=params.ry),res=o;for(var par in params)if(params[has](par))a[par]=params[par];if(newpath){a.path=R._getPath[o.type](o);o._.dirty=1}params.href&&(node.href=params.href);params.title&&(node.title=params.title);params.target&&(node.target=params.target);params.cursor&&(s.cursor=params.cursor);"blur"in params&&o.blur(params.blur);if(params.path&&o.type=="path"||newpath){node.path=path2vml(~Str(a.path).toLowerCase().indexOf("r")?R._pathToAbsolute(a.path):a.path);if(o.type=="image"){o._.fillpos=
[a.x,a.y];o._.fillsize=[a.width,a.height];setCoords(o,1,1,0,0,0)}}"transform"in params&&o.transform(params.transform);if(isOval){var cx=+a.cx,cy=+a.cy,rx=+a.rx||+a.r||0,ry=+a.ry||+a.r||0;node.path=R.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",round((cx-rx)*zoom),round((cy-ry)*zoom),round((cx+rx)*zoom),round((cy+ry)*zoom),round(cx*zoom))}if("clip-rect"in params){var rect=Str(params["clip-rect"]).split(separator);if(rect.length==4){rect[2]=+rect[2]+ +rect[0];rect[3]=+rect[3]+ +rect[1];var div=node.clipRect||
R._g.doc.createElement("div"),dstyle=div.style;dstyle.clip=R.format("rect({1}px {2}px {3}px {0}px)",rect);if(!node.clipRect){dstyle.position="absolute";dstyle.top=0;dstyle.left=0;dstyle.width=o.paper.width+"px";dstyle.height=o.paper.height+"px";node.parentNode.insertBefore(div,node);div.appendChild(node);node.clipRect=div}}if(!params["clip-rect"])node.clipRect&&(node.clipRect.style.clip=E)}if(o.textpath){var textpathStyle=o.textpath.style;params.font&&(textpathStyle.font=params.font);params["font-family"]&&
(textpathStyle.fontFamily='"'+params["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,E)+'"');params["font-size"]&&(textpathStyle.fontSize=params["font-size"]);params["font-weight"]&&(textpathStyle.fontWeight=params["font-weight"]);params["font-style"]&&(textpathStyle.fontStyle=params["font-style"])}if("arrow-start"in params)addArrow(res,params["arrow-start"]);if("arrow-end"in params)addArrow(res,params["arrow-end"],1);if(params.opacity!=null||params["stroke-width"]!=null||params.fill!=null||
params.src!=null||params.stroke!=null||params["stroke-width"]!=null||params["stroke-opacity"]!=null||params["fill-opacity"]!=null||params["stroke-dasharray"]!=null||params["stroke-miterlimit"]!=null||params["stroke-linejoin"]!=null||params["stroke-linecap"]!=null){var fill=node.getElementsByTagName(fillString),newfill=false;fill=fill&&fill[0];!fill&&(newfill=fill=createNode(fillString));if(o.type=="image"&&params.src)fill.src=params.src;params.fill&&(fill.on=true);if(fill.on==null||params.fill=="none"||
params.fill===null)fill.on=false;if(fill.on&&params.fill){var isURL=Str(params.fill).match(R._ISURL);if(isURL){fill.parentNode==node&&node.removeChild(fill);fill.rotate=true;fill.src=isURL[1];fill.type="tile";var bbox=o.getBBox(1);fill.position=bbox.x+S+bbox.y;o._.fillpos=[bbox.x,bbox.y];R._preload(isURL[1],function(){o._.fillsize=[this.offsetWidth,this.offsetHeight]})}else{fill.color=R.getRGB(params.fill).hex;fill.src=E;fill.type="solid";if(R.getRGB(params.fill).error&&(res.type in{circle:1,ellipse:1}||
Str(params.fill).charAt()!="r")&&addGradientFill(res,params.fill,fill)){a.fill="none";a.gradient=params.fill;fill.rotate=false}}}if("fill-opacity"in params||"opacity"in params){var opacity=((+a["fill-opacity"]+1||2)-1)*((+a.opacity+1||2)-1)*((+R.getRGB(params.fill).o+1||2)-1);opacity=mmin(mmax(opacity,0),1);fill.opacity=opacity;if(fill.src)fill.color="none"}node.appendChild(fill);var stroke=node.getElementsByTagName("stroke")&&node.getElementsByTagName("stroke")[0],newstroke=false;!stroke&&(newstroke=
stroke=createNode("stroke"));if(params.stroke&&params.stroke!="none"||params["stroke-width"]||params["stroke-opacity"]!=null||params["stroke-dasharray"]||params["stroke-miterlimit"]||params["stroke-linejoin"]||params["stroke-linecap"])stroke.on=true;(params.stroke=="none"||params.stroke===null||stroke.on==null||params.stroke==0||params["stroke-width"]==0)&&(stroke.on=false);var strokeColor=R.getRGB(params.stroke);stroke.on&&params.stroke&&(stroke.color=strokeColor.hex);opacity=((+a["stroke-opacity"]+
1||2)-1)*((+a.opacity+1||2)-1)*((+strokeColor.o+1||2)-1);var width=(toFloat(params["stroke-width"])||1)*0.75;opacity=mmin(mmax(opacity,0),1);params["stroke-width"]==null&&(width=a["stroke-width"]);params["stroke-width"]&&(stroke.weight=width);width&&width<1&&(opacity*=width)&&(stroke.weight=1);stroke.opacity=opacity;params["stroke-linejoin"]&&(stroke.joinstyle=params["stroke-linejoin"]||"miter");stroke.miterlimit=params["stroke-miterlimit"]||8;params["stroke-linecap"]&&(stroke.endcap=params["stroke-linecap"]==
"butt"?"flat":params["stroke-linecap"]=="square"?"square":"round");if(params["stroke-dasharray"]){var dasharray={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};stroke.dashstyle=dasharray[has](params["stroke-dasharray"])?dasharray[params["stroke-dasharray"]]:E}newstroke&&node.appendChild(stroke)}if(res.type=="text"){res.paper.canvas.style.display=E;var span=res.paper.span,
m=100,fontSize=a.font&&a.font.match(/\d+(?:\.\d*)?(?=px)/);s=span.style;a.font&&(s.font=a.font);a["font-family"]&&(s.fontFamily=a["font-family"]);a["font-weight"]&&(s.fontWeight=a["font-weight"]);a["font-style"]&&(s.fontStyle=a["font-style"]);fontSize=toFloat(fontSize?fontSize[0]:a["font-size"]);s.fontSize=fontSize*m+"px";res.textpath.string&&(span.innerHTML=Str(res.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var brect=span.getBoundingClientRect();res.W=a.w=
(brect.right-brect.left)/m;res.H=a.h=(brect.bottom-brect.top)/m;res.X=a.x;res.Y=a.y+res.H/2;("x"in params||"y"in params)&&(res.path.v=R.format("m{0},{1}l{2},{1}",round(a.x*zoom),round(a.y*zoom),round(a.x*zoom)+1));var dirtyattrs=["x","y","text","font","font-family","font-weight","font-style","font-size"];for(var d=0,dd=dirtyattrs.length;d<dd;d++)if(dirtyattrs[d]in params){res._.dirty=1;break}switch(a["text-anchor"]){case "start":res.textpath.style["v-text-align"]="left";res.bbx=res.W/2;break;case "end":res.textpath.style["v-text-align"]=
"right";res.bbx=-res.W/2;break;default:res.textpath.style["v-text-align"]="center";res.bbx=0;break}res.textpath.style["v-text-kern"]=true}};addGradientFill=function(o,gradient,fill){o.attrs=o.attrs||{};var attrs=o.attrs,pow=Math.pow,opacity,oindex,type="linear",fxfy=".5 .5";o.attrs.gradient=gradient;gradient=Str(gradient).replace(R._radial_gradient,function(all,fx,fy){type="radial";if(fx&&fy){fx=toFloat(fx);fy=toFloat(fy);pow(fx-0.5,2)+pow(fy-0.5,2)>0.25&&(fy=math.sqrt(0.25-pow(fx-0.5,2))*((fy>0.5)*
2-1)+0.5);fxfy=fx+S+fy}return E});gradient=gradient.split(/\s*\-\s*/);if(type=="linear"){var angle=gradient.shift();angle=-toFloat(angle);if(isNaN(angle))return null}var dots=R._parseDots(gradient);if(!dots)return null;o=o.shape||o.node;if(dots.length){o.removeChild(fill);fill.on=true;fill.method="none";fill.color=dots[0].color;fill.color2=dots[dots.length-1].color;var clrs=[];for(var i=0,ii=dots.length;i<ii;i++)dots[i].offset&&clrs.push(dots[i].offset+S+dots[i].color);fill.colors=clrs.length?clrs.join():
"0% "+fill.color;if(type=="radial"){fill.type="gradientTitle";fill.focus="100%";fill.focussize="0 0";fill.focusposition=fxfy;fill.angle=0}else{fill.type="gradient";fill.angle=(270-angle)%360}o.appendChild(fill)}return 1};Element=function(node,vml){this[0]=this.node=node;node.raphael=true;this.id=R._oid++;node.raphaelid=this.id;this.X=0;this.Y=0;this.attrs={};this.paper=vml;this.matrix=R.matrix();this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1};!vml.bottom&&(vml.bottom=this);this.prev=
vml.top;vml.top&&(vml.top.next=this);vml.top=this;this.next=null};var elproto=R.el;Element.prototype=elproto;elproto.constructor=Element;elproto.transform=function(tstr){if(tstr==null)return this._.transform;var vbs=this.paper._viewBoxShift,vbt=vbs?"s"+[vbs.scale,vbs.scale]+"-1-1t"+[vbs.dx,vbs.dy]:E,oldt;if(vbs)oldt=tstr=Str(tstr).replace(/\.{3}|\u2026/g,this._.transform||E);R._extractTransform(this,vbt+tstr);var matrix=this.matrix.clone(),skew=this.skew,o=this.node,split,isGrad=~Str(this.attrs.fill).indexOf("-"),
isPatt=!Str(this.attrs.fill).indexOf("url(");matrix.translate(-0.5,-0.5);if(isPatt||isGrad||this.type=="image"){skew.matrix="1 0 0 1";skew.offset="0 0";split=matrix.split();if(isGrad&&split.noRotation||!split.isSimple){o.style.filter=matrix.toFilter();var bb=this.getBBox(),bbt=this.getBBox(1),dx=bb.x-bbt.x,dy=bb.y-bbt.y;o.coordorigin=dx*-zoom+S+dy*-zoom;setCoords(this,1,1,dx,dy,0)}else{o.style.filter=E;setCoords(this,split.scalex,split.scaley,split.dx,split.dy,split.rotate)}}else{o.style.filter=E;
skew.matrix=Str(matrix);skew.offset=matrix.offset()}oldt&&(this._.transform=oldt);return this};elproto.rotate=function(deg,cx,cy){if(this.removed)return this;if(deg==null)return;deg=Str(deg).split(separator);if(deg.length-1){cx=toFloat(deg[1]);cy=toFloat(deg[2])}deg=toFloat(deg[0]);cy==null&&(cx=cy);if(cx==null||cy==null){var bbox=this.getBBox(1);cx=bbox.x+bbox.width/2;cy=bbox.y+bbox.height/2}this._.dirtyT=1;this.transform(this._.transform.concat([["r",deg,cx,cy]]));return this};elproto.translate=
function(dx,dy){if(this.removed)return this;dx=Str(dx).split(separator);if(dx.length-1)dy=toFloat(dx[1]);dx=toFloat(dx[0])||0;dy=+dy||0;if(this._.bbox){this._.bbox.x+=dx;this._.bbox.y+=dy}this.transform(this._.transform.concat([["t",dx,dy]]));return this};elproto.scale=function(sx,sy,cx,cy){if(this.removed)return this;sx=Str(sx).split(separator);if(sx.length-1){sy=toFloat(sx[1]);cx=toFloat(sx[2]);cy=toFloat(sx[3]);isNaN(cx)&&(cx=null);isNaN(cy)&&(cy=null)}sx=toFloat(sx[0]);sy==null&&(sy=sx);cy==null&&
(cx=cy);if(cx==null||cy==null)var bbox=this.getBBox(1);cx=cx==null?bbox.x+bbox.width/2:cx;cy=cy==null?bbox.y+bbox.height/2:cy;this.transform(this._.transform.concat([["s",sx,sy,cx,cy]]));this._.dirtyT=1;return this};elproto.hide=function(){!this.removed&&(this.node.style.display="none");return this};elproto.show=function(){!this.removed&&(this.node.style.display=E);return this};elproto._getBBox=function(){if(this.removed)return{};if(this.type=="text")return{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-
this.H,width:this.W,height:this.H};else return pathDimensions(this.attrs.path)};elproto.remove=function(){if(this.removed)return;this.paper.__set__&&this.paper.__set__.exclude(this);R.eve.unbind("*.*."+this.id);R._tear(this,this.paper);this.node.parentNode.removeChild(this.node);this.shape&&this.shape.parentNode.removeChild(this.shape);for(var i in this)delete this[i];this.removed=true};elproto.attr=function(name,value){if(this.removed)return this;if(name==null){var res={};for(var a in this.attrs)if(this.attrs[has](a))res[a]=
this.attrs[a];res.gradient&&res.fill=="none"&&(res.fill=res.gradient)&&delete res.gradient;res.transform=this._.transform;return res}if(value==null&&R.is(name,"string")){if(name==fillString&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;var names=name.split(separator),out={};for(var i=0,ii=names.length;i<ii;i++){name=names[i];if(name in this.attrs)out[name]=this.attrs[name];else if(R.is(this.paper.customAttributes[name],"function"))out[name]=this.paper.customAttributes[name].def;
else out[name]=R._availableAttrs[name]}return ii-1?out:out[names[0]]}if(this.attrs&&value==null&&R.is(name,"array")){out={};for(i=0,ii=name.length;i<ii;i++)out[name[i]]=this.attr(name[i]);return out}var params;if(value!=null){params={};params[name]=value}value==null&&R.is(name,"object")&&(params=name);for(var key in params)eve("attr."+key+"."+this.id,this,params[key]);if(params){for(key in this.paper.customAttributes)if(this.paper.customAttributes[has](key)&&params[has](key)&&R.is(this.paper.customAttributes[key],
"function")){var par=this.paper.customAttributes[key].apply(this,[].concat(params[key]));this.attrs[key]=params[key];for(var subkey in par)if(par[has](subkey))params[subkey]=par[subkey]}if(params.text&&this.type=="text")this.textpath.string=params.text;setFillAndStroke(this,params)}return this};elproto.toFront=function(){!this.removed&&this.node.parentNode.appendChild(this.node);this.paper&&this.paper.top!=this&&R._tofront(this,this.paper);return this};elproto.toBack=function(){if(this.removed)return this;
if(this.node.parentNode.firstChild!=this.node){this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild);R._toback(this,this.paper)}return this};elproto.insertAfter=function(element){if(this.removed)return this;if(element.constructor==R.st.constructor)element=element[element.length-1];if(element.node.nextSibling)element.node.parentNode.insertBefore(this.node,element.node.nextSibling);else element.node.parentNode.appendChild(this.node);R._insertafter(this,element,this.paper);return this};
elproto.insertBefore=function(element){if(this.removed)return this;if(element.constructor==R.st.constructor)element=element[0];element.node.parentNode.insertBefore(this.node,element.node);R._insertbefore(this,element,this.paper);return this};elproto.blur=function(size){var s=this.node.runtimeStyle,f=s.filter;f=f.replace(blurregexp,E);if(+size!==0){this.attrs.blur=size;s.filter=f+S+ms+".Blur(pixelradius="+(+size||1.5)+")";s.margin=R.format("-{0}px 0 0 -{0}px",round(+size||1.5))}else{s.filter=f;s.margin=
0;delete this.attrs.blur}};R._engine.path=function(pathString,vml){var el=createNode("shape");el.style.cssText=cssDot;el.coordsize=zoom+S+zoom;el.coordorigin=vml.coordorigin;var p=new Element(el,vml),attr={fill:"none",stroke:"#000"};pathString&&(attr.path=pathString);p.type="path";p.path=[];p.Path=E;setFillAndStroke(p,attr);vml.canvas.appendChild(el);var skew=createNode("skew");skew.on=true;el.appendChild(skew);p.skew=skew;p.transform(E);return p};R._engine.rect=function(vml,x,y,w,h,r){var path=R._rectPath(x,
y,w,h,r),res=vml.path(path),a=res.attrs;res.X=a.x=x;res.Y=a.y=y;res.W=a.width=w;res.H=a.height=h;a.r=r;a.path=path;res.type="rect";return res};R._engine.ellipse=function(vml,x,y,rx,ry){var res=vml.path(),a=res.attrs;res.X=x-rx;res.Y=y-ry;res.W=rx*2;res.H=ry*2;res.type="ellipse";setFillAndStroke(res,{cx:x,cy:y,rx:rx,ry:ry});return res};R._engine.circle=function(vml,x,y,r){var res=vml.path(),a=res.attrs;res.X=x-r;res.Y=y-r;res.W=res.H=r*2;res.type="circle";setFillAndStroke(res,{cx:x,cy:y,r:r});return res};
R._engine.image=function(vml,src,x,y,w,h){var path=R._rectPath(x,y,w,h),res=vml.path(path).attr({stroke:"none"}),a=res.attrs,node=res.node,fill=node.getElementsByTagName(fillString)[0];a.src=src;res.X=a.x=x;res.Y=a.y=y;res.W=a.width=w;res.H=a.height=h;a.path=path;res.type="image";fill.parentNode==node&&node.removeChild(fill);fill.rotate=true;fill.src=src;fill.type="tile";res._.fillpos=[x,y];res._.fillsize=[w,h];node.appendChild(fill);setCoords(res,1,1,0,0,0);return res};R._engine.text=function(vml,
x,y,text){var el=createNode("shape"),path=createNode("path"),o=createNode("textpath");x=x||0;y=y||0;text=text||"";path.v=R.format("m{0},{1}l{2},{1}",round(x*zoom),round(y*zoom),round(x*zoom)+1);path.textpathok=true;o.string=Str(text);o.on=true;el.style.cssText=cssDot;el.coordsize=zoom+S+zoom;el.coordorigin="0 0";var p=new Element(el,vml),attr={fill:"#000",stroke:"none",font:R._availableAttrs.font,text:text};p.shape=el;p.path=path;p.textpath=o;p.type="text";p.attrs.text=Str(text);p.attrs.x=x;p.attrs.y=
y;p.attrs.w=1;p.attrs.h=1;setFillAndStroke(p,attr);el.appendChild(o);el.appendChild(path);vml.canvas.appendChild(el);var skew=createNode("skew");skew.on=true;el.appendChild(skew);p.skew=skew;p.transform(E);return p};R._engine.setSize=function(width,height){var cs=this.canvas.style;this.width=width;this.height=height;width==+width&&(width+="px");height==+height&&(height+="px");cs.width=width;cs.height=height;cs.clip="rect(0 "+width+" "+height+" 0)";if(this._viewBox)setViewBox.apply(this,this._viewBox);
return this};R._engine.setViewBox=function(x,y,w,h,fit){R.eve("setViewBox",this,this._viewBox,[x,y,w,h,fit]);var width=this.width,height=this.height,size=1/mmax(w/width,h/height),H,W;if(fit){H=height/h;W=width/w;if(w*H<width)x-=(width-w*H)/2/H;if(h*W<height)y-=(height-h*W)/2/W}this._viewBox=[x,y,w,h,!!fit];this._viewBoxShift={dx:-x,dy:-y,scale:size};this.forEach(function(el){el.transform("...")});return this};var createNode,initWin=function(win){var doc=win.document;doc.createStyleSheet().addRule(".rvml",
"behavior:url(#default#VML)");try{!doc.namespaces.rvml&&doc.namespaces.add("rvml","urn:schemas-microsoft-com:vml");createNode=function(tagName){return doc.createElement("<rvml:"+tagName+' class="rvml">')}}catch(e){createNode=function(tagName){return doc.createElement("<"+tagName+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}};initWin(R._g.win);R._engine.create=function(){var con=R._getContainer.apply(0,arguments),container=con.container,height=con.height,s,width=con.width,x=con.x,y=con.y;
if(!container)throw new Error("VML container not found.");var res=new R._Paper,c=res.canvas=R._g.doc.createElement("div"),cs=c.style;x=x||0;y=y||0;width=width||512;height=height||342;res.width=width;res.height=height;width==+width&&(width+="px");height==+height&&(height+="px");res.coordsize=zoom*1E3+S+zoom*1E3;res.coordorigin="0 0";res.span=R._g.doc.createElement("span");res.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;";c.appendChild(res.span);cs.cssText=
R.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",width,height);if(container==1){R._g.doc.body.appendChild(c);cs.left=x+"px";cs.top=y+"px";cs.position="absolute"}else if(container.firstChild)container.insertBefore(c,container.firstChild);else container.appendChild(c);res.renderfix=function(){};return res};R.prototype.clear=function(){R.eve("clear",this);this.canvas.innerHTML=E;this.span=R._g.doc.createElement("span");this.span.style.cssText=
"position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";this.canvas.appendChild(this.span);this.bottom=this.top=null};R.prototype.remove=function(){R.eve("remove",this);this.canvas.parentNode.removeChild(this.canvas);for(var i in this)this[i]=removed(i);return true};var setproto=R.st;for(var method in elproto)if(elproto[has](method)&&!setproto[has](method))setproto[method]=function(methodname){return function(){var arg=arguments;return this.forEach(function(el){el[methodname].apply(el,
arg)})}}(method)}(window.Raphael);
Raphael.fn.importSVG=function(rawSVG,set){var isNumber=function(n){return!isNaN(parseFloat(n))&&isFinite(n)};try{if(typeof rawSVG==="undefined")throw"No data was provided.";rawSVG=rawSVG.replace(/\n|\r|\t/gi,"");if(!rawSVG.match(/<svg(.*?)>(.*)<\/svg>/i))throw"The data you entered doesn't contain valid SVG.";var findAttr=new RegExp('([a-z-]+)="(.*?)"',"gi"),findStyle=new RegExp("([a-z-]+) ?: ?([^ ;]+)[ ;]?","gi"),findNodes=new RegExp("<(rect|polyline|circle|ellipse|path|polygon|image|text).*?/>","gi");
while(match=findNodes.exec(rawSVG)){var shape,style,attr={"fill":"#000"},node=RegExp.$1;while(findAttr.exec(match))switch(RegExp.$1){case "stroke-dasharray":attr[RegExp.$1]="- ";break;case "style":style=RegExp.$2;break;default:if(isNumber(RegExp.$2))attr[RegExp.$1]=parseFloat(RegExp.$2);else attr[RegExp.$1]=RegExp.$2;break}if(style)while(findStyle.exec(style))attr[RegExp.$1]=RegExp.$2;switch(node){case "rect":shape=this.rect();break;case "circle":shape=this.circle();break;case "ellipse":shape=this.ellipse();
break;case "path":shape=this.path(attr["d"]);break;case "polygon":shape=this.polygon(attr["points"]);break;case "image":shape=this.image();break}shape.attr(attr);if(typeof set!=="undefined")set.push(shape)}}catch(error){alert("The SVG data you entered was invalid! ("+error+")")}};
Raphael.fn.polygon=function(pointString){var poly=["M"],point=pointString.split(" ");for(var i=0;i<point.length;i++){var c=point[i].split(",");for(var j=0;j<c.length;j++){var d=parseFloat(c[j]);if(d)poly.push(d)}if(i==0)poly.push("L")}poly.push("Z");return this.path(poly)};
(function(a){function d(b){var c=b||window.event,d=[].slice.call(arguments,1),e=0,f=!0,g=0,h=0;return b=a.event.fix(c),b.type="mousewheel",c.wheelDelta&&(e=c.wheelDelta/120),c.detail&&(e=-c.detail/3),h=e,c.axis!==undefined&&c.axis===c.HORIZONTAL_AXIS&&(h=0,g=-1*e),c.wheelDeltaY!==undefined&&(h=c.wheelDeltaY/120),c.wheelDeltaX!==undefined&&(g=-1*c.wheelDeltaX/120),d.unshift(b,e,g,h),(a.event.dispatch||a.event.handle).apply(this,d)}var b=["DOMMouseScroll","mousewheel"];if(a.event.fixHooks)for(var c=
b.length;c;)a.event.fixHooks[b[--c]]=a.event.mouseHooks;a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=b.length;a;)this.addEventListener(b[--a],d,!1);else this.onmousewheel=d},teardown:function(){if(this.removeEventListener)for(var a=b.length;a;)this.removeEventListener(b[--a],d,!1);else this.onmousewheel=null}},a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",
a)}})})(jQuery);
shortcut={"all_shortcuts":{},"add":function(shortcut_combination,callback,opt){var default_options={"type":"keydown","propagate":false,"disable_in_input":false,"target":document,"keycode":false};if(!opt)opt=default_options;else for(var dfo in default_options)if(typeof opt[dfo]=="undefined")opt[dfo]=default_options[dfo];var ele=opt.target;if(typeof opt.target=="string")ele=document.getElementById(opt.target);var ths=this;shortcut_combination=shortcut_combination.toLowerCase();var func=function(e){e=
e||window.event;if(opt["disable_in_input"]){var element;if(e.target)element=e.target;else if(e.srcElement)element=e.srcElement;if(element.nodeType==3)element=element.parentNode;if(element.tagName=="INPUT"||element.tagName=="TEXTAREA")return}var code=null;var character=null;if(e.key)character=e.key.toLowerCase();if(e.keyCode)code=e.keyCode;else if(e.which)code=e.which;if(character===null&&code!==null){character=String.fromCharCode(code).toLowerCase();if(code===188)character=",";if(code===190)character=
"."}var keys=shortcut_combination.split("+");var kp=0;var shift_nums={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(","0":")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"};var modifiers={shift:{wanted:false,pressed:false},ctrl:{wanted:false,pressed:false},alt:{wanted:false,pressed:false},meta:{wanted:false,pressed:false}};if(e.ctrlKey)modifiers.ctrl.pressed=true;if(e.shiftKey)modifiers.shift.pressed=true;if(e.altKey)modifiers.alt.pressed=true;if(e.metaKey)modifiers.meta.pressed=
true;for(var i=0;k=keys[i],i<keys.length;i++)if(k==="ctrl"||k==="control"){kp++;modifiers.ctrl.wanted=true}else if(k==="shift"){kp++;modifiers.shift.wanted=true}else if(k==="alt"){kp++;modifiers.alt.wanted=true}else if(k==="meta"){kp++;modifiers.meta.wanted=true}else if(k.length>1){if(k===character)kp++}else if(opt["keycode"]){if(opt["keycode"]===code)kp++}else if(character===k||e.shiftKey&&shift_nums[character]===k)kp++;if(kp==keys.length&&modifiers.ctrl.pressed==modifiers.ctrl.wanted&&modifiers.shift.pressed==
modifiers.shift.wanted&&modifiers.alt.pressed==modifiers.alt.wanted&&modifiers.meta.pressed==modifiers.meta.wanted){callback(e);if(!opt["propagate"]){e.cancelBubble=true;e.returnValue=false;if(e.stopPropagation){e.stopPropagation();e.preventDefault()}return false}}};this.all_shortcuts[shortcut_combination]={"callback":func,"target":ele,"event":opt["type"]};if(ele.addEventListener)ele.addEventListener(opt["type"],func,false);else if(ele.attachEvent)ele.attachEvent("on"+opt["type"],func);else ele["on"+
opt["type"]]=func},"remove":function(shortcut_combination){shortcut_combination=shortcut_combination.toLowerCase();var binding=this.all_shortcuts[shortcut_combination];delete this.all_shortcuts[shortcut_combination];if(!binding)return;var type=binding["event"];var ele=binding["target"];var callback=binding["callback"];if(ele.detachEvent)ele.detachEvent("on"+type,callback);else if(ele.removeEventListener)ele.removeEventListener(type,callback,false);else ele["on"+type]=false}};
(function(window,$,undefined){var defaultOpts={beforeShow:noop,move:noop,change:noop,show:noop,hide:noop,color:false,flat:false,showInput:false,showButtons:true,clickoutFiresChange:false,showInitial:false,showPalette:false,showPaletteOnly:false,showSelectionPalette:true,localStorageKey:false,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",preferredFormat:false,className:"",showAlpha:false,theme:"sp-light",palette:["fff","000"],selectionPalette:[],disabled:false},spectrums=
[],IE=!!/msie/i.exec(window.navigator.userAgent),rgbaSupport=function(){function contains(str,substr){return!!~(""+str).indexOf(substr)}var elem=document.createElement("div");var style=elem.style;style.cssText="background-color:rgba(0,0,0,.5)";return contains(style.backgroundColor,"rgba")||contains(style.backgroundColor,"hsla")}(),replaceInput=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),markup=
function(){var gradientFix="";if(IE)for(var i=1;i<=6;i++)gradientFix+="<div class='sp-"+i+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-hue'>",
"<div class='sp-slider'></div>",gradientFix,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();function paletteTemplate(p,
color,className){var html=[];for(var i=0;i<p.length;i++){var tiny=tinycolor(p[i]);var c=tiny.toHsl().l<0.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";c+=tinycolor.equals(color,p[i])?" sp-thumb-active":"";var swatchStyle=rgbaSupport?"background-color:"+tiny.toRgbString():"filter:"+tiny.toFilter();html.push('<span title="'+tiny.toRgbString()+'" data-color="'+tiny.toRgbString()+'" class="'+c+'"><span class="sp-thumb-inner" style="'+swatchStyle+';" /></span>')}return"<div class='sp-cf "+
className+"'>"+html.join("")+"</div>"}function hideAll(){for(var i=0;i<spectrums.length;i++)if(spectrums[i])spectrums[i].hide()}function instanceOptions(o,callbackContext){var opts=$.extend({},defaultOpts,o);opts.callbacks={"move":bind(opts.move,callbackContext),"change":bind(opts.change,callbackContext),"show":bind(opts.show,callbackContext),"hide":bind(opts.hide,callbackContext),"beforeShow":bind(opts.beforeShow,callbackContext)};return opts}function spectrum(element,o){var opts=instanceOptions(o,
element),flat=opts.flat,showSelectionPalette=opts.showSelectionPalette,localStorageKey=opts.localStorageKey,theme=opts.theme,callbacks=opts.callbacks,resize=throttle(reflow,10),visible=false,dragWidth=0,dragHeight=0,dragHelperHeight=0,slideHeight=0,slideWidth=0,alphaWidth=0,alphaSlideHelperWidth=0,slideHelperHeight=0,currentHue=0,currentSaturation=0,currentValue=0,currentAlpha=1,palette=opts.palette.slice(0),paletteArray=$.isArray(palette[0])?palette:[palette],selectionPalette=opts.selectionPalette.slice(0),
maxSelectionSize=opts.maxSelectionSize,draggingClass="sp-dragging";var doc=element.ownerDocument,body=doc.body,boundElement=$(element),disabled=false,container=$(markup,doc).addClass(theme),dragger=container.find(".sp-color"),dragHelper=container.find(".sp-dragger"),slider=container.find(".sp-hue"),slideHelper=container.find(".sp-slider"),alphaSliderInner=container.find(".sp-alpha-inner"),alphaSlider=container.find(".sp-alpha"),alphaSlideHelper=container.find(".sp-alpha-handle"),textInput=container.find(".sp-input"),
paletteContainer=container.find(".sp-palette"),initialColorContainer=container.find(".sp-initial"),cancelButton=container.find(".sp-cancel"),chooseButton=container.find(".sp-choose"),isInput=boundElement.is("input"),shouldReplace=isInput&&!flat,replacer=shouldReplace?$(replaceInput).addClass(theme).addClass(opts.className):$([]),offsetElement=shouldReplace?replacer:boundElement,previewElement=replacer.find(".sp-preview-inner"),initialColor=opts.color||isInput&&boundElement.val(),colorOnShow=false,
preferredFormat=opts.preferredFormat,currentPreferredFormat=preferredFormat,clickoutFiresChange=!opts.showButtons||opts.clickoutFiresChange;function applyOptions(){container.toggleClass("sp-flat",flat);container.toggleClass("sp-input-disabled",!opts.showInput);container.toggleClass("sp-alpha-enabled",opts.showAlpha);container.toggleClass("sp-buttons-disabled",!opts.showButtons||flat);container.toggleClass("sp-palette-disabled",!opts.showPalette);container.toggleClass("sp-palette-only",opts.showPaletteOnly);
container.toggleClass("sp-initial-disabled",!opts.showInitial);container.addClass(opts.className);reflow()}function initialize(){if(IE)container.find("*:not(input)").attr("unselectable","on");applyOptions();if(shouldReplace)boundElement.after(replacer).hide();if(flat)boundElement.after(container).hide();else{var appendTo=opts.appendTo==="parent"?boundElement.parent():$(opts.appendTo);if(appendTo.length!==1)appendTo=$("body");appendTo.append(container)}if(localStorageKey&&window.localStorage){try{var oldPalette=
window.localStorage[localStorageKey].split(",#");if(oldPalette.length>1){delete window.localStorage[localStorageKey];$.each(oldPalette,function(i,c){addColorToSelectionPalette(c)})}}catch(e){}try{selectionPalette=window.localStorage[localStorageKey].split(";")}catch(e){}}offsetElement.bind("click.spectrum touchstart.spectrum",function(e){if(!disabled)toggle();e.stopPropagation();if(!$(e.target).is("input"))e.preventDefault()});if(boundElement.is(":disabled")||opts.disabled===true)disable();container.click(stopPropagation);
textInput.change(setFromTextInput);textInput.bind("paste",function(){setTimeout(setFromTextInput,1)});textInput.keydown(function(e){if(e.keyCode==13)setFromTextInput()});cancelButton.text(opts.cancelText);cancelButton.bind("click.spectrum",function(e){e.stopPropagation();e.preventDefault();hide("cancel")});chooseButton.text(opts.chooseText);chooseButton.bind("click.spectrum",function(e){e.stopPropagation();e.preventDefault();if(isValid()){updateOriginalInput(true);hide()}});draggable(alphaSlider,
function(dragX,dragY,e){currentAlpha=dragX/alphaWidth;if(e.shiftKey)currentAlpha=Math.round(currentAlpha*10)/10;move()});draggable(slider,function(dragX,dragY){currentHue=parseFloat(dragY/slideHeight);move()},dragStart,dragStop);draggable(dragger,function(dragX,dragY){currentSaturation=parseFloat(dragX/dragWidth);currentValue=parseFloat((dragHeight-dragY)/dragHeight);move()},dragStart,dragStop);if(!!initialColor){set(initialColor);updateUI();currentPreferredFormat=preferredFormat||tinycolor(initialColor).format;
addColorToSelectionPalette(initialColor)}else updateUI();if(flat)show();function palletElementClick(e){if(e.data&&e.data.ignore){set($(this).data("color"));move()}else{set($(this).data("color"));updateOriginalInput(true);move();hide()}return false}var paletteEvent=IE?"mousedown.spectrum":"click.spectrum touchstart.spectrum";paletteContainer.delegate(".sp-thumb-el",paletteEvent,palletElementClick);initialColorContainer.delegate(".sp-thumb-el:nth-child(1)",paletteEvent,{ignore:true},palletElementClick)}
function addColorToSelectionPalette(color){if(showSelectionPalette){var colorRgb=tinycolor(color).toRgbString();if($.inArray(colorRgb,selectionPalette)===-1){selectionPalette.push(colorRgb);while(selectionPalette.length>maxSelectionSize)selectionPalette.shift()}if(localStorageKey&&window.localStorage)try{window.localStorage[localStorageKey]=selectionPalette.join(";")}catch(e){}}}function getUniqueSelectionPalette(){var unique=[];var p=selectionPalette;var paletteLookup={};var rgb;if(opts.showPalette){for(var i=
0;i<paletteArray.length;i++)for(var j=0;j<paletteArray[i].length;j++){rgb=tinycolor(paletteArray[i][j]).toRgbString();paletteLookup[rgb]=true}for(i=0;i<p.length;i++){rgb=tinycolor(p[i]).toRgbString();if(!paletteLookup.hasOwnProperty(rgb)){unique.push(p[i]);paletteLookup[rgb]=true}}}return unique.reverse().slice(0,opts.maxSelectionSize)}function drawPalette(){var currentColor=get();var html=$.map(paletteArray,function(palette,i){return paletteTemplate(palette,currentColor,"sp-palette-row sp-palette-row-"+
i)});if(selectionPalette)html.push(paletteTemplate(getUniqueSelectionPalette(),currentColor,"sp-palette-row sp-palette-row-selection"));paletteContainer.html(html.join(""))}function drawInitial(){if(opts.showInitial){var initial=colorOnShow;var current=get();initialColorContainer.html(paletteTemplate([initial,current],current,"sp-palette-row-initial"))}}function dragStart(){if(dragHeight<=0||dragWidth<=0||slideHeight<=0)reflow();container.addClass(draggingClass)}function dragStop(){container.removeClass(draggingClass)}
function setFromTextInput(){var tiny=tinycolor(textInput.val());if(tiny.ok)set(tiny);else textInput.addClass("sp-validation-error")}function toggle(){if(visible)hide();else show()}function show(){var event=$.Event("beforeShow.spectrum");if(visible){reflow();return}boundElement.trigger(event,[get()]);if(callbacks.beforeShow(get())===false||event.isDefaultPrevented())return;hideAll();visible=true;$(doc).bind("click.spectrum",hide);$(window).bind("resize.spectrum",resize);replacer.addClass("sp-active");
container.removeClass("sp-hidden");if(opts.showPalette)drawPalette();reflow();updateUI();colorOnShow=get();drawInitial();callbacks.show(colorOnShow);boundElement.trigger("show.spectrum",[colorOnShow])}function hide(e){if(e&&e.type=="click"&&e.button==2)return;if(!visible||flat)return;visible=false;$(doc).unbind("click.spectrum",hide);$(window).unbind("resize.spectrum",resize);replacer.removeClass("sp-active");container.addClass("sp-hidden");var colorHasChanged=!tinycolor.equals(get(),colorOnShow);
if(colorHasChanged)if(clickoutFiresChange&&e!=="cancel")updateOriginalInput(true);else revert();callbacks.hide(get());boundElement.trigger("hide.spectrum",[get()])}function revert(){set(colorOnShow,true)}function set(color,ignoreFormatChange){if(tinycolor.equals(color,get()))return;var newColor=tinycolor(color);var newHsv=newColor.toHsv();currentHue=newHsv.h;currentSaturation=newHsv.s;currentValue=newHsv.v;currentAlpha=newHsv.a;updateUI();if(newColor.ok&&!ignoreFormatChange)currentPreferredFormat=
preferredFormat||newColor.format}function get(opts){opts=opts||{};return tinycolor.fromRatio({h:currentHue,s:currentSaturation,v:currentValue,a:Math.round(currentAlpha*100)/100},{format:opts.format||currentPreferredFormat})}function isValid(){return!textInput.hasClass("sp-validation-error")}function move(){updateUI();callbacks.move(get());boundElement.trigger("move.spectrum",[get()])}function updateUI(){textInput.removeClass("sp-validation-error");updateHelperLocations();var flatColor=tinycolor.fromRatio({h:currentHue,
s:1,v:1});dragger.css("background-color",flatColor.toHexString());var format=currentPreferredFormat;if(currentAlpha<1)if(format==="hex"||format==="hex3"||format==="hex6"||format==="name")format="rgb";var realColor=get({format:format}),realHex=realColor.toHexString(),realRgb=realColor.toRgbString();if(rgbaSupport||realColor.alpha===1)previewElement.css("background-color",realRgb);else{previewElement.css("background-color","transparent");previewElement.css("filter",realColor.toFilter())}if(opts.showAlpha){var rgb=
realColor.toRgb();rgb.a=0;var realAlpha=tinycolor(rgb).toRgbString();var gradient="linear-gradient(left, "+realAlpha+", "+realHex+")";if(IE)alphaSliderInner.css("filter",tinycolor(realAlpha).toFilter({gradientType:1},realHex));else{alphaSliderInner.css("background","-webkit-"+gradient);alphaSliderInner.css("background","-moz-"+gradient);alphaSliderInner.css("background","-ms-"+gradient);alphaSliderInner.css("background",gradient)}}if(opts.showInput)textInput.val(realColor.toString(format));if(opts.showPalette)drawPalette();
drawInitial()}function updateHelperLocations(){var s=currentSaturation;var v=currentValue;var dragX=s*dragWidth;var dragY=dragHeight-v*dragHeight;dragX=Math.max(-dragHelperHeight,Math.min(dragWidth-dragHelperHeight,dragX-dragHelperHeight));dragY=Math.max(-dragHelperHeight,Math.min(dragHeight-dragHelperHeight,dragY-dragHelperHeight));dragHelper.css({"top":dragY,"left":dragX});var alphaX=currentAlpha*alphaWidth;alphaSlideHelper.css({"left":alphaX-alphaSlideHelperWidth/2});var slideY=currentHue*slideHeight;
slideHelper.css({"top":slideY-slideHelperHeight})}function updateOriginalInput(fireCallback){var color=get();if(isInput)boundElement.val(color.toString(currentPreferredFormat)).change();var hasChanged=!tinycolor.equals(color,colorOnShow);colorOnShow=color;addColorToSelectionPalette(color);if(fireCallback&&hasChanged){callbacks.change(color);boundElement.trigger("change.spectrum",[color])}}function reflow(){dragWidth=dragger.width();dragHeight=dragger.height();dragHelperHeight=dragHelper.height();
slideWidth=slider.width();slideHeight=slider.height();slideHelperHeight=slideHelper.height();alphaWidth=alphaSlider.width();alphaSlideHelperWidth=alphaSlideHelper.width();if(!flat){container.css("position","absolute");container.offset(getOffset(container,offsetElement))}updateHelperLocations()}function destroy(){boundElement.show();offsetElement.unbind("click.spectrum touchstart.spectrum");container.remove();replacer.remove();spectrums[spect.id]=null}function option(optionName,optionValue){if(optionName===
undefined)return $.extend({},opts);if(optionValue===undefined)return opts[optionName];opts[optionName]=optionValue;applyOptions()}function enable(){disabled=false;boundElement.attr("disabled",false);offsetElement.removeClass("sp-disabled")}function disable(){hide();disabled=true;boundElement.attr("disabled",true);offsetElement.addClass("sp-disabled")}initialize();var spect={show:show,hide:hide,toggle:toggle,reflow:reflow,option:option,enable:enable,disable:disable,set:function(c){set(c);updateOriginalInput()},
get:get,destroy:destroy,container:container};spect.id=spectrums.push(spect)-1;return spect}function getOffset(picker,input){var extraY=0;var dpWidth=picker.outerWidth();var dpHeight=picker.outerHeight();var inputHeight=input.outerHeight();var doc=picker[0].ownerDocument;var docElem=doc.documentElement;var viewWidth=docElem.clientWidth+$(doc).scrollLeft();var viewHeight=docElem.clientHeight+$(doc).scrollTop();var offset=input.offset();offset.top+=inputHeight;offset.left-=Math.min(offset.left,offset.left+
dpWidth>viewWidth&&viewWidth>dpWidth?Math.abs(offset.left+dpWidth-viewWidth):0);offset.top-=Math.min(offset.top,offset.top+dpHeight>viewHeight&&viewHeight>dpHeight?Math.abs(dpHeight+inputHeight-extraY):extraY);return offset}function noop(){}function stopPropagation(e){e.stopPropagation()}function bind(func,obj){var slice=Array.prototype.slice;var args=slice.call(arguments,2);return function(){return func.apply(obj,args.concat(slice.call(arguments)))}}function draggable(element,onmove,onstart,onstop){onmove=
onmove||function(){};onstart=onstart||function(){};onstop=onstop||function(){};var doc=element.ownerDocument||document;var dragging=false;var offset={};var maxHeight=0;var maxWidth=0;var hasTouch="ontouchstart"in window;var duringDragEvents={};duringDragEvents["selectstart"]=prevent;duringDragEvents["dragstart"]=prevent;duringDragEvents[hasTouch?"touchmove":"mousemove"]=move;duringDragEvents[hasTouch?"touchend":"mouseup"]=stop;function prevent(e){if(e.stopPropagation)e.stopPropagation();if(e.preventDefault)e.preventDefault();
e.returnValue=false}function move(e){if(dragging){if(IE&&document.documentMode<9&&!e.button)return stop();var touches=e.originalEvent.touches;var pageX=touches?touches[0].pageX:e.pageX;var pageY=touches?touches[0].pageY:e.pageY;var dragX=Math.max(0,Math.min(pageX-offset.left,maxWidth));var dragY=Math.max(0,Math.min(pageY-offset.top,maxHeight));if(hasTouch)prevent(e);onmove.apply(element,[dragX,dragY,e])}}function start(e){var rightclick=e.which?e.which==3:e.button==2;var touches=e.originalEvent.touches;
if(!rightclick&&!dragging)if(onstart.apply(element,arguments)!==false){dragging=true;maxHeight=$(element).height();maxWidth=$(element).width();offset=$(element).offset();$(doc).bind(duringDragEvents);$(doc.body).addClass("sp-dragging");if(!hasTouch)move(e);prevent(e)}}function stop(){if(dragging){$(doc).unbind(duringDragEvents);$(doc.body).removeClass("sp-dragging");onstop.apply(element,arguments)}dragging=false}$(element).bind(hasTouch?"touchstart":"mousedown",start)}function throttle(func,wait,
debounce){var timeout;return function(){var context=this,args=arguments;var throttler=function(){timeout=null;func.apply(context,args)};if(debounce)clearTimeout(timeout);if(debounce||!timeout)timeout=setTimeout(throttler,wait)}}var dataID="spectrum.id";$.fn.spectrum=function(opts,extra){if(typeof opts=="string"){var returnValue=this;var args=Array.prototype.slice.call(arguments,1);this.each(function(){var spect=spectrums[$(this).data(dataID)];if(spect){var method=spect[opts];if(!method)throw new Error("Spectrum: no such method: '"+
opts+"'");if(opts=="get")returnValue=spect.get();else if(opts=="container")returnValue=spect.container;else if(opts=="option")returnValue=spect.option.apply(spect,args);else if(opts=="destroy"){spect.destroy();$(this).removeData(dataID)}else method.apply(spect,args)}});return returnValue}return this.spectrum("destroy").each(function(){var spect=spectrum(this,opts);$(this).data(dataID,spect.id)})};$.fn.spectrum.load=true;$.fn.spectrum.loadOpts={};$.fn.spectrum.draggable=draggable;$.fn.spectrum.defaults=
defaultOpts;$.spectrum={};$.spectrum.localization={};$.spectrum.palettes={};$.fn.spectrum.processNativeColorInputs=function(){var colorInput=$("<input type='color' value='!' />")[0];var supportsColor=colorInput.type==="color"&&colorInput.value!="!";if(!supportsColor)$("input[type=color]").spectrum({preferredFormat:"hex6"})};(function(root){var trimLeft=/^[\s,#]+/,trimRight=/\s+$/,tinyCounter=0,math=Math,mathRound=math.round,mathMin=math.min,mathMax=math.max,mathRandom=math.random;function tinycolor(color,
opts){color=color?color:"";opts=opts||{};if(typeof color=="object"&&color.hasOwnProperty("_tc_id"))return color;var rgb=inputToRGB(color);var r=rgb.r,g=rgb.g,b=rgb.b,a=rgb.a,roundA=mathRound(100*a)/100,format=opts.format||rgb.format;if(r<1)r=mathRound(r);if(g<1)g=mathRound(g);if(b<1)b=mathRound(b);return{ok:rgb.ok,format:format,_tc_id:tinyCounter++,alpha:a,toHsv:function(){var hsv=rgbToHsv(r,g,b);return{h:hsv.h*360,s:hsv.s,v:hsv.v,a:a}},toHsvString:function(){var hsv=rgbToHsv(r,g,b);var h=mathRound(hsv.h*
360),s=mathRound(hsv.s*100),v=mathRound(hsv.v*100);return a==1?"hsv("+h+", "+s+"%, "+v+"%)":"hsva("+h+", "+s+"%, "+v+"%, "+roundA+")"},toHsl:function(){var hsl=rgbToHsl(r,g,b);return{h:hsl.h*360,s:hsl.s,l:hsl.l,a:a}},toHslString:function(){var hsl=rgbToHsl(r,g,b);var h=mathRound(hsl.h*360),s=mathRound(hsl.s*100),l=mathRound(hsl.l*100);return a==1?"hsl("+h+", "+s+"%, "+l+"%)":"hsla("+h+", "+s+"%, "+l+"%, "+roundA+")"},toHex:function(allow3Char){return rgbToHex(r,g,b,allow3Char)},toHexString:function(allow3Char){return"#"+
rgbToHex(r,g,b,allow3Char)},toRgb:function(){return{r:mathRound(r),g:mathRound(g),b:mathRound(b),a:a}},toRgbString:function(){return a==1?"rgb("+mathRound(r)+", "+mathRound(g)+", "+mathRound(b)+")":"rgba("+mathRound(r)+", "+mathRound(g)+", "+mathRound(b)+", "+roundA+")"},toPercentageRgb:function(){return{r:mathRound(bound01(r,255)*100)+"%",g:mathRound(bound01(g,255)*100)+"%",b:mathRound(bound01(b,255)*100)+"%",a:a}},toPercentageRgbString:function(){return a==1?"rgb("+mathRound(bound01(r,255)*100)+
"%, "+mathRound(bound01(g,255)*100)+"%, "+mathRound(bound01(b,255)*100)+"%)":"rgba("+mathRound(bound01(r,255)*100)+"%, "+mathRound(bound01(g,255)*100)+"%, "+mathRound(bound01(b,255)*100)+"%, "+roundA+")"},toName:function(){return hexNames[rgbToHex(r,g,b,true)]||false},toFilter:function(secondColor){var hex=rgbToHex(r,g,b);var secondHex=hex;var alphaHex=Math.round(parseFloat(a)*255).toString(16);var secondAlphaHex=alphaHex;var gradientType=opts&&opts.gradientType?"GradientType = 1, ":"";if(secondColor){var s=
tinycolor(secondColor);secondHex=s.toHex();secondAlphaHex=Math.round(parseFloat(s.alpha)*255).toString(16)}return"progid:DXImageTransform.Microsoft.gradient("+gradientType+"startColorstr=#"+pad2(alphaHex)+hex+",endColorstr=#"+pad2(secondAlphaHex)+secondHex+")"},toString:function(format){format=format||this.format;var formattedString=false;if(format==="rgb")formattedString=this.toRgbString();if(format==="prgb")formattedString=this.toPercentageRgbString();if(format==="hex"||format==="hex6")formattedString=
this.toHexString();if(format==="hex3")formattedString=this.toHexString(true);if(format==="name")formattedString=this.toName();if(format==="hsl")formattedString=this.toHslString();if(format==="hsv")formattedString=this.toHsvString();return formattedString||this.toHexString()}}}tinycolor.fromRatio=function(color,opts){if(typeof color=="object"){var newColor={};for(var i in color)if(color.hasOwnProperty(i))if(i==="a")newColor[i]=color[i];else newColor[i]=convertToPercentage(color[i]);color=newColor}return tinycolor(color,
opts)};function inputToRGB(color){var rgb={r:0,g:0,b:0};var a=1;var ok=false;var format=false;if(typeof color=="string")color=stringInputToObject(color);if(typeof color=="object"){if(color.hasOwnProperty("r")&&color.hasOwnProperty("g")&&color.hasOwnProperty("b")){rgb=rgbToRgb(color.r,color.g,color.b);ok=true;format=String(color.r).substr(-1)==="%"?"prgb":"rgb"}else if(color.hasOwnProperty("h")&&color.hasOwnProperty("s")&&color.hasOwnProperty("v")){color.s=convertToPercentage(color.s);color.v=convertToPercentage(color.v);
rgb=hsvToRgb(color.h,color.s,color.v);ok=true;format="hsv"}else if(color.hasOwnProperty("h")&&color.hasOwnProperty("s")&&color.hasOwnProperty("l")){color.s=convertToPercentage(color.s);color.l=convertToPercentage(color.l);rgb=hslToRgb(color.h,color.s,color.l);ok=true;format="hsl"}if(color.hasOwnProperty("a"))a=color.a}a=parseFloat(a);if(isNaN(a)||a<0||a>1)a=1;return{ok:ok,format:color.format||format,r:mathMin(255,mathMax(rgb.r,0)),g:mathMin(255,mathMax(rgb.g,0)),b:mathMin(255,mathMax(rgb.b,0)),a:a}}
function rgbToRgb(r,g,b){return{r:bound01(r,255)*255,g:bound01(g,255)*255,b:bound01(b,255)*255}}function rgbToHsl(r,g,b){r=bound01(r,255);g=bound01(g,255);b=bound01(b,255);var max=mathMax(r,g,b),min=mathMin(r,g,b);var h,s,l=(max+min)/2;if(max==min)h=s=0;else{var d=max-min;s=l>0.5?d/(2-max-min):d/(max+min);switch(max){case r:h=(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4;break}h/=6}return{h:h,s:s,l:l}}function hslToRgb(h,s,l){var r,g,b;h=bound01(h,360);s=bound01(s,100);l=bound01(l,
100);function hue2rgb(p,q,t){if(t<0)t+=1;if(t>1)t-=1;if(t<1/6)return p+(q-p)*6*t;if(t<1/2)return q;if(t<2/3)return p+(q-p)*(2/3-t)*6;return p}if(s===0)r=g=b=l;else{var q=l<0.5?l*(1+s):l+s-l*s;var p=2*l-q;r=hue2rgb(p,q,h+1/3);g=hue2rgb(p,q,h);b=hue2rgb(p,q,h-1/3)}return{r:r*255,g:g*255,b:b*255}}function rgbToHsv(r,g,b){r=bound01(r,255);g=bound01(g,255);b=bound01(b,255);var max=mathMax(r,g,b),min=mathMin(r,g,b);var h,s,v=max;var d=max-min;s=max===0?0:d/max;if(max==min)h=0;else{switch(max){case r:h=
(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4;break}h/=6}return{h:h,s:s,v:v}}function hsvToRgb(h,s,v){h=bound01(h,360)*6;s=bound01(s,100);v=bound01(v,100);var i=math.floor(h),f=h-i,p=v*(1-s),q=v*(1-f*s),t=v*(1-(1-f)*s),mod=i%6,r=[v,q,p,p,t,v][mod],g=[t,v,v,q,p,p][mod],b=[p,p,t,v,v,q][mod];return{r:r*255,g:g*255,b:b*255}}function rgbToHex(r,g,b,allow3Char){var hex=[pad2(mathRound(r).toString(16)),pad2(mathRound(g).toString(16)),pad2(mathRound(b).toString(16))];if(allow3Char&&
hex[0].charAt(0)==hex[0].charAt(1)&&hex[1].charAt(0)==hex[1].charAt(1)&&hex[2].charAt(0)==hex[2].charAt(1))return hex[0].charAt(0)+hex[1].charAt(0)+hex[2].charAt(0);return hex.join("")}tinycolor.equals=function(color1,color2){if(!color1||!color2)return false;return tinycolor(color1).toRgbString()==tinycolor(color2).toRgbString()};tinycolor.random=function(){return tinycolor.fromRatio({r:mathRandom(),g:mathRandom(),b:mathRandom()})};tinycolor.desaturate=function(color,amount){var hsl=tinycolor(color).toHsl();
hsl.s-=(amount||10)/100;hsl.s=clamp01(hsl.s);return tinycolor(hsl)};tinycolor.saturate=function(color,amount){var hsl=tinycolor(color).toHsl();hsl.s+=(amount||10)/100;hsl.s=clamp01(hsl.s);return tinycolor(hsl)};tinycolor.greyscale=function(color){return tinycolor.desaturate(color,100)};tinycolor.lighten=function(color,amount){var hsl=tinycolor(color).toHsl();hsl.l+=(amount||10)/100;hsl.l=clamp01(hsl.l);return tinycolor(hsl)};tinycolor.darken=function(color,amount){var hsl=tinycolor(color).toHsl();
hsl.l-=(amount||10)/100;hsl.l=clamp01(hsl.l);return tinycolor(hsl)};tinycolor.complement=function(color){var hsl=tinycolor(color).toHsl();hsl.h=(hsl.h+180)%360;return tinycolor(hsl)};tinycolor.triad=function(color){var hsl=tinycolor(color).toHsl();var h=hsl.h;return[tinycolor(color),tinycolor({h:(h+120)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+240)%360,s:hsl.s,l:hsl.l})]};tinycolor.tetrad=function(color){var hsl=tinycolor(color).toHsl();var h=hsl.h;return[tinycolor(color),tinycolor({h:(h+90)%360,s:hsl.s,
l:hsl.l}),tinycolor({h:(h+180)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+270)%360,s:hsl.s,l:hsl.l})]};tinycolor.splitcomplement=function(color){var hsl=tinycolor(color).toHsl();var h=hsl.h;return[tinycolor(color),tinycolor({h:(h+72)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+216)%360,s:hsl.s,l:hsl.l})]};tinycolor.analogous=function(color,results,slices){results=results||6;slices=slices||30;var hsl=tinycolor(color).toHsl();var part=360/slices;var ret=[tinycolor(color)];for(hsl.h=(hsl.h-(part*results>>1)+720)%
360;--results;){hsl.h=(hsl.h+part)%360;ret.push(tinycolor(hsl))}return ret};tinycolor.monochromatic=function(color,results){results=results||6;var hsv=tinycolor(color).toHsv();var h=hsv.h,s=hsv.s,v=hsv.v;var ret=[];var modification=1/results;while(results--){ret.push(tinycolor({h:h,s:s,v:v}));v=(v+modification)%1}return ret};tinycolor.readability=function(color1,color2){var a=tinycolor(color1).toRgb();var b=tinycolor(color2).toRgb();var brightnessA=(a.r*299+a.g*587+a.b*114)/1E3;var brightnessB=(b.r*
299+b.g*587+b.b*114)/1E3;var colorDiff=Math.max(a.r,b.r)-Math.min(a.r,b.r)+Math.max(a.g,b.g)-Math.min(a.g,b.g)+Math.max(a.b,b.b)-Math.min(a.b,b.b);return{brightness:Math.abs(brightnessA-brightnessB),color:colorDiff}};tinycolor.readable=function(color1,color2){var readability=tinycolor.readability(color1,color2);return readability.brightness>125&&readability.color>500};tinycolor.mostReadable=function(baseColor,colorList){var bestColor=null;var bestScore=0;var bestIsReadable=false;for(var i=0;i<colorList.length;i++){var readability=
tinycolor.readability(baseColor,colorList[i]);var readable=readability.brightness>125&&readability.color>500;var score=3*(readability.brightness/125)+readability.color/500;if(readable&&!bestIsReadable||readable&&bestIsReadable&&score>bestScore||!readable&&!bestIsReadable&&score>bestScore){bestIsReadable=readable;bestScore=score;bestColor=tinycolor(colorList[i])}}return bestColor};var names=tinycolor.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",
bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",
darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",
indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",
maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",
palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",
turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};var hexNames=tinycolor.hexNames=flip(names);function flip(o){var flipped={};for(var i in o)if(o.hasOwnProperty(i))flipped[o[i]]=i;return flipped}function bound01(n,max){if(isOnePointZero(n))n="100%";var processPercent=isPercentage(n);n=mathMin(max,mathMax(0,parseFloat(n)));if(processPercent)n=parseInt(n*max,10)/100;if(math.abs(n-max)<1.0E-6)return 1;return n%max/parseFloat(max)}function clamp01(val){return mathMin(1,
mathMax(0,val))}function parseHex(val){return parseInt(val,16)}function isOnePointZero(n){return typeof n=="string"&&n.indexOf(".")!=-1&&parseFloat(n)===1}function isPercentage(n){return typeof n==="string"&&n.indexOf("%")!=-1}function pad2(c){return c.length==1?"0"+c:""+c}function convertToPercentage(n){if(n<=1)n=n*100+"%";return n}var matchers=function(){var CSS_INTEGER="[-\\+]?\\d+%?";var CSS_NUMBER="[-\\+]?\\d*\\.\\d+%?";var CSS_UNIT="(?:"+CSS_NUMBER+")|(?:"+CSS_INTEGER+")";var PERMISSIVE_MATCH3=
"[\\s|\\(]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?";var PERMISSIVE_MATCH4="[\\s|\\(]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?";return{rgb:new RegExp("rgb"+PERMISSIVE_MATCH3),rgba:new RegExp("rgba"+PERMISSIVE_MATCH4),hsl:new RegExp("hsl"+PERMISSIVE_MATCH3),hsla:new RegExp("hsla"+PERMISSIVE_MATCH4),hsv:new RegExp("hsv"+PERMISSIVE_MATCH3),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();
function stringInputToObject(color){color=color.replace(trimLeft,"").replace(trimRight,"").toLowerCase();var named=false;if(names[color]){color=names[color];named=true}else if(color=="transparent")return{r:0,g:0,b:0,a:0};var match;if(match=matchers.rgb.exec(color))return{r:match[1],g:match[2],b:match[3]};if(match=matchers.rgba.exec(color))return{r:match[1],g:match[2],b:match[3],a:match[4]};if(match=matchers.hsl.exec(color))return{h:match[1],s:match[2],l:match[3]};if(match=matchers.hsla.exec(color))return{h:match[1],
s:match[2],l:match[3],a:match[4]};if(match=matchers.hsv.exec(color))return{h:match[1],s:match[2],v:match[3]};if(match=matchers.hex6.exec(color))return{r:parseHex(match[1]),g:parseHex(match[2]),b:parseHex(match[3]),format:named?"name":"hex"};if(match=matchers.hex3.exec(color))return{r:parseHex(match[1]+""+match[1]),g:parseHex(match[2]+""+match[2]),b:parseHex(match[3]+""+match[3]),format:named?"name":"hex"};return false}root.tinycolor=tinycolor})(this);$(function(){if($.fn.spectrum.load)$.fn.spectrum.processNativeColorInputs()});
function log(){window.console&&(log=Function.prototype.bind?Function.prototype.bind.call(console.log,console):function(){Function.prototype.apply.call(console.log,console,arguments)},log.apply(this,arguments))}})(window,jQuery);
(function($){var undefined;$.fn.emptyForce=function(){for(var i=0,elem;(elem=$(this)[i])!=null;i++){if(elem.nodeType===1)$.cleanData(elem.getElementsByTagName("*"));if($.jqplot.use_excanvas)elem.outerHTML="";else while(elem.firstChild)elem.removeChild(elem.firstChild);elem=null}return $(this)};$.fn.removeChildForce=function(parent){while(parent.firstChild){this.removeChildForce(parent.firstChild);parent.removeChild(parent.firstChild)}};$.fn.jqplot=function(){var datas=[];var options=[];for(var i=
0,l=arguments.length;i<l;i++)if($.isArray(arguments[i]))datas.push(arguments[i]);else if($.isPlainObject(arguments[i]))options.push(arguments[i]);return this.each(function(index){var tid,plot,$this=$(this),dl=datas.length,ol=options.length,data,opts;if(index<dl)data=datas[index];else data=dl?datas[dl-1]:null;if(index<ol)opts=options[index];else opts=ol?options[ol-1]:null;tid=$this.attr("id");if(tid===undefined){tid="jqplot_target_"+$.jqplot.targetCounter++;$this.attr("id",tid)}plot=$.jqplot(tid,data,
opts);$this.data("jqplot",plot)})};$.jqplot=function(target,data,options){var _data=null,_options=null;if(arguments.length===3){_data=data;_options=options}else if(arguments.length===2)if($.isArray(data))_data=data;else if($.isPlainObject(data))_options=data;if(_data===null&&_options!==null&&_options.data)_data=_options.data;var plot=new jqPlot;$("#"+target).removeClass("jqplot-error");if($.jqplot.config.catchErrors)try{plot.init(target,_data,_options);plot.themeEngine.init.call(plot);return plot}catch(e){var msg=
$.jqplot.config.errorMessage||e.message;$("#"+target).append('<div class="jqplot-error-message">'+msg+"</div>");$("#"+target).addClass("jqplot-error");document.getElementById(target).style.background=$.jqplot.config.errorBackground;document.getElementById(target).style.border=$.jqplot.config.errorBorder;document.getElementById(target).style.fontFamily=$.jqplot.config.errorFontFamily;document.getElementById(target).style.fontSize=$.jqplot.config.errorFontSize;document.getElementById(target).style.fontStyle=
$.jqplot.config.errorFontStyle;document.getElementById(target).style.fontWeight=$.jqplot.config.errorFontWeight}else{plot.init(target,_data,_options);plot.draw_part1();plot.themeEngine.init.call(plot);return plot}};$.jqplot.version="@VERSION";$.jqplot.revision="@REVISION";$.jqplot.targetCounter=1;$.jqplot.CanvasManager=function(){if(typeof $.jqplot.CanvasManager.canvases=="undefined"){$.jqplot.CanvasManager.canvases=[];$.jqplot.CanvasManager.free=[]}var myCanvases=[];this.getCanvas=function(){var canvas;
var makeNew=true;if(!$.jqplot.use_excanvas)for(var i=0,l=$.jqplot.CanvasManager.canvases.length;i<l;i++)if($.jqplot.CanvasManager.free[i]===true){makeNew=false;canvas=$.jqplot.CanvasManager.canvases[i];$.jqplot.CanvasManager.free[i]=false;myCanvases.push(i);break}if(makeNew){canvas=document.createElement("canvas");myCanvases.push($.jqplot.CanvasManager.canvases.length);$.jqplot.CanvasManager.canvases.push(canvas);$.jqplot.CanvasManager.free.push(false)}return canvas};this.initCanvas=function(canvas){if($.jqplot.use_excanvas)return window.G_vmlCanvasManager.initElement(canvas);
return canvas};this.freeAllCanvases=function(){for(var i=0,l=myCanvases.length;i<l;i++)this.freeCanvas(myCanvases[i]);myCanvases=[]};this.freeCanvas=function(idx){if($.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==undefined){window.G_vmlCanvasManager.uninitElement($.jqplot.CanvasManager.canvases[idx]);$.jqplot.CanvasManager.canvases[idx]=null}else{var canvas=$.jqplot.CanvasManager.canvases[idx];canvas.getContext("2d").clearRect(0,0,canvas.width,canvas.height);$(canvas).unbind().removeAttr("class").removeAttr("style");
$(canvas).css({left:"",top:"",position:""});canvas.width=0;canvas.height=0;$.jqplot.CanvasManager.free[idx]=true}}};$.jqplot.log=function(){if(window.console)window.console.log.apply(window.console,arguments)};$.jqplot.config={addDomReference:false,enablePlugins:false,defaultHeight:300,defaultWidth:400,UTCAdjust:false,timezoneOffset:new Date((new Date).getTimezoneOffset()*6E4),errorMessage:"",errorBackground:"",errorBorder:"",errorFontFamily:"",errorFontSize:"",errorFontStyle:"",errorFontWeight:"",
catchErrors:false,defaultTickFormatString:"%.1f",defaultColors:["#4bb2c5","#EAA228","#c5b47f","#579575","#839557","#958c12","#953579","#4b5de4","#d8b83f","#ff5800","#0085cc","#c747a3","#cddf54","#FBD178","#26B4E3","#bd70c7"],defaultNegativeColors:["#498991","#C08840","#9F9274","#546D61","#646C4A","#6F6621","#6E3F5F","#4F64B0","#A89050","#C45923","#187399","#945381","#959E5C","#C7AF7B","#478396","#907294"],dashLength:4,gapLength:4,dotGapLength:2.5,srcLocation:"jqplot/src/",pluginLocation:"jqplot/src/plugins/"};
$.jqplot.arrayMax=function(array){return Math.max.apply(Math,array)};$.jqplot.arrayMin=function(array){return Math.min.apply(Math,array)};$.jqplot.enablePlugins=$.jqplot.config.enablePlugins;$.jqplot.support_canvas=function(){if(typeof $.jqplot.support_canvas.result=="undefined")$.jqplot.support_canvas.result=!!document.createElement("canvas").getContext;return $.jqplot.support_canvas.result};$.jqplot.support_canvas_text=function(){if(typeof $.jqplot.support_canvas_text.result=="undefined")if(window.G_vmlCanvasManager!==
undefined&&window.G_vmlCanvasManager._version>887)$.jqplot.support_canvas_text.result=true;else $.jqplot.support_canvas_text.result=!!(document.createElement("canvas").getContext&&typeof document.createElement("canvas").getContext("2d").fillText=="function");return $.jqplot.support_canvas_text.result};$.jqplot.use_excanvas=$.browser.msie&&!$.jqplot.support_canvas()?true:false;$.jqplot.preInitHooks=[];$.jqplot.postInitHooks=[];$.jqplot.preParseOptionsHooks=[];$.jqplot.postParseOptionsHooks=[];$.jqplot.preDrawHooks=
[];$.jqplot.postDrawHooks=[];$.jqplot.preDrawSeriesHooks=[];$.jqplot.postDrawSeriesHooks=[];$.jqplot.preDrawLegendHooks=[];$.jqplot.addLegendRowHooks=[];$.jqplot.preSeriesInitHooks=[];$.jqplot.postSeriesInitHooks=[];$.jqplot.preParseSeriesOptionsHooks=[];$.jqplot.postParseSeriesOptionsHooks=[];$.jqplot.eventListenerHooks=[];$.jqplot.preDrawSeriesShadowHooks=[];$.jqplot.postDrawSeriesShadowHooks=[];$.jqplot.ElemContainer=function(){this._elem;this._plotWidth;this._plotHeight;this._plotDimensions={height:null,
width:null}};$.jqplot.ElemContainer.prototype.createElement=function(el,offsets,clss,cssopts,attrib){this._offsets=offsets;var klass=clss||"jqplot";var elem=document.createElement(el);this._elem=$(elem);this._elem.addClass(klass);this._elem.css(cssopts);this._elem.attr(attrib);elem=null;return this._elem};$.jqplot.ElemContainer.prototype.getWidth=function(){if(this._elem)return this._elem.outerWidth(true);else return null};$.jqplot.ElemContainer.prototype.getHeight=function(){if(this._elem)return this._elem.outerHeight(true);
else return null};$.jqplot.ElemContainer.prototype.getPosition=function(){if(this._elem)return this._elem.position();else return{top:null,left:null,bottom:null,right:null}};$.jqplot.ElemContainer.prototype.getTop=function(){return this.getPosition().top};$.jqplot.ElemContainer.prototype.getLeft=function(){return this.getPosition().left};$.jqplot.ElemContainer.prototype.getBottom=function(){return this._elem.css("bottom")};$.jqplot.ElemContainer.prototype.getRight=function(){return this._elem.css("right")};
function Axis(name){$.jqplot.ElemContainer.call(this);this.name=name;this._series=[];this.show=false;this.tickRenderer=$.jqplot.AxisTickRenderer;this.tickOptions={};this.labelRenderer=$.jqplot.AxisLabelRenderer;this.labelOptions={};this.label=null;this.showLabel=true;this.min=null;this.max=null;this.autoscale=false;this.pad=1.2;this.padMax=null;this.padMin=null;this.ticks=[];this.numberTicks;this.tickInterval;this.renderer=$.jqplot.LinearAxisRenderer;this.rendererOptions={};this.showTicks=true;this.showTickMarks=
true;this.showMinorTicks=true;this.drawMajorGridlines=true;this.drawMinorGridlines=false;this.drawMajorTickMarks=true;this.drawMinorTickMarks=true;this.useSeriesColor=false;this.borderWidth=null;this.borderColor=null;this.scaleToHiddenSeries=false;this._dataBounds={min:null,max:null};this._intervalStats=[];this._offsets={min:null,max:null};this._ticks=[];this._label=null;this.syncTicks=null;this.tickSpacing=75;this._min=null;this._max=null;this._tickInterval=null;this._numberTicks=null;this.__ticks=
null;this._options={}}Axis.prototype=new $.jqplot.ElemContainer;Axis.prototype.constructor=Axis;Axis.prototype.init=function(){if($.isFunction(this.renderer))this.renderer=new this.renderer;this.tickOptions.axis=this.name;if(this.tickOptions.showMark==null)this.tickOptions.showMark=this.showTicks;if(this.tickOptions.showMark==null)this.tickOptions.showMark=this.showTickMarks;if(this.tickOptions.showLabel==null)this.tickOptions.showLabel=this.showTicks;if(this.label==null||this.label=="")this.showLabel=
false;else this.labelOptions.label=this.label;if(this.showLabel==false)this.labelOptions.show=false;if(this.pad==0)this.pad=1;if(this.padMax==0)this.padMax=1;if(this.padMin==0)this.padMin=1;if(this.padMax==null)this.padMax=(this.pad-1)/2+1;if(this.padMin==null)this.padMin=(this.pad-1)/2+1;this.pad=this.padMax+this.padMin-1;if(this.min!=null||this.max!=null)this.autoscale=false;if(this.syncTicks==null&&this.name.indexOf("y")>-1)this.syncTicks=true;else if(this.syncTicks==null)this.syncTicks=false;
this.renderer.init.call(this,this.rendererOptions)};Axis.prototype.draw=function(ctx,plot){if(this.__ticks)this.__ticks=null;return this.renderer.draw.call(this,ctx,plot)};Axis.prototype.set=function(){this.renderer.set.call(this)};Axis.prototype.pack=function(pos,offsets){if(this.show)this.renderer.pack.call(this,pos,offsets);if(this._min==null){this._min=this.min;this._max=this.max;this._tickInterval=this.tickInterval;this._numberTicks=this.numberTicks;this.__ticks=this._ticks}};Axis.prototype.reset=
function(){this.renderer.reset.call(this)};Axis.prototype.resetScale=function(opts){$.extend(true,this,{min:null,max:null,numberTicks:null,tickInterval:null,_ticks:[],ticks:[]},opts);this.resetDataBounds()};Axis.prototype.resetDataBounds=function(){var db=this._dataBounds;db.min=null;db.max=null;var l,s,d;var doforce=this.show?true:false;for(var i=0;i<this._series.length;i++){s=this._series[i];if(s.show||this.scaleToHiddenSeries){d=s._plotData;if(s._type==="line"&&s.renderer.bands.show&&this.name.charAt(0)!==
"x")d=[[0,s.renderer.bands._min],[1,s.renderer.bands._max]];var minyidx=1,maxyidx=1;if(s._type!=null&&s._type=="ohlc"){minyidx=3;maxyidx=2}for(var j=0,l=d.length;j<l;j++)if(this.name=="xaxis"||this.name=="x2axis"){if(d[j][0]!=null&&d[j][0]<db.min||db.min==null)db.min=d[j][0];if(d[j][0]!=null&&d[j][0]>db.max||db.max==null)db.max=d[j][0]}else{if(d[j][minyidx]!=null&&d[j][minyidx]<db.min||db.min==null)db.min=d[j][minyidx];if(d[j][maxyidx]!=null&&d[j][maxyidx]>db.max||db.max==null)db.max=d[j][maxyidx]}if(doforce&&
s.renderer.constructor!==$.jqplot.BarRenderer)doforce=false;else if(doforce&&this._options.hasOwnProperty("forceTickAt0")&&this._options.forceTickAt0==false)doforce=false;else if(doforce&&s.renderer.constructor===$.jqplot.BarRenderer)if(s.barDirection=="vertical"&&this.name!="xaxis"&&this.name!="x2axis"){if(this._options.pad!=null||this._options.padMin!=null)doforce=false}else if(s.barDirection=="horizontal"&&(this.name=="xaxis"||this.name=="x2axis"))if(this._options.pad!=null||this._options.padMin!=
null)doforce=false}}if(doforce&&this.renderer.constructor===$.jqplot.LinearAxisRenderer&&db.min>=0){this.padMin=1;this.forceTickAt0=true}};function Legend(options){$.jqplot.ElemContainer.call(this);this.show=false;this.location="ne";this.labels=[];this.showLabels=true;this.showSwatches=true;this.placement="insideGrid";this.xoffset=0;this.yoffset=0;this.border;this.background;this.textColor;this.fontFamily;this.fontSize;this.rowSpacing="0.5em";this.renderer=$.jqplot.TableLegendRenderer;this.rendererOptions=
{};this.preDraw=false;this.marginTop=null;this.marginRight=null;this.marginBottom=null;this.marginLeft=null;this.escapeHtml=false;this._series=[];$.extend(true,this,options)}Legend.prototype=new $.jqplot.ElemContainer;Legend.prototype.constructor=Legend;Legend.prototype.setOptions=function(options){$.extend(true,this,options);if(this.placement=="inside")this.placement="insideGrid";if(this.xoffset>0){if(this.placement=="insideGrid")switch(this.location){case "nw":case "w":case "sw":if(this.marginLeft==
null)this.marginLeft=this.xoffset+"px";this.marginRight="0px";break;case "ne":case "e":case "se":default:if(this.marginRight==null)this.marginRight=this.xoffset+"px";this.marginLeft="0px";break}else if(this.placement=="outside")switch(this.location){case "nw":case "w":case "sw":if(this.marginRight==null)this.marginRight=this.xoffset+"px";this.marginLeft="0px";break;case "ne":case "e":case "se":default:if(this.marginLeft==null)this.marginLeft=this.xoffset+"px";this.marginRight="0px";break}this.xoffset=
0}if(this.yoffset>0){if(this.placement=="outside")switch(this.location){case "sw":case "s":case "se":if(this.marginTop==null)this.marginTop=this.yoffset+"px";this.marginBottom="0px";break;case "ne":case "n":case "nw":default:if(this.marginBottom==null)this.marginBottom=this.yoffset+"px";this.marginTop="0px";break}else if(this.placement=="insideGrid")switch(this.location){case "sw":case "s":case "se":if(this.marginBottom==null)this.marginBottom=this.yoffset+"px";this.marginTop="0px";break;case "ne":case "n":case "nw":default:if(this.marginTop==
null)this.marginTop=this.yoffset+"px";this.marginBottom="0px";break}this.yoffset=0}};Legend.prototype.init=function(){if($.isFunction(this.renderer))this.renderer=new this.renderer;this.renderer.init.call(this,this.rendererOptions)};Legend.prototype.draw=function(offsets,plot){for(var i=0;i<$.jqplot.preDrawLegendHooks.length;i++)$.jqplot.preDrawLegendHooks[i].call(this,offsets);return this.renderer.draw.call(this,offsets,plot)};Legend.prototype.pack=function(offsets){this.renderer.pack.call(this,
offsets)};function Title(text){$.jqplot.ElemContainer.call(this);this.text=text;this.show=true;this.fontFamily;this.fontSize;this.textAlign;this.textColor;this.renderer=$.jqplot.DivTitleRenderer;this.rendererOptions={};this.escapeHtml=false}Title.prototype=new $.jqplot.ElemContainer;Title.prototype.constructor=Title;Title.prototype.init=function(){if($.isFunction(this.renderer))this.renderer=new this.renderer;this.renderer.init.call(this,this.rendererOptions)};Title.prototype.draw=function(width){return this.renderer.draw.call(this,
width)};Title.prototype.pack=function(){this.renderer.pack.call(this)};function Series(){$.jqplot.ElemContainer.call(this);this.show=true;this.xaxis="xaxis";this._xaxis;this.yaxis="yaxis";this._yaxis;this.gridBorderWidth=2;this.renderer=$.jqplot.LineRenderer;this.rendererOptions={};this.data=[];this.gridData=[];this.label="";this.showLabel=true;this.color;this.negativeColor;this.lineWidth=2.5;this.lineJoin="round";this.lineCap="round";this.linePattern="solid";this.shadow=true;this.shadowAngle=45;
this.shadowOffset=1.25;this.shadowDepth=3;this.shadowAlpha="0.1";this.breakOnNull=false;this.markerRenderer=$.jqplot.MarkerRenderer;this.markerOptions={};this.showLine=true;this.showMarker=true;this.index;this.fill=false;this.fillColor;this.fillAlpha;this.fillAndStroke=false;this.disableStack=false;this._stack=false;this.neighborThreshold=4;this.fillToZero=false;this.fillToValue=0;this.fillAxis="y";this.useNegativeColors=true;this._stackData=[];this._plotData=[];this._plotValues={x:[],y:[]};this._intervals=
{x:{},y:{}};this._prevPlotData=[];this._prevGridData=[];this._stackAxis="y";this._primaryAxis="_xaxis";this.canvas=new $.jqplot.GenericCanvas;this.shadowCanvas=new $.jqplot.GenericCanvas;this.plugins={};this._sumy=0;this._sumx=0;this._type=""}Series.prototype=new $.jqplot.ElemContainer;Series.prototype.constructor=Series;Series.prototype.init=function(index,gridbw,plot){this.index=index;this.gridBorderWidth=gridbw;var d=this.data;var temp=[],i;for(i=0;i<d.length;i++)if(!this.breakOnNull)if(d[i]==
null||d[i][0]==null||d[i][1]==null)continue;else temp.push(d[i]);else temp.push(d[i]);this.data=temp;if(!this.color)this.color=plot.colorGenerator.get(this.index);if(!this.negativeColor)this.negativeColor=plot.negativeColorGenerator.get(this.index);if(!this.fillColor)this.fillColor=this.color;if(this.fillAlpha){var comp=$.jqplot.normalize2rgb(this.fillColor);var comp=$.jqplot.getColorComponents(comp);this.fillColor="rgba("+comp[0]+","+comp[1]+","+comp[2]+","+this.fillAlpha+")"}if($.isFunction(this.renderer))this.renderer=
new this.renderer;this.renderer.init.call(this,this.rendererOptions,plot);this.markerRenderer=new this.markerRenderer;if(!this.markerOptions.color)this.markerOptions.color=this.color;if(this.markerOptions.show==null)this.markerOptions.show=this.showMarker;this.showMarker=this.markerOptions.show;this.markerRenderer.init(this.markerOptions)};Series.prototype.draw=function(sctx,opts,plot){var options=opts==undefined?{}:opts;sctx=sctx==undefined?this.canvas._ctx:sctx;var j,data,gridData;for(j=0;j<$.jqplot.preDrawSeriesHooks.length;j++)$.jqplot.preDrawSeriesHooks[j].call(this,
sctx,options);if(this.show){this.renderer.setGridData.call(this,plot);if(!options.preventJqPlotSeriesDrawTrigger)$(sctx.canvas).trigger("jqplotSeriesDraw",[this.data,this.gridData]);data=[];if(options.data)data=options.data;else if(!this._stack)data=this.data;else data=this._plotData;gridData=options.gridData||this.renderer.makeGridData.call(this,data,plot);if(this._type==="line"&&this.renderer.smooth&&this.renderer._smoothedData.length)gridData=this.renderer._smoothedData;this.renderer.draw.call(this,
sctx,gridData,options,plot)}for(j=0;j<$.jqplot.postDrawSeriesHooks.length;j++)$.jqplot.postDrawSeriesHooks[j].call(this,sctx,options,plot);sctx=opts=plot=j=data=gridData=null};Series.prototype.drawShadow=function(sctx,opts,plot){var options=opts==undefined?{}:opts;sctx=sctx==undefined?this.shadowCanvas._ctx:sctx;var j,data,gridData;for(j=0;j<$.jqplot.preDrawSeriesShadowHooks.length;j++)$.jqplot.preDrawSeriesShadowHooks[j].call(this,sctx,options);if(this.shadow){this.renderer.setGridData.call(this,
plot);data=[];if(options.data)data=options.data;else if(!this._stack)data=this.data;else data=this._plotData;gridData=options.gridData||this.renderer.makeGridData.call(this,data,plot);this.renderer.drawShadow.call(this,sctx,gridData,options)}for(j=0;j<$.jqplot.postDrawSeriesShadowHooks.length;j++)$.jqplot.postDrawSeriesShadowHooks[j].call(this,sctx,options);sctx=opts=plot=j=data=gridData=null};Series.prototype.toggleDisplay=function(ev,callback){var s,speed;if(ev.data.series)s=ev.data.series;else s=
this;if(ev.data.speed)speed=ev.data.speed;if(speed)if(s.canvas._elem.is(":hidden")||!s.show){s.show=true;s.canvas._elem.removeClass("jqplot-series-hidden");if(s.shadowCanvas._elem)s.shadowCanvas._elem.fadeIn(speed);s.canvas._elem.fadeIn(speed,callback);s.canvas._elem.nextAll(".jqplot-point-label.jqplot-series-"+s.index).fadeIn(speed)}else{s.show=false;s.canvas._elem.addClass("jqplot-series-hidden");if(s.shadowCanvas._elem)s.shadowCanvas._elem.fadeOut(speed);s.canvas._elem.fadeOut(speed,callback);
s.canvas._elem.nextAll(".jqplot-point-label.jqplot-series-"+s.index).fadeOut(speed)}else if(s.canvas._elem.is(":hidden")||!s.show){s.show=true;s.canvas._elem.removeClass("jqplot-series-hidden");if(s.shadowCanvas._elem)s.shadowCanvas._elem.show();s.canvas._elem.show(0,callback);s.canvas._elem.nextAll(".jqplot-point-label.jqplot-series-"+s.index).show()}else{s.show=false;s.canvas._elem.addClass("jqplot-series-hidden");if(s.shadowCanvas._elem)s.shadowCanvas._elem.hide();s.canvas._elem.hide(0,callback);
s.canvas._elem.nextAll(".jqplot-point-label.jqplot-series-"+s.index).hide()}};function Grid(){$.jqplot.ElemContainer.call(this);this.drawGridlines=true;this.gridLineColor="#cccccc";this.gridLineWidth=1;this.background="#fffdf6";this.borderColor="#999999";this.borderWidth=2;this.drawBorder=true;this.shadow=true;this.shadowAngle=45;this.shadowOffset=1.5;this.shadowWidth=3;this.shadowDepth=3;this.shadowColor=null;this.shadowAlpha="0.07";this._left;this._top;this._right;this._bottom;this._width;this._height;
this._axes=[];this.renderer=$.jqplot.CanvasGridRenderer;this.rendererOptions={};this._offsets={top:null,bottom:null,left:null,right:null}}Grid.prototype=new $.jqplot.ElemContainer;Grid.prototype.constructor=Grid;Grid.prototype.init=function(){if($.isFunction(this.renderer))this.renderer=new this.renderer;this.renderer.init.call(this,this.rendererOptions)};Grid.prototype.createElement=function(offsets,plot){this._offsets=offsets;return this.renderer.createElement.call(this,plot)};Grid.prototype.draw=
function(){this.renderer.draw.call(this)};$.jqplot.GenericCanvas=function(){$.jqplot.ElemContainer.call(this);this._ctx};$.jqplot.GenericCanvas.prototype=new $.jqplot.ElemContainer;$.jqplot.GenericCanvas.prototype.constructor=$.jqplot.GenericCanvas;$.jqplot.GenericCanvas.prototype.createElement=function(offsets,clss,plotDimensions,plot){this._offsets=offsets;var klass="jqplot";if(clss!=undefined)klass=clss;var elem;elem=plot.canvasManager.getCanvas();if(plotDimensions!=null)this._plotDimensions=plotDimensions;
elem.width=this._plotDimensions.width-this._offsets.left-this._offsets.right;elem.height=this._plotDimensions.height-this._offsets.top-this._offsets.bottom;this._elem=$(elem);this._elem.css({position:"absolute",left:this._offsets.left,top:this._offsets.top});this._elem.addClass(klass);elem=plot.canvasManager.initCanvas(elem);elem=null;return this._elem};$.jqplot.GenericCanvas.prototype.setContext=function(){this._ctx=this._elem.get(0).getContext("2d");return this._ctx};$.jqplot.GenericCanvas.prototype.resetCanvas=
function(){if(this._elem){if($.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==undefined)window.G_vmlCanvasManager.uninitElement(this._elem.get(0));this._elem.emptyForce()}this._ctx=null};$.jqplot.HooksManager=function(){this.hooks=[];this.args=[]};$.jqplot.HooksManager.prototype.addOnce=function(fn,args){args=args||[];var havehook=false;for(var i=0,l=this.hooks.length;i<l;i++)if(this.hooks[i]==fn)havehook=true;if(!havehook){this.hooks.push(fn);this.args.push(args)}};$.jqplot.HooksManager.prototype.add=
function(fn,args){args=args||[];this.hooks.push(fn);this.args.push(args)};$.jqplot.EventListenerManager=function(){this.hooks=[]};$.jqplot.EventListenerManager.prototype.addOnce=function(ev,fn){var havehook=false,h,i;for(var i=0,l=this.hooks.length;i<l;i++){h=this.hooks[i];if(h[0]==ev&&h[1]==fn)havehook=true}if(!havehook)this.hooks.push([ev,fn])};$.jqplot.EventListenerManager.prototype.add=function(ev,fn){this.hooks.push([ev,fn])};var _axisNames=["yMidAxis","xaxis","yaxis","x2axis","y2axis","y3axis",
"y4axis","y5axis","y6axis","y7axis","y8axis","y9axis"];function jqPlot(){this.animate=false;this.animateReplot=false;this.axes={xaxis:new Axis("xaxis"),yaxis:new Axis("yaxis"),x2axis:new Axis("x2axis"),y2axis:new Axis("y2axis"),y3axis:new Axis("y3axis"),y4axis:new Axis("y4axis"),y5axis:new Axis("y5axis"),y6axis:new Axis("y6axis"),y7axis:new Axis("y7axis"),y8axis:new Axis("y8axis"),y9axis:new Axis("y9axis"),yMidAxis:new Axis("yMidAxis")};this.baseCanvas=new $.jqplot.GenericCanvas;this.captureRightClick=
false;this.data=[];this.dataRenderer;this.dataRendererOptions;this.defaults={axesDefaults:{},axes:{xaxis:{},yaxis:{},x2axis:{},y2axis:{},y3axis:{},y4axis:{},y5axis:{},y6axis:{},y7axis:{},y8axis:{},y9axis:{},yMidAxis:{}},seriesDefaults:{},series:[]};this.defaultAxisStart=1;this.drawIfHidden=false;this.eventCanvas=new $.jqplot.GenericCanvas;this.fillBetween={series1:null,series2:null,color:null,baseSeries:0,fill:true};this.fontFamily;this.fontSize;this.grid=new Grid;this.legend=new Legend;this.negativeSeriesColors=
$.jqplot.config.defaultNegativeColors;this.noDataIndicator={show:false,indicator:"Loading Data...",axes:{xaxis:{min:0,max:10,tickInterval:2,show:true},yaxis:{min:0,max:12,tickInterval:3,show:true}}};this.options={};this.previousSeriesStack=[];this.plugins={};this.series=[];this.seriesStack=[];this.seriesColors=$.jqplot.config.defaultColors;this.sortData=true;this.stackSeries=false;this.syncXTicks=true;this.syncYTicks=true;this.target=null;this.targetId=null;this.textColor;this.title=new Title;this._drawCount=
0;this._sumy=0;this._sumx=0;this._stackData=[];this._plotData=[];this._width=null;this._height=null;this._plotDimensions={height:null,width:null};this._gridPadding={top:null,right:null,bottom:null,left:null};this._defaultGridPadding={top:10,right:10,bottom:23,left:10};this._addDomReference=$.jqplot.config.addDomReference;this._cancelPlot=false;this.preInitHooks=new $.jqplot.HooksManager;this.postInitHooks=new $.jqplot.HooksManager;this.preParseOptionsHooks=new $.jqplot.HooksManager;this.postParseOptionsHooks=
new $.jqplot.HooksManager;this.preDrawHooks=new $.jqplot.HooksManager;this.postDrawHooks=new $.jqplot.HooksManager;this.preDrawSeriesHooks=new $.jqplot.HooksManager;this.postDrawSeriesHooks=new $.jqplot.HooksManager;this.preDrawLegendHooks=new $.jqplot.HooksManager;this.addLegendRowHooks=new $.jqplot.HooksManager;this.preSeriesInitHooks=new $.jqplot.HooksManager;this.postSeriesInitHooks=new $.jqplot.HooksManager;this.preParseSeriesOptionsHooks=new $.jqplot.HooksManager;this.postParseSeriesOptionsHooks=
new $.jqplot.HooksManager;this.eventListenerHooks=new $.jqplot.EventListenerManager;this.preDrawSeriesShadowHooks=new $.jqplot.HooksManager;this.postDrawSeriesShadowHooks=new $.jqplot.HooksManager;this.colorGenerator=new $.jqplot.ColorGenerator;this.negativeColorGenerator=new $.jqplot.ColorGenerator;this.canvasManager=new $.jqplot.CanvasManager;this.themeEngine=new $.jqplot.ThemeEngine;var seriesColorsIndex=0;this.init=function(target,data,options){options=options||{};for(var i=0;i<$.jqplot.preInitHooks.length;i++)$.jqplot.preInitHooks[i].call(this,
target,data,options);for(var i=0;i<this.preInitHooks.hooks.length;i++)this.preInitHooks.hooks[i].call(this,target,data,options);this.targetId="#"+target;this.target=$("#"+target);if(this._addDomReference)this.target.data("jqplot",this);this.target.removeClass("jqplot-error");if(!this.target.get(0))throw"No plot target specified";if(this.target.css("position")=="static")this.target.css("position","relative");if(!this.target.hasClass("jqplot-target"))this.target.addClass("jqplot-target");if(!this.target.height()){var h;
if(options&&options.height)h=parseInt(options.height,10);else if(this.target.attr("data-height"))h=parseInt(this.target.attr("data-height"),10);else h=parseInt($.jqplot.config.defaultHeight,10);this._height=h;this.target.css("height",h+"px")}else this._height=h=this.target.height();if(!this.target.width()){var w;if(options&&options.width)w=parseInt(options.width,10);else if(this.target.attr("data-width"))w=parseInt(this.target.attr("data-width"),10);else w=parseInt($.jqplot.config.defaultWidth,10);
this._width=w;this.target.css("width",w+"px")}else this._width=w=this.target.width();for(var i=0,l=_axisNames.length;i<l;i++)this.axes[_axisNames[i]]=new Axis(_axisNames[i]);this._plotDimensions.height=this._height;this._plotDimensions.width=this._width;this.grid._plotDimensions=this._plotDimensions;this.title._plotDimensions=this._plotDimensions;this.baseCanvas._plotDimensions=this._plotDimensions;this.eventCanvas._plotDimensions=this._plotDimensions;this.legend._plotDimensions=this._plotDimensions;
if(this._height<=0||this._width<=0||!this._height||!this._width)throw"Canvas dimension not set";if(options.dataRenderer&&$.isFunction(options.dataRenderer)){if(options.dataRendererOptions)this.dataRendererOptions=options.dataRendererOptions;this.dataRenderer=options.dataRenderer;data=this.dataRenderer(data,this,this.dataRendererOptions)}if(options.noDataIndicator&&$.isPlainObject(options.noDataIndicator))$.extend(true,this.noDataIndicator,options.noDataIndicator);if(data==null||$.isArray(data)==false||
data.length==0||$.isArray(data[0])==false||data[0].length==0)if(this.noDataIndicator.show==false)throw"No Data";else{for(var ax in this.noDataIndicator.axes)for(var prop in this.noDataIndicator.axes[ax])this.axes[ax][prop]=this.noDataIndicator.axes[ax][prop];this.postDrawHooks.add(function(){var eh=this.eventCanvas.getHeight();var ew=this.eventCanvas.getWidth();var temp=$('<div class="jqplot-noData-container" style="position:absolute;"></div>');this.target.append(temp);temp.height(eh);temp.width(ew);
temp.css("top",this.eventCanvas._offsets.top);temp.css("left",this.eventCanvas._offsets.left);var temp2=$('<div class="jqplot-noData-contents" style="text-align:center; position:relative; margin-left:auto; margin-right:auto;"></div>');temp.append(temp2);temp2.html(this.noDataIndicator.indicator);var th=temp2.height();var tw=temp2.width();temp2.height(th);temp2.width(tw);temp2.css("top",(eh-th)/2+"px")})}this.data=data.slice();this.parseOptions(options);if(this.textColor)this.target.css("color",this.textColor);
if(this.fontFamily)this.target.css("font-family",this.fontFamily);if(this.fontSize)this.target.css("font-size",this.fontSize);this.title.init();this.legend.init();this._sumy=0;this._sumx=0;for(var i=0;i<this.series.length;i++){this.seriesStack.push(i);this.previousSeriesStack.push(i);this.series[i].shadowCanvas._plotDimensions=this._plotDimensions;this.series[i].canvas._plotDimensions=this._plotDimensions;for(var j=0;j<$.jqplot.preSeriesInitHooks.length;j++)$.jqplot.preSeriesInitHooks[j].call(this.series[i],
target,this.data,this.options.seriesDefaults,this.options.series[i],this);for(var j=0;j<this.preSeriesInitHooks.hooks.length;j++)this.preSeriesInitHooks.hooks[j].call(this.series[i],target,this.data,this.options.seriesDefaults,this.options.series[i],this);this.populatePlotData(this.series[i],i);this.series[i]._plotDimensions=this._plotDimensions;this.series[i].init(i,this.grid.borderWidth,this);for(var j=0;j<$.jqplot.postSeriesInitHooks.length;j++)$.jqplot.postSeriesInitHooks[j].call(this.series[i],
target,this.data,this.options.seriesDefaults,this.options.series[i],this);for(var j=0;j<this.postSeriesInitHooks.hooks.length;j++)this.postSeriesInitHooks.hooks[j].call(this.series[i],target,this.data,this.options.seriesDefaults,this.options.series[i],this);this._sumy+=this.series[i]._sumy;this._sumx+=this.series[i]._sumx}var name,axis;for(var i=0,l=_axisNames.length;i<l;i++){name=_axisNames[i];axis=this.axes[name];axis._plotDimensions=this._plotDimensions;axis.init();if(this.axes[name].borderColor==
null)if(name.charAt(0)!=="x"&&axis.useSeriesColor===true&&axis.show)axis.borderColor=axis._series[0].color;else axis.borderColor=this.grid.borderColor}if(this.sortData)sortData(this.series);this.grid.init();this.grid._axes=this.axes;this.legend._series=this.series;for(var i=0;i<$.jqplot.postInitHooks.length;i++)$.jqplot.postInitHooks[i].call(this,target,this.data,options);for(var i=0;i<this.postInitHooks.hooks.length;i++)this.postInitHooks.hooks[i].call(this,target,this.data,options)};this.resetAxesScale=
function(axes,options){var opts=options||{};var ax=axes||this.axes;if(ax===true)ax=this.axes;if($.isArray(ax))for(var i=0;i<ax.length;i++)this.axes[ax[i]].resetScale(opts[ax[i]]);else if(typeof ax==="object")for(var name in ax)this.axes[name].resetScale(opts[name])};this.reInitialize=function(data,opts){var options=$.extend(true,{},this.options,opts);var target=this.targetId.substr(1);var tdata=data==null?this.data:data;for(var i=0;i<$.jqplot.preInitHooks.length;i++)$.jqplot.preInitHooks[i].call(this,
target,tdata,options);for(var i=0;i<this.preInitHooks.hooks.length;i++)this.preInitHooks.hooks[i].call(this,target,tdata,options);this._height=this.target.height();this._width=this.target.width();if(this._height<=0||this._width<=0||!this._height||!this._width)throw"Target dimension not set";this._plotDimensions.height=this._height;this._plotDimensions.width=this._width;this.grid._plotDimensions=this._plotDimensions;this.title._plotDimensions=this._plotDimensions;this.baseCanvas._plotDimensions=this._plotDimensions;
this.eventCanvas._plotDimensions=this._plotDimensions;this.legend._plotDimensions=this._plotDimensions;var name,t,j,axis;for(var i=0,l=_axisNames.length;i<l;i++){name=_axisNames[i];axis=this.axes[name];t=axis._ticks;for(var j=0,tlen=t.length;j<tlen;j++){var el=t[j]._elem;if(el){if($.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==undefined)window.G_vmlCanvasManager.uninitElement(el.get(0));el.emptyForce();el=null;t._elem=null}}t=null;delete axis.ticks;delete axis._ticks;this.axes[name]=
new Axis(name);this.axes[name]._plotWidth=this._width;this.axes[name]._plotHeight=this._height}if(data){if(options.dataRenderer&&$.isFunction(options.dataRenderer)){if(options.dataRendererOptions)this.dataRendererOptions=options.dataRendererOptions;this.dataRenderer=options.dataRenderer;data=this.dataRenderer(data,this,this.dataRendererOptions)}this.data=$.extend(true,[],data)}if(opts)this.parseOptions(options);this.title._plotWidth=this._width;if(this.textColor)this.target.css("color",this.textColor);
if(this.fontFamily)this.target.css("font-family",this.fontFamily);if(this.fontSize)this.target.css("font-size",this.fontSize);this.title.init();this.legend.init();this._sumy=0;this._sumx=0;this.seriesStack=[];this.previousSeriesStack=[];for(var i=0,l=this.series.length;i<l;i++){this.seriesStack.push(i);this.previousSeriesStack.push(i);this.series[i].shadowCanvas._plotDimensions=this._plotDimensions;this.series[i].canvas._plotDimensions=this._plotDimensions;for(var j=0;j<$.jqplot.preSeriesInitHooks.length;j++)$.jqplot.preSeriesInitHooks[j].call(this.series[i],
target,this.data,this.options.seriesDefaults,this.options.series[i],this);for(var j=0;j<this.preSeriesInitHooks.hooks.length;j++)this.preSeriesInitHooks.hooks[j].call(this.series[i],target,this.data,this.options.seriesDefaults,this.options.series[i],this);this.populatePlotData(this.series[i],i);this.series[i]._plotDimensions=this._plotDimensions;this.series[i].init(i,this.grid.borderWidth,this);for(var j=0;j<$.jqplot.postSeriesInitHooks.length;j++)$.jqplot.postSeriesInitHooks[j].call(this.series[i],
target,this.data,this.options.seriesDefaults,this.options.series[i],this);for(var j=0;j<this.postSeriesInitHooks.hooks.length;j++)this.postSeriesInitHooks.hooks[j].call(this.series[i],target,this.data,this.options.seriesDefaults,this.options.series[i],this);this._sumy+=this.series[i]._sumy;this._sumx+=this.series[i]._sumx}for(var i=0,l=_axisNames.length;i<l;i++){name=_axisNames[i];axis=this.axes[name];axis._plotDimensions=this._plotDimensions;axis.init();if(axis.borderColor==null)if(name.charAt(0)!==
"x"&&axis.useSeriesColor===true&&axis.show)axis.borderColor=axis._series[0].color;else axis.borderColor=this.grid.borderColor}if(this.sortData)sortData(this.series);this.grid.init();this.grid._axes=this.axes;this.legend._series=this.series;for(var i=0,l=$.jqplot.postInitHooks.length;i<l;i++)$.jqplot.postInitHooks[i].call(this,target,this.data,options);for(var i=0,l=this.postInitHooks.hooks.length;i<l;i++)this.postInitHooks.hooks[i].call(this,target,this.data,options)};this.quickInit=function(){this._height=
this.target.height();this._width=this.target.width();if(this._height<=0||this._width<=0||!this._height||!this._width)throw"Target dimension not set";this._plotDimensions.height=this._height;this._plotDimensions.width=this._width;this.grid._plotDimensions=this._plotDimensions;this.title._plotDimensions=this._plotDimensions;this.baseCanvas._plotDimensions=this._plotDimensions;this.eventCanvas._plotDimensions=this._plotDimensions;this.legend._plotDimensions=this._plotDimensions;for(var n in this.axes){this.axes[n]._plotWidth=
this._width;this.axes[n]._plotHeight=this._height}this.title._plotWidth=this._width;if(this.textColor)this.target.css("color",this.textColor);if(this.fontFamily)this.target.css("font-family",this.fontFamily);if(this.fontSize)this.target.css("font-size",this.fontSize);this._sumy=0;this._sumx=0;for(var i=0;i<this.series.length;i++){this.populatePlotData(this.series[i],i);if(this.series[i]._type==="line"&&this.series[i].renderer.bands.show)this.series[i].renderer.initBands.call(this.series[i],this.series[i].renderer.options,
this);this.series[i]._plotDimensions=this._plotDimensions;this.series[i].canvas._plotDimensions=this._plotDimensions;this._sumy+=this.series[i]._sumy;this._sumx+=this.series[i]._sumx}var name;for(var j=0;j<12;j++){name=_axisNames[j];var t=this.axes[name]._ticks;for(var i=0;i<t.length;i++){var el=t[i]._elem;if(el){if($.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==undefined)window.G_vmlCanvasManager.uninitElement(el.get(0));el.emptyForce();el=null;t._elem=null}}t=null;this.axes[name]._plotDimensions=
this._plotDimensions;this.axes[name]._ticks=[]}if(this.sortData)sortData(this.series);this.grid._axes=this.axes;this.legend._series=this.series};function sortData(series){var d,sd,pd,ppd,ret;for(var i=0;i<series.length;i++){var check;var bat=[series[i].data,series[i]._stackData,series[i]._plotData,series[i]._prevPlotData];for(var n=0;n<4;n++){check=true;d=bat[n];if(series[i]._stackAxis=="x"){for(var j=0;j<d.length;j++)if(typeof d[j][1]!="number"){check=false;break}if(check)d.sort(function(a,b){return a[1]-
b[1]})}else{for(var j=0;j<d.length;j++)if(typeof d[j][0]!="number"){check=false;break}if(check)d.sort(function(a,b){return a[0]-b[0]})}}}}this.populatePlotData=function(series,index){this._plotData=[];this._stackData=[];series._stackData=[];series._plotData=[];var plotValues={x:[],y:[]};if(this.stackSeries&&!series.disableStack){series._stack=true;var sidx=series._stackAxis=="x"?0:1;var idx=sidx?0:1;var temp=$.extend(true,[],series.data);var plotdata=$.extend(true,[],series.data);for(var j=0;j<index;j++){var cd=
this.series[j].data;for(var k=0;k<cd.length;k++){temp[k][0]+=cd[k][0];temp[k][1]+=cd[k][1];plotdata[k][sidx]+=cd[k][sidx]}}for(var i=0;i<plotdata.length;i++){plotValues.x.push(plotdata[i][0]);plotValues.y.push(plotdata[i][1])}this._plotData.push(plotdata);this._stackData.push(temp);series._stackData=temp;series._plotData=plotdata;series._plotValues=plotValues}else{for(var i=0;i<series.data.length;i++){plotValues.x.push(series.data[i][0]);plotValues.y.push(series.data[i][1])}this._stackData.push(series.data);
this.series[index]._stackData=series.data;this._plotData.push(series.data);series._plotData=series.data;series._plotValues=plotValues}if(index>0)series._prevPlotData=this.series[index-1]._plotData;series._sumy=0;series._sumx=0;for(i=series.data.length-1;i>-1;i--){series._sumy+=series.data[i][1];series._sumx+=series.data[i][0]}};this.getNextSeriesColor=function(t){var idx=0;var sc=t.seriesColors;return function(){if(idx<sc.length)return sc[idx++];else{idx=0;return sc[idx++]}}}(this);this.parseOptions=
function(options){for(var i=0;i<this.preParseOptionsHooks.hooks.length;i++)this.preParseOptionsHooks.hooks[i].call(this,options);for(var i=0;i<$.jqplot.preParseOptionsHooks.length;i++)$.jqplot.preParseOptionsHooks[i].call(this,options);this.options=$.extend(false,{},this.defaults,options);var opts=this.options;this.animate=opts.animate;this.animateReplot=opts.animateReplot;this.stackSeries=opts.stackSeries;if($.isPlainObject(opts.fillBetween)){var temp=["series1","series2","color","baseSeries","fill"],
tempi;for(var i=0,l=temp.length;i<l;i++){tempi=temp[i];if(opts.fillBetween[tempi]!=null)this.fillBetween[tempi]=opts.fillBetween[tempi]}}if(opts.seriesColors)this.seriesColors=opts.seriesColors;if(opts.negativeSeriesColors)this.negativeSeriesColors=opts.negativeSeriesColors;if(opts.captureRightClick)this.captureRightClick=opts.captureRightClick;this.defaultAxisStart=options&&options.defaultAxisStart!=null?options.defaultAxisStart:this.defaultAxisStart;this.colorGenerator.setColors(this.seriesColors);
this.negativeColorGenerator.setColors(this.negativeSeriesColors);$.extend(true,this._gridPadding,opts.gridPadding);this.sortData=opts.sortData!=null?opts.sortData:this.sortData;for(var i=0;i<12;i++){var n=_axisNames[i];var axis=this.axes[n];axis._options=$.extend(true,{},opts.axesDefaults,opts.axes[n]);$.extend(true,axis,opts.axesDefaults,opts.axes[n]);axis._plotWidth=this._width;axis._plotHeight=this._height}var normalizeData=function(data,dir,start){var temp=[];var i;dir=dir||"vertical";if(!$.isArray(data[0]))for(i=
0;i<data.length;i++)if(dir=="vertical")temp.push([start+i,data[i]]);else temp.push([data[i],start+i]);else temp=temp.concat(data);return temp};var colorIndex=0;this.series=[];for(var i=0;i<this.data.length;i++){var temp=new Series;for(var j=0;j<$.jqplot.preParseSeriesOptionsHooks.length;j++)$.jqplot.preParseSeriesOptionsHooks[j].call(temp,this.options.seriesDefaults,this.options.series[i]);for(var j=0;j<this.preParseSeriesOptionsHooks.hooks.length;j++)this.preParseSeriesOptionsHooks.hooks[j].call(temp,
this.options.seriesDefaults,this.options.series[i]);$.extend(true,temp,{seriesColors:this.seriesColors,negativeSeriesColors:this.negativeSeriesColors},this.options.seriesDefaults,this.options.series[i],{rendererOptions:{animation:{show:this.animate}}});var dir="vertical";if(temp.renderer===$.jqplot.BarRenderer&&temp.rendererOptions&&temp.rendererOptions.barDirection=="horizontal"&&temp.transposeData===true)dir="horizontal";temp.data=normalizeData(this.data[i],dir,this.defaultAxisStart);switch(temp.xaxis){case "xaxis":temp._xaxis=
this.axes.xaxis;break;case "x2axis":temp._xaxis=this.axes.x2axis;break;default:break}temp._yaxis=this.axes[temp.yaxis];temp._xaxis._series.push(temp);temp._yaxis._series.push(temp);if(temp.show){temp._xaxis.show=true;temp._yaxis.show=true}else{if(temp._xaxis.scaleToHiddenSeries)temp._xaxis.show=true;if(temp._yaxis.scaleToHiddenSeries)temp._yaxis.show=true}if(!temp.label)temp.label="Series "+(i+1).toString();this.series.push(temp);for(var j=0;j<$.jqplot.postParseSeriesOptionsHooks.length;j++)$.jqplot.postParseSeriesOptionsHooks[j].call(this.series[i],
this.options.seriesDefaults,this.options.series[i]);for(var j=0;j<this.postParseSeriesOptionsHooks.hooks.length;j++)this.postParseSeriesOptionsHooks.hooks[j].call(this.series[i],this.options.seriesDefaults,this.options.series[i])}$.extend(true,this.grid,this.options.grid);for(var i=0,l=_axisNames.length;i<l;i++){var n=_axisNames[i];var axis=this.axes[n];if(axis.borderWidth==null)axis.borderWidth=this.grid.borderWidth}if(typeof this.options.title=="string")this.title.text=this.options.title;else if(typeof this.options.title==
"object")$.extend(true,this.title,this.options.title);this.title._plotWidth=this._width;this.legend.setOptions(this.options.legend);for(var i=0;i<$.jqplot.postParseOptionsHooks.length;i++)$.jqplot.postParseOptionsHooks[i].call(this,options);for(var i=0;i<this.postParseOptionsHooks.hooks.length;i++)this.postParseOptionsHooks.hooks[i].call(this,options)};this.destroy=function(){this.canvasManager.freeAllCanvases();if(this.eventCanvas&&this.eventCanvas._elem)this.eventCanvas._elem.unbind();this.target.empty();
this.target[0].innerHTML=""};this.replot=function(options){var opts=options||{};var data=opts.data||null;var clear=opts.clear===false?false:true;var resetAxes=opts.resetAxes||false;delete opts.data;delete opts.clear;delete opts.resetAxes;this.target.trigger("jqplotPreReplot");if(clear)this.destroy();if(data||!$.isEmptyObject(opts))this.reInitialize(data,opts);else this.quickInit();if(resetAxes)this.resetAxesScale(resetAxes,opts.axes);this.draw();this.target.trigger("jqplotPostReplot")};this.redraw=
function(clear){clear=clear!=null?clear:true;this.target.trigger("jqplotPreRedraw");if(clear){this.canvasManager.freeAllCanvases();this.eventCanvas._elem.unbind();this.target.empty()}for(var ax in this.axes)this.axes[ax]._ticks=[];for(var i=0;i<this.series.length;i++)this.populatePlotData(this.series[i],i);this._sumy=0;this._sumx=0;for(i=0;i<this.series.length;i++){this._sumy+=this.series[i]._sumy;this._sumx+=this.series[i]._sumx}this.draw();this.target.trigger("jqplotPostRedraw")};this.draw_part1=
function(){if(this.drawIfHidden||this.target.is(":visible")){this.target.trigger("jqplotPreDraw");var i,j,l,tempseries;for(i=0,l=$.jqplot.preDrawHooks.length;i<l;i++)$.jqplot.preDrawHooks[i].call(this);for(i=0,l=this.preDrawHooks.length;i<l;i++)this.preDrawHooks.hooks[i].apply(this,this.preDrawSeriesHooks.args[i]);this.target.append(this.baseCanvas.createElement({left:0,right:0,top:0,bottom:0},"jqplot-base-canvas",null,this));this.baseCanvas.setContext();this.target.append(this.title.draw());this.title.pack({top:0,
left:0});var legendElem=this.legend.draw({},this);var gridPadding={top:0,left:0,bottom:0,right:0};if(this.legend.placement=="outsideGrid"){this.target.append(legendElem);switch(this.legend.location){case "n":gridPadding.top+=this.legend.getHeight();break;case "s":gridPadding.bottom+=this.legend.getHeight();break;case "ne":case "e":case "se":gridPadding.right+=this.legend.getWidth();break;case "nw":case "w":case "sw":gridPadding.left+=this.legend.getWidth();break;default:gridPadding.right+=this.legend.getWidth();
break}legendElem=legendElem.detach()}var ax=this.axes;var name;for(i=0;i<12;i++){name=_axisNames[i];this.target.append(ax[name].draw(this.baseCanvas._ctx,this));ax[name].set()}if(ax.yaxis.show)gridPadding.left+=ax.yaxis.getWidth();var ra=["y2axis","y3axis","y4axis","y5axis","y6axis","y7axis","y8axis","y9axis"];var rapad=[0,0,0,0,0,0,0,0];var gpr=0;var n;for(n=0;n<8;n++)if(ax[ra[n]].show){gpr+=ax[ra[n]].getWidth();rapad[n]=gpr}gridPadding.right+=gpr;if(ax.x2axis.show)gridPadding.top+=ax.x2axis.getHeight();
if(this.title.show)gridPadding.top+=this.title.getHeight();if(ax.xaxis.show)gridPadding.bottom+=ax.xaxis.getHeight();if(this.options.gridDimensions&&$.isPlainObject(this.options.gridDimensions)){var gdw=parseInt(this.options.gridDimensions.width,10)||0;var gdh=parseInt(this.options.gridDimensions.height,10)||0;var widthAdj=(this._width-gridPadding.left-gridPadding.right-gdw)/2;var heightAdj=(this._height-gridPadding.top-gridPadding.bottom-gdh)/2;if(heightAdj>=0&&widthAdj>=0){gridPadding.top+=heightAdj;
gridPadding.bottom+=heightAdj;gridPadding.left+=widthAdj;gridPadding.right+=widthAdj}}var arr=["top","bottom","left","right"];for(var n in arr)if(this._gridPadding[arr[n]]==null&&gridPadding[arr[n]]>0)this._gridPadding[arr[n]]=gridPadding[arr[n]];else if(this._gridPadding[arr[n]]==null)this._gridPadding[arr[n]]=this._defaultGridPadding[arr[n]];var legendPadding=this._gridPadding;if(this.legend.placement==="outsideGrid"){legendPadding={top:this.title.getHeight(),left:0,right:0,bottom:0};if(this.legend.location===
"s"){legendPadding.left=this._gridPadding.left;legendPadding.right=this._gridPadding.right}}ax.xaxis.pack({position:"absolute",bottom:this._gridPadding.bottom-ax.xaxis.getHeight(),left:0,width:this._width},{min:this._gridPadding.left,max:this._width-this._gridPadding.right});ax.yaxis.pack({position:"absolute",top:0,left:this._gridPadding.left-ax.yaxis.getWidth(),height:this._height},{min:this._height-this._gridPadding.bottom,max:this._gridPadding.top});ax.x2axis.pack({position:"absolute",top:this._gridPadding.top-
ax.x2axis.getHeight(),left:0,width:this._width},{min:this._gridPadding.left,max:this._width-this._gridPadding.right});for(i=8;i>0;i--)ax[ra[i-1]].pack({position:"absolute",top:0,right:this._gridPadding.right-rapad[i-1]},{min:this._height-this._gridPadding.bottom,max:this._gridPadding.top});var ltemp=(this._width-this._gridPadding.left-this._gridPadding.right)/2+this._gridPadding.left-ax.yMidAxis.getWidth()/2;ax.yMidAxis.pack({position:"absolute",top:0,left:ltemp,zIndex:9,textAlign:"center"},{min:this._height-
this._gridPadding.bottom,max:this._gridPadding.top});this.target.append(this.grid.createElement(this._gridPadding,this));this.grid.draw();this._legendElem=legendElem;this._legendPadding=legendPadding}};this.draw_part2=function(){if(this.drawIfHidden||this.target.is(":visible")){var i,j,l;var legendElem=this._legendElem;var legendPadding=this._legendPadding;var series=this.series;var seriesLength=series.length;for(i=0,l=seriesLength;i<l;i++){j=this.seriesStack[i];this.target.append(series[j].shadowCanvas.createElement(this._gridPadding,
"jqplot-series-shadowCanvas",null,this));series[j].shadowCanvas.setContext();series[j].shadowCanvas._elem.data("seriesIndex",j)}for(i=0,l=seriesLength;i<l;i++){j=this.seriesStack[i];this.target.append(series[j].canvas.createElement(this._gridPadding,"jqplot-series-canvas",null,this));series[j].canvas.setContext();series[j].canvas._elem.data("seriesIndex",j)}this.target.append(this.eventCanvas.createElement(this._gridPadding,"jqplot-event-canvas",null,this));this.eventCanvas.setContext();this.eventCanvas._ctx.fillStyle=
"rgba(0,0,0,0)";this.eventCanvas._ctx.fillRect(0,0,this.eventCanvas._ctx.canvas.width,this.eventCanvas._ctx.canvas.height);this.bindCustomEvents();if(this.legend.preDraw){this.eventCanvas._elem.before(legendElem);this.legend.pack(legendPadding);if(this.legend._elem)this.drawSeries({legendInfo:{location:this.legend.location,placement:this.legend.placement,width:this.legend.getWidth(),height:this.legend.getHeight(),xoffset:this.legend.xoffset,yoffset:this.legend.yoffset}});else this.drawSeries()}else{this.drawSeries();
if(seriesLength)$(series[seriesLength-1].canvas._elem).after(legendElem);this.legend.pack(legendPadding)}for(var i=0,l=$.jqplot.eventListenerHooks.length;i<l;i++)this.eventCanvas._elem.bind($.jqplot.eventListenerHooks[i][0],{plot:this},$.jqplot.eventListenerHooks[i][1]);for(var i=0,l=this.eventListenerHooks.hooks.length;i<l;i++)this.eventCanvas._elem.bind(this.eventListenerHooks.hooks[i][0],{plot:this},this.eventListenerHooks.hooks[i][1]);var fb=this.fillBetween;if(fb.fill&&fb.series1!==fb.series2&&
fb.series1<seriesLength&&fb.series2<seriesLength&&series[fb.series1]._type==="line"&&series[fb.series2]._type==="line")this.doFillBetweenLines();for(var i=0,l=$.jqplot.postDrawHooks.length;i<l;i++)$.jqplot.postDrawHooks[i].call(this);for(var i=0,l=this.postDrawHooks.hooks.length;i<l;i++)this.postDrawHooks.hooks[i].apply(this,this.postDrawHooks.args[i]);if(this.target.is(":visible"))this._drawCount+=1;var temps,tempr,sel,_els;for(i=0,l=seriesLength;i<l;i++){temps=series[i];tempr=temps.renderer;sel=
".jqplot-point-label.jqplot-series-"+i;if(tempr.animation&&tempr.animation._supported&&tempr.animation.show&&(this._drawCount<2||this.animateReplot)){_els=this.target.find(sel);_els.stop(true,true).hide();temps.canvas._elem.stop(true,true).hide();temps.shadowCanvas._elem.stop(true,true).hide();temps.canvas._elem.jqplotEffect("blind",{mode:"show",direction:tempr.animation.direction},tempr.animation.speed);temps.shadowCanvas._elem.jqplotEffect("blind",{mode:"show",direction:tempr.animation.direction},
tempr.animation.speed);_els.fadeIn(tempr.animation.speed*0.8)}}_els=null;this.target.trigger("jqplotPostDraw",[this])}};this.draw=function(){if(this.drawIfHidden||this.target.is(":visible")){this.target.trigger("jqplotPreDraw");var i,j,l,tempseries;for(i=0,l=$.jqplot.preDrawHooks.length;i<l;i++)$.jqplot.preDrawHooks[i].call(this);for(i=0,l=this.preDrawHooks.length;i<l;i++)this.preDrawHooks.hooks[i].apply(this,this.preDrawSeriesHooks.args[i]);this.target.append(this.baseCanvas.createElement({left:0,
right:0,top:0,bottom:0},"jqplot-base-canvas",null,this));this.baseCanvas.setContext();this.target.append(this.title.draw());this.title.pack({top:0,left:0});var legendElem=this.legend.draw({},this);var gridPadding={top:0,left:0,bottom:0,right:0};if(this.legend.placement=="outsideGrid"){this.target.append(legendElem);switch(this.legend.location){case "n":gridPadding.top+=this.legend.getHeight();break;case "s":gridPadding.bottom+=this.legend.getHeight();break;case "ne":case "e":case "se":gridPadding.right+=
this.legend.getWidth();break;case "nw":case "w":case "sw":gridPadding.left+=this.legend.getWidth();break;default:gridPadding.right+=this.legend.getWidth();break}legendElem=legendElem.detach()}var ax=this.axes;var name;for(i=0;i<12;i++){name=_axisNames[i];this.target.append(ax[name].draw(this.baseCanvas._ctx,this));ax[name].set()}if(ax.yaxis.show)gridPadding.left+=ax.yaxis.getWidth();var ra=["y2axis","y3axis","y4axis","y5axis","y6axis","y7axis","y8axis","y9axis"];var rapad=[0,0,0,0,0,0,0,0];var gpr=
0;var n;for(n=0;n<8;n++)if(ax[ra[n]].show){gpr+=ax[ra[n]].getWidth();rapad[n]=gpr}gridPadding.right+=gpr;if(ax.x2axis.show)gridPadding.top+=ax.x2axis.getHeight();if(this.title.show)gridPadding.top+=this.title.getHeight();if(ax.xaxis.show)gridPadding.bottom+=ax.xaxis.getHeight();if(this.options.gridDimensions&&$.isPlainObject(this.options.gridDimensions)){var gdw=parseInt(this.options.gridDimensions.width,10)||0;var gdh=parseInt(this.options.gridDimensions.height,10)||0;var widthAdj=(this._width-gridPadding.left-
gridPadding.right-gdw)/2;var heightAdj=(this._height-gridPadding.top-gridPadding.bottom-gdh)/2;if(heightAdj>=0&&widthAdj>=0){gridPadding.top+=heightAdj;gridPadding.bottom+=heightAdj;gridPadding.left+=widthAdj;gridPadding.right+=widthAdj}}var arr=["top","bottom","left","right"];for(var n in arr)if(this._gridPadding[arr[n]]==null&&gridPadding[arr[n]]>0)this._gridPadding[arr[n]]=gridPadding[arr[n]];else if(this._gridPadding[arr[n]]==null)this._gridPadding[arr[n]]=this._defaultGridPadding[arr[n]];var legendPadding=
this._gridPadding;if(this.legend.placement==="outsideGrid"){legendPadding={top:this.title.getHeight(),left:0,right:0,bottom:0};if(this.legend.location==="s"){legendPadding.left=this._gridPadding.left;legendPadding.right=this._gridPadding.right}}ax.xaxis.pack({position:"absolute",bottom:this._gridPadding.bottom-ax.xaxis.getHeight(),left:0,width:this._width},{min:this._gridPadding.left,max:this._width-this._gridPadding.right});ax.yaxis.pack({position:"absolute",top:0,left:this._gridPadding.left-ax.yaxis.getWidth(),
height:this._height},{min:this._height-this._gridPadding.bottom,max:this._gridPadding.top});ax.x2axis.pack({position:"absolute",top:this._gridPadding.top-ax.x2axis.getHeight(),left:0,width:this._width},{min:this._gridPadding.left,max:this._width-this._gridPadding.right});for(i=8;i>0;i--)ax[ra[i-1]].pack({position:"absolute",top:0,right:this._gridPadding.right-rapad[i-1]},{min:this._height-this._gridPadding.bottom,max:this._gridPadding.top});var ltemp=(this._width-this._gridPadding.left-this._gridPadding.right)/
2+this._gridPadding.left-ax.yMidAxis.getWidth()/2;ax.yMidAxis.pack({position:"absolute",top:0,left:ltemp,zIndex:9,textAlign:"center"},{min:this._height-this._gridPadding.bottom,max:this._gridPadding.top});this.target.append(this.grid.createElement(this._gridPadding,this));this.grid.draw();var series=this.series;var seriesLength=series.length;for(i=0,l=seriesLength;i<l;i++){j=this.seriesStack[i];this.target.append(series[j].shadowCanvas.createElement(this._gridPadding,"jqplot-series-shadowCanvas",
null,this));series[j].shadowCanvas.setContext();series[j].shadowCanvas._elem.data("seriesIndex",j)}for(i=0,l=seriesLength;i<l;i++){j=this.seriesStack[i];this.target.append(series[j].canvas.createElement(this._gridPadding,"jqplot-series-canvas",null,this));series[j].canvas.setContext();series[j].canvas._elem.data("seriesIndex",j)}this.target.append(this.eventCanvas.createElement(this._gridPadding,"jqplot-event-canvas",null,this));this.eventCanvas.setContext();this.eventCanvas._ctx.fillStyle="rgba(0,0,0,0)";
this.eventCanvas._ctx.fillRect(0,0,this.eventCanvas._ctx.canvas.width,this.eventCanvas._ctx.canvas.height);this.bindCustomEvents();if(this.legend.preDraw){this.eventCanvas._elem.before(legendElem);this.legend.pack(legendPadding);if(this.legend._elem)this.drawSeries({legendInfo:{location:this.legend.location,placement:this.legend.placement,width:this.legend.getWidth(),height:this.legend.getHeight(),xoffset:this.legend.xoffset,yoffset:this.legend.yoffset}});else this.drawSeries()}else{this.drawSeries();
if(seriesLength)$(series[seriesLength-1].canvas._elem).after(legendElem);this.legend.pack(legendPadding)}for(var i=0,l=$.jqplot.eventListenerHooks.length;i<l;i++)this.eventCanvas._elem.bind($.jqplot.eventListenerHooks[i][0],{plot:this},$.jqplot.eventListenerHooks[i][1]);for(var i=0,l=this.eventListenerHooks.hooks.length;i<l;i++)this.eventCanvas._elem.bind(this.eventListenerHooks.hooks[i][0],{plot:this},this.eventListenerHooks.hooks[i][1]);var fb=this.fillBetween;if(fb.fill&&fb.series1!==fb.series2&&
fb.series1<seriesLength&&fb.series2<seriesLength&&series[fb.series1]._type==="line"&&series[fb.series2]._type==="line")this.doFillBetweenLines();for(var i=0,l=$.jqplot.postDrawHooks.length;i<l;i++)$.jqplot.postDrawHooks[i].call(this);for(var i=0,l=this.postDrawHooks.hooks.length;i<l;i++)this.postDrawHooks.hooks[i].apply(this,this.postDrawHooks.args[i]);if(this.target.is(":visible"))this._drawCount+=1;var temps,tempr,sel,_els;for(i=0,l=seriesLength;i<l;i++){temps=series[i];tempr=temps.renderer;sel=
".jqplot-point-label.jqplot-series-"+i;if(tempr.animation&&tempr.animation._supported&&tempr.animation.show&&(this._drawCount<2||this.animateReplot)){_els=this.target.find(sel);_els.stop(true,true).hide();temps.canvas._elem.stop(true,true).hide();temps.shadowCanvas._elem.stop(true,true).hide();temps.canvas._elem.jqplotEffect("blind",{mode:"show",direction:tempr.animation.direction},tempr.animation.speed);temps.shadowCanvas._elem.jqplotEffect("blind",{mode:"show",direction:tempr.animation.direction},
tempr.animation.speed);_els.fadeIn(tempr.animation.speed*0.8)}}_els=null;this.target.trigger("jqplotPostDraw",[this])}};jqPlot.prototype.doFillBetweenLines=function(){var fb=this.fillBetween;var sid1=fb.series1;var sid2=fb.series2;var id1=sid1<sid2?sid1:sid2;var id2=sid2>sid1?sid2:sid1;var series1=this.series[id1];var series2=this.series[id2];if(series2.renderer.smooth)var tempgd=series2.renderer._smoothedData.slice(0).reverse();else var tempgd=series2.gridData.slice(0).reverse();if(series1.renderer.smooth)var gd=
series1.renderer._smoothedData.concat(tempgd);else var gd=series1.gridData.concat(tempgd);var color=fb.color!==null?fb.color:this.series[sid1].fillColor;var baseSeries=fb.baseSeries!==null?fb.baseSeries:id1;var sr=this.series[baseSeries].renderer.shapeRenderer;var opts={fillStyle:color,fill:true,closePath:true};sr.draw(series1.shadowCanvas._ctx,gd,opts)};this.bindCustomEvents=function(){this.eventCanvas._elem.bind("click",{plot:this},this.onClick);this.eventCanvas._elem.bind("dblclick",{plot:this},
this.onDblClick);this.eventCanvas._elem.bind("mousedown",{plot:this},this.onMouseDown);this.eventCanvas._elem.bind("mousemove",{plot:this},this.onMouseMove);this.eventCanvas._elem.bind("mouseenter",{plot:this},this.onMouseEnter);this.eventCanvas._elem.bind("mouseleave",{plot:this},this.onMouseLeave);if(this.captureRightClick){this.eventCanvas._elem.bind("mouseup",{plot:this},this.onRightClick);this.eventCanvas._elem.get(0).oncontextmenu=function(){return false}}else this.eventCanvas._elem.bind("mouseup",
{plot:this},this.onMouseUp)};function getEventPosition(ev){var plot=ev.data.plot;var go=plot.eventCanvas._elem.offset();var gridPos={x:ev.pageX-go.left,y:ev.pageY-go.top};var dataPos={xaxis:null,yaxis:null,x2axis:null,y2axis:null,y3axis:null,y4axis:null,y5axis:null,y6axis:null,y7axis:null,y8axis:null,y9axis:null,yMidAxis:null};var an=["xaxis","yaxis","x2axis","y2axis","y3axis","y4axis","y5axis","y6axis","y7axis","y8axis","y9axis","yMidAxis"];var ax=plot.axes;var n,axis;for(n=11;n>0;n--){axis=an[n-
1];if(ax[axis].show)dataPos[axis]=ax[axis].series_p2u(gridPos[axis.charAt(0)])}return{offsets:go,gridPos:gridPos,dataPos:dataPos}}function checkIntersection(gridpos,plot){var series=plot.series;var i,j,k,s,r,x,y,theta,sm,sa,minang,maxang;var d0,d,p,pp,points,bw,hp;var threshold,t;for(k=plot.seriesStack.length-1;k>=0;k--){i=plot.seriesStack[k];s=series[i];hp=s._highlightThreshold;switch(s.renderer.constructor){case $.jqplot.BarRenderer:x=gridpos.x;y=gridpos.y;for(j=0;j<s._barPoints.length;j++){points=
s._barPoints[j];p=s.gridData[j];if(x>points[0][0]&&x<points[2][0]&&y>points[2][1]&&y<points[0][1])return{seriesIndex:s.index,pointIndex:j,gridData:p,data:s.data[j],points:s._barPoints[j]}}break;case $.jqplot.PyramidRenderer:x=gridpos.x;y=gridpos.y;for(j=0;j<s._barPoints.length;j++){points=s._barPoints[j];p=s.gridData[j];if(x>points[0][0]+hp[0][0]&&x<points[2][0]+hp[2][0]&&y>points[2][1]&&y<points[0][1])return{seriesIndex:s.index,pointIndex:j,gridData:p,data:s.data[j],points:s._barPoints[j]}}break;
case $.jqplot.DonutRenderer:sa=s.startAngle/180*Math.PI;x=gridpos.x-s._center[0];y=gridpos.y-s._center[1];r=Math.sqrt(Math.pow(x,2)+Math.pow(y,2));if(x>0&&-y>=0)theta=2*Math.PI-Math.atan(-y/x);else if(x>0&&-y<0)theta=-Math.atan(-y/x);else if(x<0)theta=Math.PI-Math.atan(-y/x);else if(x==0&&-y>0)theta=3*Math.PI/2;else if(x==0&&-y<0)theta=Math.PI/2;else if(x==0&&y==0)theta=0;if(sa){theta-=sa;if(theta<0)theta+=2*Math.PI;else if(theta>2*Math.PI)theta-=2*Math.PI}sm=s.sliceMargin/180*Math.PI;if(r<s._radius&&
r>s._innerRadius)for(j=0;j<s.gridData.length;j++){minang=j>0?s.gridData[j-1][1]+sm:sm;maxang=s.gridData[j][1];if(theta>minang&&theta<maxang)return{seriesIndex:s.index,pointIndex:j,gridData:s.gridData[j],data:s.data[j]}}break;case $.jqplot.PieRenderer:sa=s.startAngle/180*Math.PI;x=gridpos.x-s._center[0];y=gridpos.y-s._center[1];r=Math.sqrt(Math.pow(x,2)+Math.pow(y,2));if(x>0&&-y>=0)theta=2*Math.PI-Math.atan(-y/x);else if(x>0&&-y<0)theta=-Math.atan(-y/x);else if(x<0)theta=Math.PI-Math.atan(-y/x);else if(x==
0&&-y>0)theta=3*Math.PI/2;else if(x==0&&-y<0)theta=Math.PI/2;else if(x==0&&y==0)theta=0;if(sa){theta-=sa;if(theta<0)theta+=2*Math.PI;else if(theta>2*Math.PI)theta-=2*Math.PI}sm=s.sliceMargin/180*Math.PI;if(r<s._radius)for(j=0;j<s.gridData.length;j++){minang=j>0?s.gridData[j-1][1]+sm:sm;maxang=s.gridData[j][1];if(theta>minang&&theta<maxang)return{seriesIndex:s.index,pointIndex:j,gridData:s.gridData[j],data:s.data[j]}}break;case $.jqplot.BubbleRenderer:x=gridpos.x;y=gridpos.y;var ret=null;if(s.show){for(var j=
0;j<s.gridData.length;j++){p=s.gridData[j];d=Math.sqrt((x-p[0])*(x-p[0])+(y-p[1])*(y-p[1]));if(d<=p[2]&&(d<=d0||d0==null)){d0=d;ret={seriesIndex:i,pointIndex:j,gridData:p,data:s.data[j]}}}if(ret!=null)return ret}break;case $.jqplot.FunnelRenderer:x=gridpos.x;y=gridpos.y;var v=s._vertices,vfirst=v[0],vlast=v[v.length-1],lex,rex,cv;function findedge(l,p1,p2){var m=(p1[1]-p2[1])/(p1[0]-p2[0]);var b=p1[1]-m*p1[0];var y=l+p1[1];return[(y-b)/m,y]}lex=findedge(y,vfirst[0],vlast[3]);rex=findedge(y,vfirst[1],
vlast[2]);for(j=0;j<v.length;j++){cv=v[j];if(y>=cv[0][1]&&y<=cv[3][1]&&x>=lex[0]&&x<=rex[0])return{seriesIndex:s.index,pointIndex:j,gridData:null,data:s.data[j]}}break;case $.jqplot.LineRenderer:x=gridpos.x;y=gridpos.y;r=s.renderer;if(s.show)if((s.fill||s.renderer.bands.show&&s.renderer.bands.fill)&&(!plot.plugins.highlighter||!plot.plugins.highlighter.show)){var inside=false;if(x>s._boundingBox[0][0]&&x<s._boundingBox[1][0]&&y>s._boundingBox[1][1]&&y<s._boundingBox[0][1]){var numPoints=s._areaPoints.length;
var ii;var j=numPoints-1;for(var ii=0;ii<numPoints;ii++){var vertex1=[s._areaPoints[ii][0],s._areaPoints[ii][1]];var vertex2=[s._areaPoints[j][0],s._areaPoints[j][1]];if(vertex1[1]<y&&vertex2[1]>=y||vertex2[1]<y&&vertex1[1]>=y)if(vertex1[0]+(y-vertex1[1])/(vertex2[1]-vertex1[1])*(vertex2[0]-vertex1[0])<x)inside=!inside;j=ii}}if(inside)return{seriesIndex:i,pointIndex:null,gridData:s.gridData,data:s.data,points:s._areaPoints};break}else{t=s.markerRenderer.size/2+s.neighborThreshold;threshold=t>0?t:
0;d0=null;var p0,i0,j0;for(var j=0;j<s.gridData.length;j++){p=s.gridData[j];if(r.constructor==$.jqplot.OHLCRenderer)if(r.candleStick){var yp=s._yaxis.series_u2p;if(x>=p[0]-r._bodyWidth/2&&x<=p[0]+r._bodyWidth/2&&y>=yp(s.data[j][2])&&y<=yp(s.data[j][3]))return{seriesIndex:i,pointIndex:j,gridData:p,data:s.data[j]}}else if(!r.hlc){var yp=s._yaxis.series_u2p;if(x>=p[0]-r._tickLength&&x<=p[0]+r._tickLength&&y>=yp(s.data[j][2])&&y<=yp(s.data[j][3]))return{seriesIndex:i,pointIndex:j,gridData:p,data:s.data[j]}}else{var yp=
s._yaxis.series_u2p;if(x>=p[0]-r._tickLength&&x<=p[0]+r._tickLength&&y>=yp(s.data[j][1])&&y<=yp(s.data[j][2]))return{seriesIndex:i,pointIndex:j,gridData:p,data:s.data[j]}}else if(p[0]!=null&&p[1]!=null){d=Math.sqrt((x-p[0])*(x-p[0])+(y-p[1])*(y-p[1]));if(d<=threshold&&(d0==null||d<=d0)){d0=d;p0=p;i0=i;j0=j}}}if(d0!=null)return{seriesIndex:i0,pointIndex:j0,gridData:p0,data:s.data[j0]}}break;default:x=gridpos.x;y=gridpos.y;r=s.renderer;if(s.show){t=s.markerRenderer.size/2+s.neighborThreshold;threshold=
t>0?t:0;for(var j=0;j<s.gridData.length;j++){p=s.gridData[j];if(r.constructor==$.jqplot.OHLCRenderer)if(r.candleStick){var yp=s._yaxis.series_u2p;if(x>=p[0]-r._bodyWidth/2&&x<=p[0]+r._bodyWidth/2&&y>=yp(s.data[j][2])&&y<=yp(s.data[j][3]))return{seriesIndex:i,pointIndex:j,gridData:p,data:s.data[j]}}else if(!r.hlc){var yp=s._yaxis.series_u2p;if(x>=p[0]-r._tickLength&&x<=p[0]+r._tickLength&&y>=yp(s.data[j][2])&&y<=yp(s.data[j][3]))return{seriesIndex:i,pointIndex:j,gridData:p,data:s.data[j]}}else{var yp=
s._yaxis.series_u2p;if(x>=p[0]-r._tickLength&&x<=p[0]+r._tickLength&&y>=yp(s.data[j][1])&&y<=yp(s.data[j][2]))return{seriesIndex:i,pointIndex:j,gridData:p,data:s.data[j]}}else{d=Math.sqrt((x-p[0])*(x-p[0])+(y-p[1])*(y-p[1]));if(d<=threshold&&(d<=d0||d0==null)){d0=d;return{seriesIndex:i,pointIndex:j,gridData:p,data:s.data[j]}}}}}break}}return null}this.onClick=function(ev){var positions=getEventPosition(ev);var p=ev.data.plot;var neighbor=checkIntersection(positions.gridPos,p);var evt=$.Event("jqplotClick");
evt.pageX=ev.pageX;evt.pageY=ev.pageY;$(this).trigger(evt,[positions.gridPos,positions.dataPos,neighbor,p])};this.onDblClick=function(ev){var positions=getEventPosition(ev);var p=ev.data.plot;var neighbor=checkIntersection(positions.gridPos,p);var evt=$.Event("jqplotDblClick");evt.pageX=ev.pageX;evt.pageY=ev.pageY;$(this).trigger(evt,[positions.gridPos,positions.dataPos,neighbor,p])};this.onMouseDown=function(ev){var positions=getEventPosition(ev);var p=ev.data.plot;var neighbor=checkIntersection(positions.gridPos,
p);var evt=$.Event("jqplotMouseDown");evt.pageX=ev.pageX;evt.pageY=ev.pageY;$(this).trigger(evt,[positions.gridPos,positions.dataPos,neighbor,p])};this.onMouseUp=function(ev){var positions=getEventPosition(ev);var evt=$.Event("jqplotMouseUp");evt.pageX=ev.pageX;evt.pageY=ev.pageY;$(this).trigger(evt,[positions.gridPos,positions.dataPos,null,ev.data.plot])};this.onRightClick=function(ev){var positions=getEventPosition(ev);var p=ev.data.plot;var neighbor=checkIntersection(positions.gridPos,p);if(p.captureRightClick)if(ev.which==
3){var evt=$.Event("jqplotRightClick");evt.pageX=ev.pageX;evt.pageY=ev.pageY;$(this).trigger(evt,[positions.gridPos,positions.dataPos,neighbor,p])}else{var evt=$.Event("jqplotMouseUp");evt.pageX=ev.pageX;evt.pageY=ev.pageY;$(this).trigger(evt,[positions.gridPos,positions.dataPos,neighbor,p])}};this.onMouseMove=function(ev){var positions=getEventPosition(ev);var p=ev.data.plot;var neighbor=checkIntersection(positions.gridPos,p);var evt=$.Event("jqplotMouseMove");evt.pageX=ev.pageX;evt.pageY=ev.pageY;
$(this).trigger(evt,[positions.gridPos,positions.dataPos,neighbor,p])};this.onMouseEnter=function(ev){var positions=getEventPosition(ev);var p=ev.data.plot;var evt=$.Event("jqplotMouseEnter");evt.pageX=ev.pageX;evt.pageY=ev.pageY;evt.relatedTarget=ev.relatedTarget;$(this).trigger(evt,[positions.gridPos,positions.dataPos,null,p])};this.onMouseLeave=function(ev){var positions=getEventPosition(ev);var p=ev.data.plot;var evt=$.Event("jqplotMouseLeave");evt.pageX=ev.pageX;evt.pageY=ev.pageY;evt.relatedTarget=
ev.relatedTarget;$(this).trigger(evt,[positions.gridPos,positions.dataPos,null,p])};this.drawSeries=function(options,idx){var i,series,ctx;idx=typeof options==="number"&&idx==null?options:idx;options=typeof options==="object"?options:{};if(idx!=undefined){series=this.series[idx];ctx=series.shadowCanvas._ctx;ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height);series.drawShadow(ctx,options,this);ctx=series.canvas._ctx;ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height);series.draw(ctx,options,this);
if(series.renderer.constructor==$.jqplot.BezierCurveRenderer)if(idx<this.series.length-1)this.drawSeries(idx+1)}else for(i=0;i<this.series.length;i++){series=this.series[i];ctx=series.shadowCanvas._ctx;ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height);series.drawShadow(ctx,options,this);ctx=series.canvas._ctx;ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height);series.draw(ctx,options,this)}options=idx=i=series=ctx=null};this.moveSeriesToFront=function(idx){idx=parseInt(idx,10);var stackIndex=
$.inArray(idx,this.seriesStack);if(stackIndex==-1)return;if(stackIndex==this.seriesStack.length-1){this.previousSeriesStack=this.seriesStack.slice(0);return}var opidx=this.seriesStack[this.seriesStack.length-1];var serelem=this.series[idx].canvas._elem.detach();var shadelem=this.series[idx].shadowCanvas._elem.detach();this.series[opidx].shadowCanvas._elem.after(shadelem);this.series[opidx].canvas._elem.after(serelem);this.previousSeriesStack=this.seriesStack.slice(0);this.seriesStack.splice(stackIndex,
1);this.seriesStack.push(idx)};this.moveSeriesToBack=function(idx){idx=parseInt(idx,10);var stackIndex=$.inArray(idx,this.seriesStack);if(stackIndex==0||stackIndex==-1)return;var opidx=this.seriesStack[0];var serelem=this.series[idx].canvas._elem.detach();var shadelem=this.series[idx].shadowCanvas._elem.detach();this.series[opidx].shadowCanvas._elem.before(shadelem);this.series[opidx].canvas._elem.before(serelem);this.previousSeriesStack=this.seriesStack.slice(0);this.seriesStack.splice(stackIndex,
1);this.seriesStack.unshift(idx)};this.restorePreviousSeriesOrder=function(){var i,j,serelem,shadelem,temp,move,keep;if(this.seriesStack==this.previousSeriesStack)return;for(i=1;i<this.previousSeriesStack.length;i++){move=this.previousSeriesStack[i];keep=this.previousSeriesStack[i-1];serelem=this.series[move].canvas._elem.detach();shadelem=this.series[move].shadowCanvas._elem.detach();this.series[keep].shadowCanvas._elem.after(shadelem);this.series[keep].canvas._elem.after(serelem)}temp=this.seriesStack.slice(0);
this.seriesStack=this.previousSeriesStack.slice(0);this.previousSeriesStack=temp};this.restoreOriginalSeriesOrder=function(){var i,j,arr=[],serelem,shadelem;for(i=0;i<this.series.length;i++)arr.push(i);if(this.seriesStack==arr)return;this.previousSeriesStack=this.seriesStack.slice(0);this.seriesStack=arr;for(i=1;i<this.seriesStack.length;i++){serelem=this.series[i].canvas._elem.detach();shadelem=this.series[i].shadowCanvas._elem.detach();this.series[i-1].shadowCanvas._elem.after(shadelem);this.series[i-
1].canvas._elem.after(serelem)}};this.activateTheme=function(name){this.themeEngine.activate(this,name)}}$.jqplot.computeHighlightColors=function(colors){var ret;if($.isArray(colors)){ret=[];for(var i=0;i<colors.length;i++){var rgba=$.jqplot.getColorComponents(colors[i]);var newrgb=[rgba[0],rgba[1],rgba[2]];var sum=newrgb[0]+newrgb[1]+newrgb[2];for(var j=0;j<3;j++){newrgb[j]=sum>660?newrgb[j]*0.85:0.73*newrgb[j]+90;newrgb[j]=parseInt(newrgb[j],10);newrgb[j]>255?255:newrgb[j]}newrgb[3]=0.3+0.35*rgba[3];
ret.push("rgba("+newrgb[0]+","+newrgb[1]+","+newrgb[2]+","+newrgb[3]+")")}}else{var rgba=$.jqplot.getColorComponents(colors);var newrgb=[rgba[0],rgba[1],rgba[2]];var sum=newrgb[0]+newrgb[1]+newrgb[2];for(var j=0;j<3;j++){newrgb[j]=sum>660?newrgb[j]*0.85:0.73*newrgb[j]+90;newrgb[j]=parseInt(newrgb[j],10);newrgb[j]>255?255:newrgb[j]}newrgb[3]=0.3+0.35*rgba[3];ret="rgba("+newrgb[0]+","+newrgb[1]+","+newrgb[2]+","+newrgb[3]+")"}return ret};$.jqplot.ColorGenerator=function(colors){colors=colors||$.jqplot.config.defaultColors;
var idx=0;this.next=function(){if(idx<colors.length)return colors[idx++];else{idx=0;return colors[idx++]}};this.previous=function(){if(idx>0)return colors[idx--];else{idx=colors.length-1;return colors[idx]}};this.get=function(i){var idx=i-colors.length*Math.floor(i/colors.length);return colors[idx]};this.setColors=function(c){colors=c};this.reset=function(){idx=0};this.getIndex=function(){return idx};this.setIndex=function(index){idx=index}};$.jqplot.hex2rgb=function(h,a){h=h.replace("#","");if(h.length==
3)h=h.charAt(0)+h.charAt(0)+h.charAt(1)+h.charAt(1)+h.charAt(2)+h.charAt(2);var rgb;rgb="rgba("+parseInt(h.slice(0,2),16)+", "+parseInt(h.slice(2,4),16)+", "+parseInt(h.slice(4,6),16);if(a)rgb+=", "+a;rgb+=")";return rgb};$.jqplot.rgb2hex=function(s){var pat=/rgba?\( *([0-9]{1,3}\.?[0-9]*%?) *, *([0-9]{1,3}\.?[0-9]*%?) *, *([0-9]{1,3}\.?[0-9]*%?) *(?:, *[0-9.]*)?\)/;var m=s.match(pat);var h="#";for(var i=1;i<4;i++){var temp;if(m[i].search(/%/)!=-1){temp=parseInt(255*m[i]/100,10).toString(16);if(temp.length==
1)temp="0"+temp}else{temp=parseInt(m[i],10).toString(16);if(temp.length==1)temp="0"+temp}h+=temp}return h};$.jqplot.normalize2rgb=function(s,a){if(s.search(/^ *rgba?\(/)!=-1)return s;else if(s.search(/^ *#?[0-9a-fA-F]?[0-9a-fA-F]/)!=-1)return $.jqplot.hex2rgb(s,a);else throw"invalid color spec";};$.jqplot.getColorComponents=function(s){s=$.jqplot.colorKeywordMap[s]||s;var rgb=$.jqplot.normalize2rgb(s);var pat=/rgba?\( *([0-9]{1,3}\.?[0-9]*%?) *, *([0-9]{1,3}\.?[0-9]*%?) *, *([0-9]{1,3}\.?[0-9]*%?) *,? *([0-9.]* *)?\)/;
var m=rgb.match(pat);var ret=[];for(var i=1;i<4;i++)if(m[i].search(/%/)!=-1)ret[i-1]=parseInt(255*m[i]/100,10);else ret[i-1]=parseInt(m[i],10);ret[3]=parseFloat(m[4])?parseFloat(m[4]):1;return ret};$.jqplot.colorKeywordMap={aliceblue:"rgb(240, 248, 255)",antiquewhite:"rgb(250, 235, 215)",aqua:"rgb( 0, 255, 255)",aquamarine:"rgb(127, 255, 212)",azure:"rgb(240, 255, 255)",beige:"rgb(245, 245, 220)",bisque:"rgb(255, 228, 196)",black:"rgb( 0, 0, 0)",blanchedalmond:"rgb(255, 235, 205)",blue:"rgb( 0, 0, 255)",
blueviolet:"rgb(138, 43, 226)",brown:"rgb(165, 42, 42)",burlywood:"rgb(222, 184, 135)",cadetblue:"rgb( 95, 158, 160)",chartreuse:"rgb(127, 255, 0)",chocolate:"rgb(210, 105, 30)",coral:"rgb(255, 127, 80)",cornflowerblue:"rgb(100, 149, 237)",cornsilk:"rgb(255, 248, 220)",crimson:"rgb(220, 20, 60)",cyan:"rgb( 0, 255, 255)",darkblue:"rgb( 0, 0, 139)",darkcyan:"rgb( 0, 139, 139)",darkgoldenrod:"rgb(184, 134, 11)",darkgray:"rgb(169, 169, 169)",darkgreen:"rgb( 0, 100, 0)",darkgrey:"rgb(169, 169, 169)",darkkhaki:"rgb(189, 183, 107)",
darkmagenta:"rgb(139, 0, 139)",darkolivegreen:"rgb( 85, 107, 47)",darkorange:"rgb(255, 140, 0)",darkorchid:"rgb(153, 50, 204)",darkred:"rgb(139, 0, 0)",darksalmon:"rgb(233, 150, 122)",darkseagreen:"rgb(143, 188, 143)",darkslateblue:"rgb( 72, 61, 139)",darkslategray:"rgb( 47, 79, 79)",darkslategrey:"rgb( 47, 79, 79)",darkturquoise:"rgb( 0, 206, 209)",darkviolet:"rgb(148, 0, 211)",deeppink:"rgb(255, 20, 147)",deepskyblue:"rgb( 0, 191, 255)",dimgray:"rgb(105, 105, 105)",dimgrey:"rgb(105, 105, 105)",
dodgerblue:"rgb( 30, 144, 255)",firebrick:"rgb(178, 34, 34)",floralwhite:"rgb(255, 250, 240)",forestgreen:"rgb( 34, 139, 34)",fuchsia:"rgb(255, 0, 255)",gainsboro:"rgb(220, 220, 220)",ghostwhite:"rgb(248, 248, 255)",gold:"rgb(255, 215, 0)",goldenrod:"rgb(218, 165, 32)",gray:"rgb(128, 128, 128)",grey:"rgb(128, 128, 128)",green:"rgb( 0, 128, 0)",greenyellow:"rgb(173, 255, 47)",honeydew:"rgb(240, 255, 240)",hotpink:"rgb(255, 105, 180)",indianred:"rgb(205, 92, 92)",indigo:"rgb( 75, 0, 130)",ivory:"rgb(255, 255, 240)",
khaki:"rgb(240, 230, 140)",lavender:"rgb(230, 230, 250)",lavenderblush:"rgb(255, 240, 245)",lawngreen:"rgb(124, 252, 0)",lemonchiffon:"rgb(255, 250, 205)",lightblue:"rgb(173, 216, 230)",lightcoral:"rgb(240, 128, 128)",lightcyan:"rgb(224, 255, 255)",lightgoldenrodyellow:"rgb(250, 250, 210)",lightgray:"rgb(211, 211, 211)",lightgreen:"rgb(144, 238, 144)",lightgrey:"rgb(211, 211, 211)",lightpink:"rgb(255, 182, 193)",lightsalmon:"rgb(255, 160, 122)",lightseagreen:"rgb( 32, 178, 170)",lightskyblue:"rgb(135, 206, 250)",
lightslategray:"rgb(119, 136, 153)",lightslategrey:"rgb(119, 136, 153)",lightsteelblue:"rgb(176, 196, 222)",lightyellow:"rgb(255, 255, 224)",lime:"rgb( 0, 255, 0)",limegreen:"rgb( 50, 205, 50)",linen:"rgb(250, 240, 230)",magenta:"rgb(255, 0, 255)",maroon:"rgb(128, 0, 0)",mediumaquamarine:"rgb(102, 205, 170)",mediumblue:"rgb( 0, 0, 205)",mediumorchid:"rgb(186, 85, 211)",mediumpurple:"rgb(147, 112, 219)",mediumseagreen:"rgb( 60, 179, 113)",mediumslateblue:"rgb(123, 104, 238)",mediumspringgreen:"rgb( 0, 250, 154)",
mediumturquoise:"rgb( 72, 209, 204)",mediumvioletred:"rgb(199, 21, 133)",midnightblue:"rgb( 25, 25, 112)",mintcream:"rgb(245, 255, 250)",mistyrose:"rgb(255, 228, 225)",moccasin:"rgb(255, 228, 181)",navajowhite:"rgb(255, 222, 173)",navy:"rgb( 0, 0, 128)",oldlace:"rgb(253, 245, 230)",olive:"rgb(128, 128, 0)",olivedrab:"rgb(107, 142, 35)",orange:"rgb(255, 165, 0)",orangered:"rgb(255, 69, 0)",orchid:"rgb(218, 112, 214)",palegoldenrod:"rgb(238, 232, 170)",palegreen:"rgb(152, 251, 152)",paleturquoise:"rgb(175, 238, 238)",
palevioletred:"rgb(219, 112, 147)",papayawhip:"rgb(255, 239, 213)",peachpuff:"rgb(255, 218, 185)",peru:"rgb(205, 133, 63)",pink:"rgb(255, 192, 203)",plum:"rgb(221, 160, 221)",powderblue:"rgb(176, 224, 230)",purple:"rgb(128, 0, 128)",red:"rgb(255, 0, 0)",rosybrown:"rgb(188, 143, 143)",royalblue:"rgb( 65, 105, 225)",saddlebrown:"rgb(139, 69, 19)",salmon:"rgb(250, 128, 114)",sandybrown:"rgb(244, 164, 96)",seagreen:"rgb( 46, 139, 87)",seashell:"rgb(255, 245, 238)",sienna:"rgb(160, 82, 45)",silver:"rgb(192, 192, 192)",
skyblue:"rgb(135, 206, 235)",slateblue:"rgb(106, 90, 205)",slategray:"rgb(112, 128, 144)",slategrey:"rgb(112, 128, 144)",snow:"rgb(255, 250, 250)",springgreen:"rgb( 0, 255, 127)",steelblue:"rgb( 70, 130, 180)",tan:"rgb(210, 180, 140)",teal:"rgb( 0, 128, 128)",thistle:"rgb(216, 191, 216)",tomato:"rgb(255, 99, 71)",turquoise:"rgb( 64, 224, 208)",violet:"rgb(238, 130, 238)",wheat:"rgb(245, 222, 179)",white:"rgb(255, 255, 255)",whitesmoke:"rgb(245, 245, 245)",yellow:"rgb(255, 255, 0)",yellowgreen:"rgb(154, 205, 50)"};
$.jqplot.AxisLabelRenderer=function(options){$.jqplot.ElemContainer.call(this);this.axis;this.show=true;this.label="";this.fontFamily=null;this.fontSize=null;this.textColor=null;this._elem;this.escapeHTML=false;$.extend(true,this,options)};$.jqplot.AxisLabelRenderer.prototype=new $.jqplot.ElemContainer;$.jqplot.AxisLabelRenderer.prototype.constructor=$.jqplot.AxisLabelRenderer;$.jqplot.AxisLabelRenderer.prototype.init=function(options){$.extend(true,this,options)};$.jqplot.AxisLabelRenderer.prototype.draw=
function(ctx,plot){if(this._elem){this._elem.emptyForce();this._elem=null}this._elem=$('<div style="position:absolute;" class="jqplot-'+this.axis+'-label"></div>');if(Number(this.label))this._elem.css("white-space","nowrap");if(!this.escapeHTML)this._elem.html(this.label);else this._elem.text(this.label);if(this.fontFamily)this._elem.css("font-family",this.fontFamily);if(this.fontSize)this._elem.css("font-size",this.fontSize);if(this.textColor)this._elem.css("color",this.textColor);return this._elem};
$.jqplot.AxisLabelRenderer.prototype.pack=function(){};$.jqplot.AxisTickRenderer=function(options){$.jqplot.ElemContainer.call(this);this.mark="outside";this.axis;this.showMark=true;this.showGridline=true;this.isMinorTick=false;this.size=4;this.markSize=6;this.show=true;this.showLabel=true;this.label=null;this.value=null;this._styles={};this.formatter=$.jqplot.DefaultTickFormatter;this.prefix="";this.suffix="";this.formatString="";this.fontFamily;this.fontSize;this.textColor;this.escapeHTML=false;
this._elem;this._breakTick=false;$.extend(true,this,options)};$.jqplot.AxisTickRenderer.prototype.init=function(options){$.extend(true,this,options)};$.jqplot.AxisTickRenderer.prototype=new $.jqplot.ElemContainer;$.jqplot.AxisTickRenderer.prototype.constructor=$.jqplot.AxisTickRenderer;$.jqplot.AxisTickRenderer.prototype.setTick=function(value,axisName,isMinor){this.value=value;this.axis=axisName;if(isMinor)this.isMinorTick=true;return this};$.jqplot.AxisTickRenderer.prototype.draw=function(){if(this.label===
null)this.label=this.prefix+this.formatter(this.formatString,this.value)+this.suffix;var style={position:"absolute"};if(Number(this.label))style["whitSpace"]="nowrap";if(this._elem){this._elem.emptyForce();this._elem=null}this._elem=$(document.createElement("div"));this._elem.addClass("jqplot-"+this.axis+"-tick");if(!this.escapeHTML)this._elem.html(this.label);else this._elem.text(this.label);this._elem.css(style);for(var s in this._styles)this._elem.css(s,this._styles[s]);if(this.fontFamily)this._elem.css("font-family",
this.fontFamily);if(this.fontSize)this._elem.css("font-size",this.fontSize);if(this.textColor)this._elem.css("color",this.textColor);if(this._breakTick)this._elem.addClass("jqplot-breakTick");return this._elem};$.jqplot.DefaultTickFormatter=function(format,val){if(typeof val=="number"){if(!format)format=$.jqplot.config.defaultTickFormatString;return $.jqplot.sprintf(format,val)}else return String(val)};$.jqplot.PercentTickFormatter=function(format,val){if(typeof val=="number"){val=100*val;if(!format)format=
$.jqplot.config.defaultTickFormatString;return $.jqplot.sprintf(format,val)}else return String(val)};$.jqplot.AxisTickRenderer.prototype.pack=function(){};$.jqplot.CanvasGridRenderer=function(){this.shadowRenderer=new $.jqplot.ShadowRenderer};$.jqplot.CanvasGridRenderer.prototype.init=function(options){this._ctx;$.extend(true,this,options);var sopts={lineJoin:"miter",lineCap:"round",fill:false,isarc:false,angle:this.shadowAngle,offset:this.shadowOffset,alpha:this.shadowAlpha,depth:this.shadowDepth,
lineWidth:this.shadowWidth,closePath:false,strokeStyle:this.shadowColor};this.renderer.shadowRenderer.init(sopts)};$.jqplot.CanvasGridRenderer.prototype.createElement=function(plot){var elem;if(this._elem){if($.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==undefined){elem=this._elem.get(0);window.G_vmlCanvasManager.uninitElement(elem);elem=null}this._elem.emptyForce();this._elem=null}elem=plot.canvasManager.getCanvas();var w=this._plotDimensions.width;var h=this._plotDimensions.height;
elem.width=w;elem.height=h;this._elem=$(elem);this._elem.addClass("jqplot-grid-canvas");this._elem.css({position:"absolute",left:0,top:0});elem=plot.canvasManager.initCanvas(elem);this._top=this._offsets.top;this._bottom=h-this._offsets.bottom;this._left=this._offsets.left;this._right=w-this._offsets.right;this._width=this._right-this._left;this._height=this._bottom-this._top;elem=null;return this._elem};$.jqplot.CanvasGridRenderer.prototype.draw=function(){this._ctx=this._elem.get(0).getContext("2d");
var ctx=this._ctx;var axes=this._axes;ctx.save();ctx.clearRect(0,0,this._plotDimensions.width,this._plotDimensions.height);ctx.fillStyle=this.backgroundColor||this.background;ctx.fillRect(this._left,this._top,this._width,this._height);ctx.save();ctx.lineJoin="miter";ctx.lineCap="butt";ctx.lineWidth=this.gridLineWidth;ctx.strokeStyle=this.gridLineColor;var b,e,s,m;var ax=["xaxis","yaxis","x2axis","y2axis"];for(var i=4;i>0;i--){var name=ax[i-1];var axis=axes[name];var ticks=axis._ticks;var numticks=
ticks.length;if(axis.show){if(axis.drawBaseline){var bopts={};if(axis.baselineWidth!==null)bopts.lineWidth=axis.baselineWidth;if(axis.baselineColor!==null)bopts.strokeStyle=axis.baselineColor;switch(name){case "xaxis":drawLine(this._left,this._bottom,this._right,this._bottom,bopts);break;case "yaxis":drawLine(this._left,this._bottom,this._left,this._top,bopts);break;case "x2axis":drawLine(this._left,this._bottom,this._right,this._bottom,bopts);break;case "y2axis":drawLine(this._right,this._bottom,
this._right,this._top,bopts);break}}for(var j=numticks;j>0;j--){var t=ticks[j-1];if(t.show){var pos=Math.round(axis.u2p(t.value))+0.5;switch(name){case "xaxis":if(t.showGridline&&this.drawGridlines&&(!t.isMinorTick&&axis.drawMajorGridlines||t.isMinorTick&&axis.drawMinorGridlines))drawLine(pos,this._top,pos,this._bottom);if(t.showMark&&t.mark&&(!t.isMinorTick&&axis.drawMajorTickMarks||t.isMinorTick&&axis.drawMinorTickMarks)){s=t.markSize;m=t.mark;var pos=Math.round(axis.u2p(t.value))+0.5;switch(m){case "outside":b=
this._bottom;e=this._bottom+s;break;case "inside":b=this._bottom-s;e=this._bottom;break;case "cross":b=this._bottom-s;e=this._bottom+s;break;default:b=this._bottom;e=this._bottom+s;break}if(this.shadow)this.renderer.shadowRenderer.draw(ctx,[[pos,b],[pos,e]],{lineCap:"butt",lineWidth:this.gridLineWidth,offset:this.gridLineWidth*0.75,depth:2,fill:false,closePath:false});drawLine(pos,b,pos,e)}break;case "yaxis":if(t.showGridline&&this.drawGridlines&&(!t.isMinorTick&&axis.drawMajorGridlines||t.isMinorTick&&
axis.drawMinorGridlines))drawLine(this._right,pos,this._left,pos);if(t.showMark&&t.mark&&(!t.isMinorTick&&axis.drawMajorTickMarks||t.isMinorTick&&axis.drawMinorTickMarks)){s=t.markSize;m=t.mark;var pos=Math.round(axis.u2p(t.value))+0.5;switch(m){case "outside":b=this._left-s;e=this._left;break;case "inside":b=this._left;e=this._left+s;break;case "cross":b=this._left-s;e=this._left+s;break;default:b=this._left-s;e=this._left;break}if(this.shadow)this.renderer.shadowRenderer.draw(ctx,[[b,pos],[e,pos]],
{lineCap:"butt",lineWidth:this.gridLineWidth*1.5,offset:this.gridLineWidth*0.75,fill:false,closePath:false});drawLine(b,pos,e,pos,{strokeStyle:axis.borderColor})}break;case "x2axis":if(t.showGridline&&this.drawGridlines&&(!t.isMinorTick&&axis.drawMajorGridlines||t.isMinorTick&&axis.drawMinorGridlines))drawLine(pos,this._bottom,pos,this._top);if(t.showMark&&t.mark&&(!t.isMinorTick&&axis.drawMajorTickMarks||t.isMinorTick&&axis.drawMinorTickMarks)){s=t.markSize;m=t.mark;var pos=Math.round(axis.u2p(t.value))+
0.5;switch(m){case "outside":b=this._top-s;e=this._top;break;case "inside":b=this._top;e=this._top+s;break;case "cross":b=this._top-s;e=this._top+s;break;default:b=this._top-s;e=this._top;break}if(this.shadow)this.renderer.shadowRenderer.draw(ctx,[[pos,b],[pos,e]],{lineCap:"butt",lineWidth:this.gridLineWidth,offset:this.gridLineWidth*0.75,depth:2,fill:false,closePath:false});drawLine(pos,b,pos,e)}break;case "y2axis":if(t.showGridline&&this.drawGridlines&&(!t.isMinorTick&&axis.drawMajorGridlines||
t.isMinorTick&&axis.drawMinorGridlines))drawLine(this._left,pos,this._right,pos);if(t.showMark&&t.mark&&(!t.isMinorTick&&axis.drawMajorTickMarks||t.isMinorTick&&axis.drawMinorTickMarks)){s=t.markSize;m=t.mark;var pos=Math.round(axis.u2p(t.value))+0.5;switch(m){case "outside":b=this._right;e=this._right+s;break;case "inside":b=this._right-s;e=this._right;break;case "cross":b=this._right-s;e=this._right+s;break;default:b=this._right;e=this._right+s;break}if(this.shadow)this.renderer.shadowRenderer.draw(ctx,
[[b,pos],[e,pos]],{lineCap:"butt",lineWidth:this.gridLineWidth*1.5,offset:this.gridLineWidth*0.75,fill:false,closePath:false});drawLine(b,pos,e,pos,{strokeStyle:axis.borderColor})}break;default:break}}}t=null}axis=null;ticks=null}ax=["y3axis","y4axis","y5axis","y6axis","y7axis","y8axis","y9axis","yMidAxis"];for(var i=7;i>0;i--){var axis=axes[ax[i-1]];var ticks=axis._ticks;if(axis.show){var tn=ticks[axis.numberTicks-1];var t0=ticks[0];var left=axis.getLeft();var points=[[left,tn.getTop()+tn.getHeight()/
2],[left,t0.getTop()+t0.getHeight()/2+1]];if(this.shadow)this.renderer.shadowRenderer.draw(ctx,points,{lineCap:"butt",fill:false,closePath:false});drawLine(points[0][0],points[0][1],points[1][0],points[1][1],{lineCap:"butt",strokeStyle:axis.borderColor,lineWidth:axis.borderWidth});for(var j=ticks.length;j>0;j--){var t=ticks[j-1];s=t.markSize;m=t.mark;var pos=Math.round(axis.u2p(t.value))+0.5;if(t.showMark&&t.mark){switch(m){case "outside":b=left;e=left+s;break;case "inside":b=left-s;e=left;break;
case "cross":b=left-s;e=left+s;break;default:b=left;e=left+s;break}points=[[b,pos],[e,pos]];if(this.shadow)this.renderer.shadowRenderer.draw(ctx,points,{lineCap:"butt",lineWidth:this.gridLineWidth*1.5,offset:this.gridLineWidth*0.75,fill:false,closePath:false});drawLine(b,pos,e,pos,{strokeStyle:axis.borderColor})}t=null}t0=null}axis=null;ticks=null}ctx.restore();function drawLine(bx,by,ex,ey,opts){ctx.save();opts=opts||{};if(opts.lineWidth==null||opts.lineWidth!=0){$.extend(true,ctx,opts);ctx.beginPath();
ctx.moveTo(bx,by);ctx.lineTo(ex,ey);ctx.stroke();ctx.restore()}}if(this.shadow){var points=[[this._left,this._bottom],[this._right,this._bottom],[this._right,this._top]];this.renderer.shadowRenderer.draw(ctx,points)}if(this.borderWidth!=0&&this.drawBorder){drawLine(this._left,this._top,this._right,this._top,{lineCap:"round",strokeStyle:axes.x2axis.borderColor,lineWidth:axes.x2axis.borderWidth});drawLine(this._right,this._top,this._right,this._bottom,{lineCap:"round",strokeStyle:axes.y2axis.borderColor,
lineWidth:axes.y2axis.borderWidth});drawLine(this._right,this._bottom,this._left,this._bottom,{lineCap:"round",strokeStyle:axes.xaxis.borderColor,lineWidth:axes.xaxis.borderWidth});drawLine(this._left,this._bottom,this._left,this._top,{lineCap:"round",strokeStyle:axes.yaxis.borderColor,lineWidth:axes.yaxis.borderWidth})}ctx.restore();ctx=null;axes=null};$.jqplot.DivTitleRenderer=function(){};$.jqplot.DivTitleRenderer.prototype.init=function(options){$.extend(true,this,options)};$.jqplot.DivTitleRenderer.prototype.draw=
function(){if(this._elem){this._elem.emptyForce();this._elem=null}var r=this.renderer;var elem=document.createElement("div");this._elem=$(elem);this._elem.addClass("jqplot-title");if(!this.text){this.show=false;this._elem.height(0);this._elem.width(0)}else if(this.text){var color;if(this.color)color=this.color;else if(this.textColor)color=this.textColor;var styles={position:"absolute",top:"0px",left:"0px"};if(this._plotWidth)styles["width"]=this._plotWidth+"px";if(this.fontSize)styles["fontSize"]=
this.fontSize;if(typeof this.textAlign==="string")styles["textAlign"]=this.textAlign;else styles["textAlign"]="center";if(color)styles["color"]=color;if(this.paddingBottom)styles["paddingBottom"]=this.paddingBottom;if(this.fontFamily)styles["fontFamily"]=this.fontFamily;this._elem.css(styles);if(this.escapeHtml)this._elem.text(this.text);else this._elem.html(this.text)}elem=null;return this._elem};$.jqplot.DivTitleRenderer.prototype.pack=function(){};$.jqplot.LinearAxisRenderer=function(){};$.jqplot.LinearAxisRenderer.prototype.init=
function(options){this.breakPoints=null;this.breakTickLabel="&asymp;";this.drawBaseline=true;this.baselineWidth=null;this.baselineColor=null;this.forceTickAt0=false;this.forceTickAt100=false;this.tickInset=0;this.minorTicks=0;this.alignTicks=false;this._autoFormatString="";this._overrideFormatString=false;this._scalefact=1;$.extend(true,this,options);if(this.breakPoints)if(!$.isArray(this.breakPoints))this.breakPoints=null;else if(this.breakPoints.length<2||this.breakPoints[1]<=this.breakPoints[0])this.breakPoints=
null;if(this.numberTicks!=null&&this.numberTicks<2)this.numberTicks=2;this.resetDataBounds()};$.jqplot.LinearAxisRenderer.prototype.draw=function(ctx,plot){if(this.show){this.renderer.createTicks.call(this,plot);var dim=0;var temp;if(this._elem){this._elem.emptyForce();this._elem=null}this._elem=$(document.createElement("div"));this._elem.addClass("jqplot-axis jqplot-"+this.name);this._elem.css("position","absolute");if(this.name=="xaxis"||this.name=="x2axis")this._elem.width(this._plotDimensions.width);
else this._elem.height(this._plotDimensions.height);this.labelOptions.axis=this.name;this._label=new this.labelRenderer(this.labelOptions);if(this._label.show){var elem=this._label.draw(ctx,plot);elem.appendTo(this._elem);elem=null}var t=this._ticks;var tick;for(var i=0;i<t.length;i++){tick=t[i];if(tick.show&&tick.showLabel&&(!tick.isMinorTick||this.showMinorTicks))this._elem.append(tick.draw(ctx,plot))}tick=null;t=null}return this._elem};$.jqplot.LinearAxisRenderer.prototype.reset=function(){this.min=
this._options.min;this.max=this._options.max;this.tickInterval=this._options.tickInterval;this.numberTicks=this._options.numberTicks;this._autoFormatString="";if(this._overrideFormatString&&this.tickOptions&&this.tickOptions.formatString)this.tickOptions.formatString=""};$.jqplot.LinearAxisRenderer.prototype.set=function(){var dim=0;var temp;var w=0;var h=0;var lshow=this._label==null?false:this._label.show;if(this.show){var t=this._ticks;var tick;for(var i=0;i<t.length;i++){tick=t[i];if(!tick._breakTick&&
tick.show&&tick.showLabel&&(!tick.isMinorTick||this.showMinorTicks)){if(this.name=="xaxis"||this.name=="x2axis")temp=tick._elem.outerHeight(true);else temp=tick._elem.outerWidth(true);if(temp>dim)dim=temp}}tick=null;t=null;if(lshow){w=this._label._elem.outerWidth(true);h=this._label._elem.outerHeight(true)}if(this.name=="xaxis"){dim=dim+h;this._elem.css({"height":dim+"px",left:"0px",bottom:"0px"})}else if(this.name=="x2axis"){dim=dim+h;this._elem.css({"height":dim+"px",left:"0px",top:"0px"})}else if(this.name==
"yaxis"){dim=dim+w;this._elem.css({"width":dim+"px",left:"0px",top:"0px"});if(lshow&&this._label.constructor==$.jqplot.AxisLabelRenderer)this._label._elem.css("width",w+"px")}else{dim=dim+w;this._elem.css({"width":dim+"px",right:"0px",top:"0px"});if(lshow&&this._label.constructor==$.jqplot.AxisLabelRenderer)this._label._elem.css("width",w+"px")}}};$.jqplot.LinearAxisRenderer.prototype.createTicks=function(plot){var ticks=this._ticks;var userTicks=this.ticks;var name=this.name;var db=this._dataBounds;
var dim=this.name.charAt(0)==="x"?this._plotDimensions.width:this._plotDimensions.height;var interval;var min,max;var pos1,pos2;var tt,i;var userMin=this.min;var userMax=this.max;var userNT=this.numberTicks;var userTI=this.tickInterval;var threshold=30;this._scalefact=(Math.max(dim,threshold+1)-threshold)/300;if(userTicks.length){for(i=0;i<userTicks.length;i++){var ut=userTicks[i];var t=new this.tickRenderer(this.tickOptions);if($.isArray(ut)){t.value=ut[0];if(this.breakPoints)if(ut[0]==this.breakPoints[0]){t.label=
this.breakTickLabel;t._breakTick=true;t.showGridline=false;t.showMark=false}else if(ut[0]>this.breakPoints[0]&&ut[0]<=this.breakPoints[1]){t.show=false;t.showGridline=false;t.label=ut[1]}else t.label=ut[1];else t.label=ut[1];t.setTick(ut[0],this.name);this._ticks.push(t)}else if($.isPlainObject(ut)){$.extend(true,t,ut);t.axis=this.name;this._ticks.push(t)}else{t.value=ut;if(this.breakPoints)if(ut==this.breakPoints[0]){t.label=this.breakTickLabel;t._breakTick=true;t.showGridline=false;t.showMark=false}else if(ut>
this.breakPoints[0]&&ut<=this.breakPoints[1]){t.show=false;t.showGridline=false}t.setTick(ut,this.name);this._ticks.push(t)}}this.numberTicks=userTicks.length;this.min=this._ticks[0].value;this.max=this._ticks[this.numberTicks-1].value;this.tickInterval=(this.max-this.min)/(this.numberTicks-1)}else{if(name=="xaxis"||name=="x2axis")dim=this._plotDimensions.width;else dim=this._plotDimensions.height;var _numberTicks=this.numberTicks;if(this.alignTicks)if(this.name==="x2axis"&&plot.axes.xaxis.show)_numberTicks=
plot.axes.xaxis.numberTicks;else if(this.name.charAt(0)==="y"&&this.name!=="yaxis"&&this.name!=="yMidAxis"&&plot.axes.yaxis.show)_numberTicks=plot.axes.yaxis.numberTicks;min=this.min!=null?this.min:db.min;max=this.max!=null?this.max:db.max;var range=max-min;var rmin,rmax;var temp;if(this.tickOptions==null||!this.tickOptions.formatString)this._overrideFormatString=true;if((this.min==null||this.max==null)&&this.tickInterval==null&&!this.autoscale){if(this.forceTickAt0){if(min>0)min=0;if(max<0)max=0}if(this.forceTickAt100){if(min>
100)min=100;if(max<100)max=100}var keepMin=false,keepMax=false;if(this.min!=null)keepMin=true;else if(this.max!=null)keepMax=true;var ret=$.jqplot.LinearTickGenerator(min,max,this._scalefact,_numberTicks,keepMin,keepMax);var tumin=this.min!=null?min:min+range*(this.padMin-1);var tumax=this.max!=null?max:max-range*(this.padMax-1);if(min<tumin||max>tumax){tumin=this.min!=null?min:min-range*(this.padMin-1);tumax=this.max!=null?max:max+range*(this.padMax-1);ret=$.jqplot.LinearTickGenerator(tumin,tumax,
this._scalefact,_numberTicks,keepMin,keepMax)}this.min=ret[0];this.max=ret[1];this.numberTicks=ret[2];this._autoFormatString=ret[3];this.tickInterval=ret[4]}else{if(min==max){var adj=0.05;if(min>0)adj=Math.max(Math.log(min)/Math.LN10,0.05);min-=adj;max+=adj}if(this.autoscale&&this.min==null&&this.max==null){var rrange,ti,margin;var forceMinZero=false;var forceZeroLine=false;var intervals={min:null,max:null,average:null,stddev:null};for(var i=0;i<this._series.length;i++){var s=this._series[i];var faname=
s.fillAxis=="x"?s._xaxis.name:s._yaxis.name;if(this.name==faname){var vals=s._plotValues[s.fillAxis];var vmin=vals[0];var vmax=vals[0];for(var j=1;j<vals.length;j++)if(vals[j]<vmin)vmin=vals[j];else if(vals[j]>vmax)vmax=vals[j];var dp=(vmax-vmin)/vmax;if(s.renderer.constructor==$.jqplot.BarRenderer)if(vmin>=0&&(s.fillToZero||dp>0.1))forceMinZero=true;else{forceMinZero=false;if(s.fill&&s.fillToZero&&vmin<0&&vmax>0)forceZeroLine=true;else forceZeroLine=false}else if(s.fill)if(vmin>=0&&(s.fillToZero||
dp>0.1))forceMinZero=true;else if(vmin<0&&vmax>0&&s.fillToZero){forceMinZero=false;forceZeroLine=true}else{forceMinZero=false;forceZeroLine=false}else if(vmin<0)forceMinZero=false}}if(forceMinZero){this.numberTicks=2+Math.ceil((dim-(this.tickSpacing-1))/this.tickSpacing);this.min=0;userMin=0;ti=max/(this.numberTicks-1);temp=Math.pow(10,Math.abs(Math.floor(Math.log(ti)/Math.LN10)));if(ti/temp==parseInt(ti/temp,10))ti+=temp;this.tickInterval=Math.ceil(ti/temp)*temp;this.max=this.tickInterval*(this.numberTicks-
1)}else if(forceZeroLine){this.numberTicks=2+Math.ceil((dim-(this.tickSpacing-1))/this.tickSpacing);var ntmin=Math.ceil(Math.abs(min)/range*(this.numberTicks-1));var ntmax=this.numberTicks-1-ntmin;ti=Math.max(Math.abs(min/ntmin),Math.abs(max/ntmax));temp=Math.pow(10,Math.abs(Math.floor(Math.log(ti)/Math.LN10)));this.tickInterval=Math.ceil(ti/temp)*temp;this.max=this.tickInterval*ntmax;this.min=-this.tickInterval*ntmin}else{if(this.numberTicks==null)if(this.tickInterval)this.numberTicks=3+Math.ceil(range/
this.tickInterval);else this.numberTicks=2+Math.ceil((dim-(this.tickSpacing-1))/this.tickSpacing);if(this.tickInterval==null){ti=range/(this.numberTicks-1);if(ti<1)temp=Math.pow(10,Math.abs(Math.floor(Math.log(ti)/Math.LN10)));else temp=1;this.tickInterval=Math.ceil(ti*temp*this.pad)/temp}else temp=1/this.tickInterval;rrange=this.tickInterval*(this.numberTicks-1);margin=(rrange-range)/2;if(this.min==null)this.min=Math.floor(temp*(min-margin))/temp;if(this.max==null)this.max=this.min+rrange}var sf=
$.jqplot.getSignificantFigures(this.tickInterval);var fstr;if(sf.digitsLeft>=sf.significantDigits)fstr="%d";else{var temp=Math.max(0,5-sf.digitsLeft);temp=Math.min(temp,sf.digitsRight);fstr="%."+temp+"f"}this._autoFormatString=fstr}else{rmin=this.min!=null?this.min:min-range*(this.padMin-1);rmax=this.max!=null?this.max:max+range*(this.padMax-1);range=rmax-rmin;if(this.numberTicks==null)if(this.tickInterval!=null)this.numberTicks=Math.ceil((rmax-rmin)/this.tickInterval)+1;else if(dim>100)this.numberTicks=
parseInt(3+(dim-100)/75,10);else this.numberTicks=2;if(this.tickInterval==null)this.tickInterval=range/(this.numberTicks-1);if(this.max==null)rmax=rmin+this.tickInterval*(this.numberTicks-1);if(this.min==null)rmin=rmax-this.tickInterval*(this.numberTicks-1);var sf=$.jqplot.getSignificantFigures(this.tickInterval);var fstr;if(sf.digitsLeft>=sf.significantDigits)fstr="%d";else{var temp=Math.max(0,5-sf.digitsLeft);temp=Math.min(temp,sf.digitsRight);fstr="%."+temp+"f"}this._autoFormatString=fstr;this.min=
rmin;this.max=rmax}if(this.renderer.constructor==$.jqplot.LinearAxisRenderer&&this._autoFormatString==""){range=this.max-this.min;var temptick=new this.tickRenderer(this.tickOptions);var fs=temptick.formatString||$.jqplot.config.defaultTickFormatString;var fs=fs.match($.jqplot.sprintf.regex)[0];var precision=0;if(fs){if(fs.search(/[fFeEgGpP]/)>-1){var m=fs.match(/\%\.(\d{0,})?[eEfFgGpP]/);if(m)precision=parseInt(m[1],10);else precision=6}else if(fs.search(/[di]/)>-1)precision=0;var fact=Math.pow(10,
-precision);if(this.tickInterval<fact)if(userNT==null&&userTI==null){this.tickInterval=fact;if(userMax==null&&userMin==null){this.min=Math.floor(this._dataBounds.min/fact)*fact;if(this.min==this._dataBounds.min)this.min=this._dataBounds.min-this.tickInterval;this.max=Math.ceil(this._dataBounds.max/fact)*fact;if(this.max==this._dataBounds.max)this.max=this._dataBounds.max+this.tickInterval;var n=(this.max-this.min)/this.tickInterval;n=n.toFixed(11);n=Math.ceil(n);this.numberTicks=n+1}else if(userMax==
null){var n=(this._dataBounds.max-this.min)/this.tickInterval;n=n.toFixed(11);this.numberTicks=Math.ceil(n)+2;this.max=this.min+this.tickInterval*(this.numberTicks-1)}else if(userMin==null){var n=(this.max-this._dataBounds.min)/this.tickInterval;n=n.toFixed(11);this.numberTicks=Math.ceil(n)+2;this.min=this.max-this.tickInterval*(this.numberTicks-1)}else{this.numberTicks=Math.ceil((userMax-userMin)/this.tickInterval)+1;this.min=Math.floor(userMin*Math.pow(10,precision))/Math.pow(10,precision);this.max=
Math.ceil(userMax*Math.pow(10,precision))/Math.pow(10,precision);this.numberTicks=Math.ceil((this.max-this.min)/this.tickInterval)+1}}}}}if(this._overrideFormatString&&this._autoFormatString!=""){this.tickOptions=this.tickOptions||{};this.tickOptions.formatString=this._autoFormatString}var t,to;for(var i=0;i<this.numberTicks;i++){tt=this.min+i*this.tickInterval;t=new this.tickRenderer(this.tickOptions);t.setTick(tt,this.name);this._ticks.push(t);if(i<this.numberTicks-1)for(var j=0;j<this.minorTicks;j++){tt+=
this.tickInterval/(this.minorTicks+1);to=$.extend(true,{},this.tickOptions,{name:this.name,value:tt,label:"",isMinorTick:true});t=new this.tickRenderer(to);this._ticks.push(t)}t=null}}if(this.tickInset){this.min=this.min-this.tickInset*this.tickInterval;this.max=this.max+this.tickInset*this.tickInterval}ticks=null};$.jqplot.LinearAxisRenderer.prototype.resetTickValues=function(opts){if($.isArray(opts)&&opts.length==this._ticks.length){var t;for(var i=0;i<opts.length;i++){t=this._ticks[i];t.value=
opts[i];t.label=t.formatter(t.formatString,opts[i]);t.label=t.prefix+t.label;t._elem.html(t.label)}t=null;this.min=$.jqplot.arrayMin(opts);this.max=$.jqplot.arrayMax(opts);this.pack()}};$.jqplot.LinearAxisRenderer.prototype.pack=function(pos,offsets){pos=pos||{};offsets=offsets||this._offsets;var ticks=this._ticks;var max=this.max;var min=this.min;var offmax=offsets.max;var offmin=offsets.min;var lshow=this._label==null?false:this._label.show;for(var p in pos)this._elem.css(p,pos[p]);this._offsets=
offsets;var pixellength=offmax-offmin;var unitlength=max-min;if(this.breakPoints){unitlength=unitlength-this.breakPoints[1]+this.breakPoints[0];this.p2u=function(p){return(p-offmin)*unitlength/pixellength+min};this.u2p=function(u){if(u>this.breakPoints[0]&&u<this.breakPoints[1])u=this.breakPoints[0];if(u<=this.breakPoints[0])return(u-min)*pixellength/unitlength+offmin;else return(u-this.breakPoints[1]+this.breakPoints[0]-min)*pixellength/unitlength+offmin};if(this.name.charAt(0)=="x"){this.series_u2p=
function(u){if(u>this.breakPoints[0]&&u<this.breakPoints[1])u=this.breakPoints[0];if(u<=this.breakPoints[0])return(u-min)*pixellength/unitlength;else return(u-this.breakPoints[1]+this.breakPoints[0]-min)*pixellength/unitlength};this.series_p2u=function(p){return p*unitlength/pixellength+min}}else{this.series_u2p=function(u){if(u>this.breakPoints[0]&&u<this.breakPoints[1])u=this.breakPoints[0];if(u>=this.breakPoints[1])return(u-max)*pixellength/unitlength;else return(u+this.breakPoints[1]-this.breakPoints[0]-
max)*pixellength/unitlength};this.series_p2u=function(p){return p*unitlength/pixellength+max}}}else{this.p2u=function(p){return(p-offmin)*unitlength/pixellength+min};this.u2p=function(u){return(u-min)*pixellength/unitlength+offmin};if(this.name=="xaxis"||this.name=="x2axis"){this.series_u2p=function(u){return(u-min)*pixellength/unitlength};this.series_p2u=function(p){return p*unitlength/pixellength+min}}else{this.series_u2p=function(u){return(u-max)*pixellength/unitlength};this.series_p2u=function(p){return p*
unitlength/pixellength+max}}}if(this.show)if(this.name=="xaxis"||this.name=="x2axis"){for(var i=0;i<ticks.length;i++){var t=ticks[i];if(t.show&&t.showLabel){var shim;if(t.constructor==$.jqplot.CanvasAxisTickRenderer&&t.angle){var temp=this.name=="xaxis"?1:-1;switch(t.labelPosition){case "auto":if(temp*t.angle<0)shim=-t.getWidth()+t._textRenderer.height*Math.sin(-t._textRenderer.angle)/2;else shim=-t._textRenderer.height*Math.sin(t._textRenderer.angle)/2;break;case "end":shim=-t.getWidth()+t._textRenderer.height*
Math.sin(-t._textRenderer.angle)/2;break;case "start":shim=-t._textRenderer.height*Math.sin(t._textRenderer.angle)/2;break;case "middle":shim=-t.getWidth()/2+t._textRenderer.height*Math.sin(-t._textRenderer.angle)/2;break;default:shim=-t.getWidth()/2+t._textRenderer.height*Math.sin(-t._textRenderer.angle)/2;break}}else shim=-t.getWidth()/2;var val=this.u2p(t.value)+shim+"px";t._elem.css("left",val);t.pack()}}if(lshow){var w=this._label._elem.outerWidth(true);this._label._elem.css("left",offmin+pixellength/
2-w/2+"px");if(this.name=="xaxis")this._label._elem.css("bottom","0px");else this._label._elem.css("top","0px");this._label.pack()}}else{for(var i=0;i<ticks.length;i++){var t=ticks[i];if(t.show&&t.showLabel){var shim;if(t.constructor==$.jqplot.CanvasAxisTickRenderer&&t.angle){var temp=this.name=="yaxis"?1:-1;switch(t.labelPosition){case "auto":case "end":if(temp*t.angle<0)shim=-t._textRenderer.height*Math.cos(-t._textRenderer.angle)/2;else shim=-t.getHeight()+t._textRenderer.height*Math.cos(t._textRenderer.angle)/
2;break;case "start":if(t.angle>0)shim=-t._textRenderer.height*Math.cos(-t._textRenderer.angle)/2;else shim=-t.getHeight()+t._textRenderer.height*Math.cos(t._textRenderer.angle)/2;break;case "middle":shim=-t.getHeight()/2;break;default:shim=-t.getHeight()/2;break}}else shim=-t.getHeight()/2;var val=this.u2p(t.value)+shim+"px";t._elem.css("top",val);t.pack()}}if(lshow){var h=this._label._elem.outerHeight(true);this._label._elem.css("top",offmax-pixellength/2-h/2+"px");if(this.name=="yaxis")this._label._elem.css("left",
"0px");else this._label._elem.css("right","0px");this._label.pack()}}ticks=null};function bestFormatString(interval){var fstr;interval=Math.abs(interval);if(interval>=10)fstr="%d";else if(interval>1)if(interval===parseInt(interval,10))fstr="%d";else fstr="%.1f";else{var expv=-Math.floor(Math.log(interval)/Math.LN10);fstr="%."+expv+"f"}return fstr}var _factors=[0.1,0.2,0.3,0.4,0.5,0.8,1,2,3,4,5];var _getLowerFactor=function(f){var i=_factors.indexOf(f);if(i>0)return _factors[i-1];else return _factors[_factors.length-
1]/100};var _getHigherFactor=function(f){var i=_factors.indexOf(f);if(i<_factors.length-1)return _factors[i+1];else return _factors[0]*100};function bestConstrainedInterval(min,max,nttarget){var low=Math.floor(nttarget/2);var hi=Math.ceil(nttarget*1.5);var badness=Number.MAX_VALUE;var r=max-min;var temp;var sd;var bestNT;var gsf=$.jqplot.getSignificantFigures;var fsd;var fs;var currentNT;var bestPrec;for(var i=0,l=hi-low+1;i<l;i++){currentNT=low+i;temp=r/(currentNT-1);sd=gsf(temp);temp=Math.abs(nttarget-
currentNT)+sd.digitsRight;if(temp<badness){badness=temp;bestNT=currentNT;bestPrec=sd.digitsRight}else if(temp===badness)if(sd.digitsRight<bestPrec){bestNT=currentNT;bestPrec=sd.digitsRight}}fsd=Math.max(bestPrec,Math.max(gsf(min).digitsRight,gsf(max).digitsRight));if(fsd===0)fs="%d";else fs="%."+fsd+"f";temp=r/(bestNT-1);return[min,max,bestNT,fs,temp]}function bestInterval(range,numberTicks){numberTicks=numberTicks||7;var minimum=range/(numberTicks-1);var magnitude=Math.pow(10,Math.floor(Math.log(minimum)/
Math.LN10));var residual=minimum/magnitude;var interval;if(magnitude<1)if(residual>5)interval=10*magnitude;else if(residual>2)interval=5*magnitude;else if(residual>1)interval=2*magnitude;else interval=magnitude;else if(residual>5)interval=10*magnitude;else if(residual>4)interval=5*magnitude;else if(residual>3)interval=4*magnitude;else if(residual>2)interval=3*magnitude;else if(residual>1)interval=2*magnitude;else interval=magnitude;return interval}function bestLinearInterval(range,scalefact){scalefact=
scalefact||1;var expv=Math.floor(Math.log(range)/Math.LN10);var magnitude=Math.pow(10,expv);var f=range/magnitude;var fact;f=f/scalefact;if(f<=0.38)fact=0.1;else if(f<=1.6)fact=0.2;else if(f<=4)fact=0.5;else if(f<=8)fact=1;else if(f<=16)fact=2;else fact=5;return fact*magnitude}function bestLinearComponents(range,scalefact){var expv=Math.floor(Math.log(range)/Math.LN10);var magnitude=Math.pow(10,expv);var f=range/magnitude;var interval;var fact;f=f/scalefact;if(f<=0.38)fact=0.1;else if(f<=1.6)fact=
0.2;else if(f<=4)fact=0.5;else if(f<=8)fact=1;else if(f<=16)fact=2;else fact=5;interval=fact*magnitude;return[interval,fact,magnitude]}$.jqplot.LinearTickGenerator=function(axis_min,axis_max,scalefact,numberTicks,keepMin,keepMax){keepMin=keepMin===null?false:keepMin;keepMax=keepMax===null||keepMin?false:keepMax;if(axis_min===axis_max)axis_max=axis_max?0:1;scalefact=scalefact||1;if(axis_max<axis_min){var a=axis_max;axis_max=axis_min;axis_min=a}var r=[];var ss=bestLinearInterval(axis_max-axis_min,scalefact);
var gsf=$.jqplot.getSignificantFigures;if(numberTicks==null)if(!keepMin&&!keepMax){r[0]=Math.floor(axis_min/ss)*ss;r[1]=Math.ceil(axis_max/ss)*ss;r[2]=Math.round((r[1]-r[0])/ss+1);r[3]=bestFormatString(ss);r[4]=ss}else if(keepMin){r[0]=axis_min;r[2]=Math.ceil((axis_max-axis_min)/ss+1);r[1]=axis_min+(r[2]-1)*ss;var digitsMin=gsf(axis_min).digitsRight;var digitsSS=gsf(ss).digitsRight;if(digitsMin<digitsSS)r[3]=bestFormatString(ss);else r[3]="%."+digitsMin+"f";r[4]=ss}else{if(keepMax){r[1]=axis_max;
r[2]=Math.ceil((axis_max-axis_min)/ss+1);r[0]=axis_max-(r[2]-1)*ss;var digitsMax=gsf(axis_max).digitsRight;var digitsSS=gsf(ss).digitsRight;if(digitsMax<digitsSS)r[3]=bestFormatString(ss);else r[3]="%."+digitsMax+"f";r[4]=ss}}else{var tempr=[];tempr[0]=Math.floor(axis_min/ss)*ss;tempr[1]=Math.ceil(axis_max/ss)*ss;tempr[2]=Math.round((tempr[1]-tempr[0])/ss+1);tempr[3]=bestFormatString(ss);tempr[4]=ss;if(tempr[2]===numberTicks)r=tempr;else{var newti=bestInterval(tempr[1]-tempr[0],numberTicks);r[0]=
tempr[0];r[2]=numberTicks;r[4]=newti;r[3]=bestFormatString(newti);r[1]=r[0]+(r[2]-1)*r[4]}}return r};$.jqplot.LinearTickGenerator.bestLinearInterval=bestLinearInterval;$.jqplot.LinearTickGenerator.bestInterval=bestInterval;$.jqplot.LinearTickGenerator.bestLinearComponents=bestLinearComponents;$.jqplot.LinearTickGenerator.bestConstrainedInterval=bestConstrainedInterval;var dotlen=0.1;$.jqplot.LinePattern=function(ctx,pattern){var defaultLinePatterns={dotted:[dotlen,$.jqplot.config.dotGapLength],dashed:[$.jqplot.config.dashLength,
$.jqplot.config.gapLength],solid:null};if(typeof pattern==="string")if(pattern[0]==="."||pattern[0]==="-"){var s=pattern;pattern=[];for(var i=0,imax=s.length;i<imax;i++){if(s[i]===".")pattern.push(dotlen);else if(s[i]==="-")pattern.push($.jqplot.config.dashLength);else continue;pattern.push($.jqplot.config.gapLength)}}else pattern=defaultLinePatterns[pattern];if(!(pattern&&pattern.length))return ctx;var patternIndex=0;var patternDistance=pattern[0];var px=0;var py=0;var pathx0=0;var pathy0=0;var moveTo=
function(x,y){ctx.moveTo(x,y);px=x;py=y;pathx0=x;pathy0=y};var lineTo=function(x,y){var scale=ctx.lineWidth;var dx=x-px;var dy=y-py;var dist=Math.sqrt(dx*dx+dy*dy);if(dist>0&&scale>0){dx/=dist;dy/=dist;while(true){var dp=scale*patternDistance;if(dp<dist){px+=dp*dx;py+=dp*dy;if((patternIndex&1)==0)ctx.lineTo(px,py);else ctx.moveTo(px,py);dist-=dp;patternIndex++;if(patternIndex>=pattern.length)patternIndex=0;patternDistance=pattern[patternIndex]}else{px=x;py=y;if((patternIndex&1)==0)ctx.lineTo(px,py);
else ctx.moveTo(px,py);patternDistance-=dist/scale;break}}}};var beginPath=function(){ctx.beginPath()};var closePath=function(){lineTo(pathx0,pathy0)};return{moveTo:moveTo,lineTo:lineTo,beginPath:beginPath,closePath:closePath}};$.jqplot.LineRenderer=function(){this.shapeRenderer=new $.jqplot.ShapeRenderer;this.shadowRenderer=new $.jqplot.ShadowRenderer};$.jqplot.LineRenderer.prototype.init=function(options,plot){options=options||{};this._type="line";this.renderer.animation={show:false,direction:"left",
speed:2500,_supported:true};this.renderer.smooth=false;this.renderer.tension=null;this.renderer.constrainSmoothing=true;this.renderer._smoothedData=[];this.renderer._smoothedPlotData=[];this.renderer._hiBandGridData=[];this.renderer._lowBandGridData=[];this.renderer._hiBandSmoothedData=[];this.renderer._lowBandSmoothedData=[];this.renderer.bandData=[];this.renderer.bands={show:false,hiData:[],lowData:[],color:this.color,showLines:false,fill:true,fillColor:null,_min:null,_max:null,interval:"3%"};var lopts=
{highlightMouseOver:options.highlightMouseOver,highlightMouseDown:options.highlightMouseDown,highlightColor:options.highlightColor};delete options.highlightMouseOver;delete options.highlightMouseDown;delete options.highlightColor;$.extend(true,this.renderer,options);this.renderer.options=options;if(this.renderer.bandData.length>1&&(!options.bands||options.bands.show==null))this.renderer.bands.show=true;else if(options.bands&&options.bands.show==null&&options.bands.interval!=null)this.renderer.bands.show=
true;if(this.fill)this.renderer.bands.show=false;if(this.renderer.bands.show)this.renderer.initBands.call(this,this.renderer.options,plot);if(this._stack)this.renderer.smooth=false;var opts={lineJoin:this.lineJoin,lineCap:this.lineCap,fill:this.fill,isarc:false,strokeStyle:this.color,fillStyle:this.fillColor,lineWidth:this.lineWidth,linePattern:this.linePattern,closePath:this.fill};this.renderer.shapeRenderer.init(opts);var shadow_offset=options.shadowOffset;if(shadow_offset==null)if(this.lineWidth>
2.5)shadow_offset=1.25*(1+(Math.atan(this.lineWidth/2.5)/0.785398163-1)*0.6);else shadow_offset=1.25*Math.atan(this.lineWidth/2.5)/0.785398163;var sopts={lineJoin:this.lineJoin,lineCap:this.lineCap,fill:this.fill,isarc:false,angle:this.shadowAngle,offset:shadow_offset,alpha:this.shadowAlpha,depth:this.shadowDepth,lineWidth:this.lineWidth,linePattern:this.linePattern,closePath:this.fill};this.renderer.shadowRenderer.init(sopts);this._areaPoints=[];this._boundingBox=[[],[]];if(!this.isTrendline&&this.fill||
this.renderer.bands.show){this.highlightMouseOver=true;this.highlightMouseDown=false;this.highlightColor=null;if(lopts.highlightMouseDown&&lopts.highlightMouseOver==null)lopts.highlightMouseOver=false;$.extend(true,this,{highlightMouseOver:lopts.highlightMouseOver,highlightMouseDown:lopts.highlightMouseDown,highlightColor:lopts.highlightColor});if(!this.highlightColor){var fc=this.renderer.bands.show?this.renderer.bands.fillColor:this.fillColor;this.highlightColor=$.jqplot.computeHighlightColors(fc)}if(this.highlighter)this.highlighter.show=
false}if(!this.isTrendline&&plot){plot.plugins.lineRenderer={};plot.postInitHooks.addOnce(postInit);plot.postDrawHooks.addOnce(postPlotDraw);plot.eventListenerHooks.addOnce("jqplotMouseMove",handleMove);plot.eventListenerHooks.addOnce("jqplotMouseDown",handleMouseDown);plot.eventListenerHooks.addOnce("jqplotMouseUp",handleMouseUp);plot.eventListenerHooks.addOnce("jqplotClick",handleClick);plot.eventListenerHooks.addOnce("jqplotRightClick",handleRightClick)}};$.jqplot.LineRenderer.prototype.initBands=
function(options,plot){var bd=options.bandData||[];var bands=this.renderer.bands;bands.hiData=[];bands.lowData=[];var data=this.data;bands._max=null;bands._min=null;if(bd.length==2)if($.isArray(bd[0][0])){var p;var bdminidx=0,bdmaxidx=0;for(var i=0,l=bd[0].length;i<l;i++){p=bd[0][i];if(p[1]!=null&&p[1]>bands._max||bands._max==null)bands._max=p[1];if(p[1]!=null&&p[1]<bands._min||bands._min==null)bands._min=p[1]}for(var i=0,l=bd[1].length;i<l;i++){p=bd[1][i];if(p[1]!=null&&p[1]>bands._max||bands._max==
null){bands._max=p[1];bdmaxidx=1}if(p[1]!=null&&p[1]<bands._min||bands._min==null){bands._min=p[1];bdminidx=1}}if(bdmaxidx===bdminidx)bands.show=false;bands.hiData=bd[bdmaxidx];bands.lowData=bd[bdminidx]}else if(bd[0].length===data.length&&bd[1].length===data.length){var hi=bd[0][0]>bd[1][0]?0:1;var low=hi?0:1;for(var i=0,l=data.length;i<l;i++){bands.hiData.push([data[i][0],bd[hi][i]]);bands.lowData.push([data[i][0],bd[low][i]])}}else bands.show=false;else if(bd.length>2&&!$.isArray(bd[0][0])){var hi=
bd[0][0]>bd[0][1]?0:1;var low=hi?0:1;for(var i=0,l=bd.length;i<l;i++){bands.hiData.push([data[i][0],bd[i][hi]]);bands.lowData.push([data[i][0],bd[i][low]])}}else{var intrv=bands.interval;var a=null;var b=null;var afunc=null;var bfunc=null;if($.isArray(intrv)){a=intrv[0];b=intrv[1]}else a=intrv;if(isNaN(a)){if(a.charAt(a.length-1)==="%"){afunc="multiply";a=parseFloat(a)/100+1}}else{a=parseFloat(a);afunc="add"}if(b!==null&&isNaN(b)){if(b.charAt(b.length-1)==="%"){bfunc="multiply";b=parseFloat(b)/100+
1}}else if(b!==null){b=parseFloat(b);bfunc="add"}if(a!==null){if(b===null){b=-a;bfunc=afunc;if(bfunc==="multiply")b+=2}if(a<b){var temp=a;a=b;b=temp;temp=afunc;afunc=bfunc;bfunc=temp}for(var i=0,l=data.length;i<l;i++){switch(afunc){case "add":bands.hiData.push([data[i][0],data[i][1]+a]);break;case "multiply":bands.hiData.push([data[i][0],data[i][1]*a]);break}switch(bfunc){case "add":bands.lowData.push([data[i][0],data[i][1]+b]);break;case "multiply":bands.lowData.push([data[i][0],data[i][1]*b]);break}}}else bands.show=
false}var hd=bands.hiData;var ld=bands.lowData;for(var i=0,l=hd.length;i<l;i++)if(hd[i][1]!=null&&hd[i][1]>bands._max||bands._max==null)bands._max=hd[i][1];for(var i=0,l=ld.length;i<l;i++)if(ld[i][1]!=null&&ld[i][1]<bands._min||bands._min==null)bands._min=ld[i][1];if(bands.fillColor===null){var c=$.jqplot.getColorComponents(bands.color);c[3]=c[3]*0.5;bands.fillColor="rgba("+c[0]+", "+c[1]+", "+c[2]+", "+c[3]+")"}};function getSteps(d,f){return(3.4182054+f)*Math.pow(d,-0.3534992)}function computeSteps(d1,
d2){var s=Math.sqrt(Math.pow(d2[0]-d1[0],2)+Math.pow(d2[1]-d1[1],2));return 5.7648*Math.log(s)+7.4456}function tanh(x){var a=(Math.exp(2*x)-1)/(Math.exp(2*x)+1);return a}function computeConstrainedSmoothedData(gd){var smooth=this.renderer.smooth;var dim=this.canvas.getWidth();var xp=this._xaxis.series_p2u;var yp=this._yaxis.series_p2u;var steps=null;var _steps=null;var dist=gd.length/dim;var _smoothedData=[];var _smoothedPlotData=[];if(!isNaN(parseFloat(smooth)))steps=parseFloat(smooth);else steps=
getSteps(dist,0.5);var yy=[];var xx=[];for(var i=0,l=gd.length;i<l;i++){yy.push(gd[i][1]);xx.push(gd[i][0])}function dxx(x1,x0){if(x1-x0==0)return Math.pow(10,10);else return x1-x0}var A,B,C,D;var nmax=gd.length-1;for(var num=1,gdl=gd.length;num<gdl;num++){var gxx=[];var ggxx=[];for(var j=0;j<2;j++){var i=num-1+j;if(i==0||i==nmax)gxx[j]=Math.pow(10,10);else if(yy[i+1]-yy[i]==0||yy[i]-yy[i-1]==0)gxx[j]=0;else if((xx[i+1]-xx[i])/(yy[i+1]-yy[i])+(xx[i]-xx[i-1])/(yy[i]-yy[i-1])==0)gxx[j]=0;else if((yy[i+
1]-yy[i])*(yy[i]-yy[i-1])<0)gxx[j]=0;else gxx[j]=2/(dxx(xx[i+1],xx[i])/(yy[i+1]-yy[i])+dxx(xx[i],xx[i-1])/(yy[i]-yy[i-1]))}if(num==1)gxx[0]=3/2*(yy[1]-yy[0])/dxx(xx[1],xx[0])-gxx[1]/2;else if(num==nmax)gxx[1]=3/2*(yy[nmax]-yy[nmax-1])/dxx(xx[nmax],xx[nmax-1])-gxx[0]/2;ggxx[0]=-2*(gxx[1]+2*gxx[0])/dxx(xx[num],xx[num-1])+6*(yy[num]-yy[num-1])/Math.pow(dxx(xx[num],xx[num-1]),2);ggxx[1]=2*(2*gxx[1]+gxx[0])/dxx(xx[num],xx[num-1])-6*(yy[num]-yy[num-1])/Math.pow(dxx(xx[num],xx[num-1]),2);D=1/6*(ggxx[1]-
ggxx[0])/dxx(xx[num],xx[num-1]);C=1/2*(xx[num]*ggxx[0]-xx[num-1]*ggxx[1])/dxx(xx[num],xx[num-1]);B=(yy[num]-yy[num-1]-C*(Math.pow(xx[num],2)-Math.pow(xx[num-1],2))-D*(Math.pow(xx[num],3)-Math.pow(xx[num-1],3)))/dxx(xx[num],xx[num-1]);A=yy[num-1]-B*xx[num-1]-C*Math.pow(xx[num-1],2)-D*Math.pow(xx[num-1],3);var increment=(xx[num]-xx[num-1])/steps;var temp,tempx;for(var j=0,l=steps;j<l;j++){temp=[];tempx=xx[num-1]+j*increment;temp.push(tempx);temp.push(A+B*tempx+C*Math.pow(tempx,2)+D*Math.pow(tempx,3));
_smoothedData.push(temp);_smoothedPlotData.push([xp(temp[0]),yp(temp[1])])}}_smoothedData.push(gd[i]);_smoothedPlotData.push([xp(gd[i][0]),yp(gd[i][1])]);return[_smoothedData,_smoothedPlotData]}function computeHermiteSmoothedData(gd){var smooth=this.renderer.smooth;var tension=this.renderer.tension;var dim=this.canvas.getWidth();var xp=this._xaxis.series_p2u;var yp=this._yaxis.series_p2u;var steps=null;var _steps=null;var a=null;var a1=null;var a2=null;var slope=null;var slope2=null;var temp=null;
var t,s,h1,h2,h3,h4;var TiX,TiY,Ti1X,Ti1Y;var pX,pY,p;var sd=[];var spd=[];var dist=gd.length/dim;var min,max,stretch,scale,shift;var _smoothedData=[];var _smoothedPlotData=[];if(!isNaN(parseFloat(smooth)))steps=parseFloat(smooth);else steps=getSteps(dist,0.5);if(!isNaN(parseFloat(tension)))tension=parseFloat(tension);for(var i=0,l=gd.length-1;i<l;i++){if(tension===null){slope=Math.abs((gd[i+1][1]-gd[i][1])/(gd[i+1][0]-gd[i][0]));min=0.3;max=0.6;stretch=(max-min)/2;scale=2.5;shift=-1.4;temp=slope/
scale+shift;a1=stretch*tanh(temp)-stretch*tanh(shift)+min;if(i>0)slope2=Math.abs((gd[i][1]-gd[i-1][1])/(gd[i][0]-gd[i-1][0]));temp=slope2/scale+shift;a2=stretch*tanh(temp)-stretch*tanh(shift)+min;a=(a1+a2)/2}else a=tension;for(t=0;t<steps;t++){s=t/steps;h1=(1+2*s)*Math.pow(1-s,2);h2=s*Math.pow(1-s,2);h3=Math.pow(s,2)*(3-2*s);h4=Math.pow(s,2)*(s-1);if(gd[i-1]){TiX=a*(gd[i+1][0]-gd[i-1][0]);TiY=a*(gd[i+1][1]-gd[i-1][1])}else{TiX=a*(gd[i+1][0]-gd[i][0]);TiY=a*(gd[i+1][1]-gd[i][1])}if(gd[i+2]){Ti1X=a*
(gd[i+2][0]-gd[i][0]);Ti1Y=a*(gd[i+2][1]-gd[i][1])}else{Ti1X=a*(gd[i+1][0]-gd[i][0]);Ti1Y=a*(gd[i+1][1]-gd[i][1])}pX=h1*gd[i][0]+h3*gd[i+1][0]+h2*TiX+h4*Ti1X;pY=h1*gd[i][1]+h3*gd[i+1][1]+h2*TiY+h4*Ti1Y;p=[pX,pY];_smoothedData.push(p);_smoothedPlotData.push([xp(pX),yp(pY)])}}_smoothedData.push(gd[l]);_smoothedPlotData.push([xp(gd[l][0]),yp(gd[l][1])]);return[_smoothedData,_smoothedPlotData]}$.jqplot.LineRenderer.prototype.setGridData=function(plot){var xp=this._xaxis.series_u2p;var yp=this._yaxis.series_u2p;
var data=this._plotData;var pdata=this._prevPlotData;this.gridData=[];this._prevGridData=[];this.renderer._smoothedData=[];this.renderer._smoothedPlotData=[];this.renderer._hiBandGridData=[];this.renderer._lowBandGridData=[];this.renderer._hiBandSmoothedData=[];this.renderer._lowBandSmoothedData=[];var bands=this.renderer.bands;var hasNull=false;for(var i=0,l=data.length;i<l;i++){if(data[i][0]!=null&&data[i][1]!=null)this.gridData.push([xp.call(this._xaxis,data[i][0]),yp.call(this._yaxis,data[i][1])]);
else if(data[i][0]==null){hasNull=true;this.gridData.push([null,yp.call(this._yaxis,data[i][1])])}else if(data[i][1]==null){hasNull=true;this.gridData.push([xp.call(this._xaxis,data[i][0]),null])}if(pdata[i]!=null&&pdata[i][0]!=null&&pdata[i][1]!=null)this._prevGridData.push([xp.call(this._xaxis,pdata[i][0]),yp.call(this._yaxis,pdata[i][1])]);else if(pdata[i]!=null&&pdata[i][0]==null)this._prevGridData.push([null,yp.call(this._yaxis,pdata[i][1])]);else if(pdata[i]!=null&&pdata[i][0]!=null&&pdata[i][1]==
null)this._prevGridData.push([xp.call(this._xaxis,pdata[i][0]),null])}if(hasNull){this.renderer.smooth=false;if(this._type==="line")bands.show=false}if(this._type==="line"&&bands.show){for(var i=0,l=bands.hiData.length;i<l;i++)this.renderer._hiBandGridData.push([xp.call(this._xaxis,bands.hiData[i][0]),yp.call(this._yaxis,bands.hiData[i][1])]);for(var i=0,l=bands.lowData.length;i<l;i++)this.renderer._lowBandGridData.push([xp.call(this._xaxis,bands.lowData[i][0]),yp.call(this._yaxis,bands.lowData[i][1])])}if(this._type===
"line"&&this.renderer.smooth&&this.gridData.length>2){var ret;if(this.renderer.constrainSmoothing){ret=computeConstrainedSmoothedData.call(this,this.gridData);this.renderer._smoothedData=ret[0];this.renderer._smoothedPlotData=ret[1];if(bands.show){ret=computeConstrainedSmoothedData.call(this,this.renderer._hiBandGridData);this.renderer._hiBandSmoothedData=ret[0];ret=computeConstrainedSmoothedData.call(this,this.renderer._lowBandGridData);this.renderer._lowBandSmoothedData=ret[0]}ret=null}else{ret=
computeHermiteSmoothedData.call(this,this.gridData);this.renderer._smoothedData=ret[0];this.renderer._smoothedPlotData=ret[1];if(bands.show){ret=computeHermiteSmoothedData.call(this,this.renderer._hiBandGridData);this.renderer._hiBandSmoothedData=ret[0];ret=computeHermiteSmoothedData.call(this,this.renderer._lowBandGridData);this.renderer._lowBandSmoothedData=ret[0]}ret=null}}};$.jqplot.LineRenderer.prototype.makeGridData=function(data,plot){var xp=this._xaxis.series_u2p;var yp=this._yaxis.series_u2p;
var gd=[];var pgd=[];this.renderer._smoothedData=[];this.renderer._smoothedPlotData=[];this.renderer._hiBandGridData=[];this.renderer._lowBandGridData=[];this.renderer._hiBandSmoothedData=[];this.renderer._lowBandSmoothedData=[];var bands=this.renderer.bands;var hasNull=false;for(var i=0;i<data.length;i++)if(data[i][0]!=null&&data[i][1]!=null)gd.push([xp.call(this._xaxis,data[i][0]),yp.call(this._yaxis,data[i][1])]);else if(data[i][0]==null){hasNull=true;gd.push([null,yp.call(this._yaxis,data[i][1])])}else if(data[i][1]==
null){hasNull=true;gd.push([xp.call(this._xaxis,data[i][0]),null])}if(hasNull){this.renderer.smooth=false;if(this._type==="line")bands.show=false}if(this._type==="line"&&bands.show){for(var i=0,l=bands.hiData.length;i<l;i++)this.renderer._hiBandGridData.push([xp.call(this._xaxis,bands.hiData[i][0]),yp.call(this._yaxis,bands.hiData[i][1])]);for(var i=0,l=bands.lowData.length;i<l;i++)this.renderer._lowBandGridData.push([xp.call(this._xaxis,bands.lowData[i][0]),yp.call(this._yaxis,bands.lowData[i][1])])}if(this._type===
"line"&&this.renderer.smooth&&gd.length>2){var ret;if(this.renderer.constrainSmoothing){ret=computeConstrainedSmoothedData.call(this,gd);this.renderer._smoothedData=ret[0];this.renderer._smoothedPlotData=ret[1];if(bands.show){ret=computeConstrainedSmoothedData.call(this,this.renderer._hiBandGridData);this.renderer._hiBandSmoothedData=ret[0];ret=computeConstrainedSmoothedData.call(this,this.renderer._lowBandGridData);this.renderer._lowBandSmoothedData=ret[0]}ret=null}else{ret=computeHermiteSmoothedData.call(this,
gd);this.renderer._smoothedData=ret[0];this.renderer._smoothedPlotData=ret[1];if(bands.show){ret=computeHermiteSmoothedData.call(this,this.renderer._hiBandGridData);this.renderer._hiBandSmoothedData=ret[0];ret=computeHermiteSmoothedData.call(this,this.renderer._lowBandGridData);this.renderer._lowBandSmoothedData=ret[0]}ret=null}}return gd};$.jqplot.LineRenderer.prototype.draw=function(ctx,gd,options,plot){var i;var opts=$.extend(true,{},options);var shadow=opts.shadow!=undefined?opts.shadow:this.shadow;
var showLine=opts.showLine!=undefined?opts.showLine:this.showLine;var fill=opts.fill!=undefined?opts.fill:this.fill;var fillAndStroke=opts.fillAndStroke!=undefined?opts.fillAndStroke:this.fillAndStroke;var xmin,ymin,xmax,ymax;ctx.save();if(gd.length){if(showLine)if(fill){if(this.fillToZero){var negativeColor=this.negativeColor;if(!this.useNegativeColors)negativeColor=opts.fillStyle;var isnegative=false;var posfs=opts.fillStyle;if(fillAndStroke)var fasgd=gd.slice(0);if(this.index==0||!this._stack){var tempgd=
[];var pd=this.renderer.smooth?this.renderer._smoothedPlotData:this._plotData;this._areaPoints=[];var pyzero=this._yaxis.series_u2p(this.fillToValue);var pxzero=this._xaxis.series_u2p(this.fillToValue);opts.closePath=true;if(this.fillAxis=="y"){tempgd.push([gd[0][0],pyzero]);this._areaPoints.push([gd[0][0],pyzero]);for(var i=0;i<gd.length-1;i++){tempgd.push(gd[i]);this._areaPoints.push(gd[i]);if(pd[i][1]*pd[i+1][1]<0){if(pd[i][1]<0){isnegative=true;opts.fillStyle=negativeColor}else{isnegative=false;
opts.fillStyle=posfs}var xintercept=gd[i][0]+(gd[i+1][0]-gd[i][0])*(pyzero-gd[i][1])/(gd[i+1][1]-gd[i][1]);tempgd.push([xintercept,pyzero]);this._areaPoints.push([xintercept,pyzero]);if(shadow)this.renderer.shadowRenderer.draw(ctx,tempgd,opts);this.renderer.shapeRenderer.draw(ctx,tempgd,opts);tempgd=[[xintercept,pyzero]]}}if(pd[gd.length-1][1]<0){isnegative=true;opts.fillStyle=negativeColor}else{isnegative=false;opts.fillStyle=posfs}tempgd.push(gd[gd.length-1]);this._areaPoints.push(gd[gd.length-
1]);tempgd.push([gd[gd.length-1][0],pyzero]);this._areaPoints.push([gd[gd.length-1][0],pyzero])}if(shadow)this.renderer.shadowRenderer.draw(ctx,tempgd,opts);this.renderer.shapeRenderer.draw(ctx,tempgd,opts)}else{var prev=this._prevGridData;for(var i=prev.length;i>0;i--)gd.push(prev[i-1]);if(shadow)this.renderer.shadowRenderer.draw(ctx,gd,opts);this._areaPoints=gd;this.renderer.shapeRenderer.draw(ctx,gd,opts)}}else{if(fillAndStroke)var fasgd=gd.slice(0);if(this.index==0||!this._stack){var gridymin=
ctx.canvas.height;gd.unshift([gd[0][0],gridymin]);var len=gd.length;gd.push([gd[len-1][0],gridymin])}else{var prev=this._prevGridData;for(var i=prev.length;i>0;i--)gd.push(prev[i-1])}this._areaPoints=gd;if(shadow)this.renderer.shadowRenderer.draw(ctx,gd,opts);this.renderer.shapeRenderer.draw(ctx,gd,opts)}if(fillAndStroke){var fasopts=$.extend(true,{},opts,{fill:false,closePath:false});this.renderer.shapeRenderer.draw(ctx,fasgd,fasopts);if(this.markerRenderer.show){if(this.renderer.smooth)fasgd=this.gridData;
for(i=0;i<fasgd.length;i++)this.markerRenderer.draw(fasgd[i][0],fasgd[i][1],ctx,opts.markerOptions)}}}else{if(this.renderer.bands.show){var bdat;var bopts=$.extend(true,{},opts);if(this.renderer.bands.showLines){bdat=this.renderer.smooth?this.renderer._hiBandSmoothedData:this.renderer._hiBandGridData;this.renderer.shapeRenderer.draw(ctx,bdat,opts);bdat=this.renderer.smooth?this.renderer._lowBandSmoothedData:this.renderer._lowBandGridData;this.renderer.shapeRenderer.draw(ctx,bdat,bopts)}if(this.renderer.bands.fill){if(this.renderer.smooth)bdat=
this.renderer._hiBandSmoothedData.concat(this.renderer._lowBandSmoothedData.reverse());else bdat=this.renderer._hiBandGridData.concat(this.renderer._lowBandGridData.reverse());this._areaPoints=bdat;bopts.closePath=true;bopts.fill=true;bopts.fillStyle=this.renderer.bands.fillColor;this.renderer.shapeRenderer.draw(ctx,bdat,bopts)}}if(shadow)this.renderer.shadowRenderer.draw(ctx,gd,opts);this.renderer.draw_next(ctx,0,gd,opts,plot,this);return}var xmin=xmax=ymin=ymax=null;for(i=0;i<this._areaPoints.length;i++){var p=
this._areaPoints[i];if(xmin>p[0]||xmin==null)xmin=p[0];if(ymax<p[1]||ymax==null)ymax=p[1];if(xmax<p[0]||xmax==null)xmax=p[0];if(ymin>p[1]||ymin==null)ymin=p[1]}if(this.type==="line"&&this.renderer.bands.show){ymax=this._yaxis.series_u2p(this.renderer.bands._min);ymin=this._yaxis.series_u2p(this.renderer.bands._max)}this._boundingBox=[[xmin,ymax],[xmax,ymin]];if(this.markerRenderer.show&&!fill){if(this.renderer.smooth)gd=this.gridData;for(i=0;i<gd.length;i++)if(gd[i][0]!=null&&gd[i][1]!=null)this.markerRenderer.draw(gd[i][0],
gd[i][1],ctx,opts.markerOptions)}}ctx.restore()};$.jqplot.LineRenderer.prototype.draw_next=function(ctx,starti,gd,options,plot,series){var _this=this;setTimeout(function(){if(starti>=gd.length)_this.draw_after(ctx,gd,options,plot,series);else if(plot._cancelPlot){ctx.restore();plot._cancelPlot=false;return}else{var endi=starti+1E4;if(endi>=gd.length)endi=gd.length;var subgd=gd.slice(starti,endi);_this.shapeRenderer.draw(ctx,subgd,options);_this.draw_next(ctx,endi,gd,options,plot,series)}},0)};$.jqplot.LineRenderer.prototype.draw_after=
function(ctx,gd,options,plot,series){if(gd.length){var xmin=xmax=ymin=ymax=null;for(i=0;i<series._areaPoints.length;i++){var p=series._areaPoints[i];if(xmin>p[0]||xmin==null)xmin=p[0];if(ymax<p[1]||ymax==null)ymax=p[1];if(xmax<p[0]||xmax==null)xmax=p[0];if(ymin>p[1]||ymin==null)ymin=p[1]}if(series.type==="line"&&series.renderer.bands.show){ymax=series._yaxis.series_u2p(series.renderer.bands._min);ymin=series._yaxis.series_u2p(series.renderer.bands._max)}series._boundingBox=[[xmin,ymax],[xmax,ymin]];
if(series.markerRenderer.show&&!fill){if(series.renderer.smooth)gd=series.gridData;for(i=0;i<gd.length;i++)if(gd[i][0]!=null&&gd[i][1]!=null)series.markerRenderer.draw(gd[i][0],gd[i][1],ctx,opts.markerOptions)}}ctx.restore()};$.jqplot.LineRenderer.prototype.drawShadow=function(ctx,gd,options){};function postInit(target,data,options){for(var i=0;i<this.series.length;i++)if(this.series[i].renderer.constructor==$.jqplot.LineRenderer)if(this.series[i].highlightMouseOver)this.series[i].highlightMouseDown=
false}function postPlotDraw(){if(this.plugins.lineRenderer&&this.plugins.lineRenderer.highlightCanvas){this.plugins.lineRenderer.highlightCanvas.resetCanvas();this.plugins.lineRenderer.highlightCanvas=null}this.plugins.lineRenderer.highlightedSeriesIndex=null;this.plugins.lineRenderer.highlightCanvas=new $.jqplot.GenericCanvas;this.eventCanvas._elem.before(this.plugins.lineRenderer.highlightCanvas.createElement(this._gridPadding,"jqplot-lineRenderer-highlight-canvas",this._plotDimensions,this));this.plugins.lineRenderer.highlightCanvas.setContext();
this.eventCanvas._elem.bind("mouseleave",{plot:this},function(ev){unhighlight(ev.data.plot)})}function highlight(plot,sidx,pidx,points){var s=plot.series[sidx];var canvas=plot.plugins.lineRenderer.highlightCanvas;canvas._ctx.clearRect(0,0,canvas._ctx.canvas.width,canvas._ctx.canvas.height);s._highlightedPoint=pidx;plot.plugins.lineRenderer.highlightedSeriesIndex=sidx;var opts={fillStyle:s.highlightColor};if(s.type==="line"&&s.renderer.bands.show){opts.fill=true;opts.closePath=true}s.renderer.shapeRenderer.draw(canvas._ctx,
points,opts);canvas=null}function unhighlight(plot){var canvas=plot.plugins.lineRenderer.highlightCanvas;canvas._ctx.clearRect(0,0,canvas._ctx.canvas.width,canvas._ctx.canvas.height);for(var i=0;i<plot.series.length;i++)plot.series[i]._highlightedPoint=null;plot.plugins.lineRenderer.highlightedSeriesIndex=null;plot.target.trigger("jqplotDataUnhighlight");canvas=null}function handleMove(ev,gridpos,datapos,neighbor,plot){if(neighbor){var ins=[neighbor.seriesIndex,neighbor.pointIndex,neighbor.data];
var evt1=jQuery.Event("jqplotDataMouseOver");evt1.pageX=ev.pageX;evt1.pageY=ev.pageY;plot.target.trigger(evt1,ins);if(plot.series[ins[0]].highlightMouseOver&&!(ins[0]==plot.plugins.lineRenderer.highlightedSeriesIndex)){var evt=jQuery.Event("jqplotDataHighlight");evt.which=ev.which;evt.pageX=ev.pageX;evt.pageY=ev.pageY;plot.target.trigger(evt,ins);highlight(plot,neighbor.seriesIndex,neighbor.pointIndex,neighbor.points)}}else if(neighbor==null)unhighlight(plot)}function handleMouseDown(ev,gridpos,datapos,
neighbor,plot){if(neighbor){var ins=[neighbor.seriesIndex,neighbor.pointIndex,neighbor.data];if(plot.series[ins[0]].highlightMouseDown&&!(ins[0]==plot.plugins.lineRenderer.highlightedSeriesIndex)){var evt=jQuery.Event("jqplotDataHighlight");evt.which=ev.which;evt.pageX=ev.pageX;evt.pageY=ev.pageY;plot.target.trigger(evt,ins);highlight(plot,neighbor.seriesIndex,neighbor.pointIndex,neighbor.points)}}else if(neighbor==null)unhighlight(plot)}function handleMouseUp(ev,gridpos,datapos,neighbor,plot){var idx=
plot.plugins.lineRenderer.highlightedSeriesIndex;if(idx!=null&&plot.series[idx].highlightMouseDown)unhighlight(plot)}function handleClick(ev,gridpos,datapos,neighbor,plot){if(neighbor){var ins=[neighbor.seriesIndex,neighbor.pointIndex,neighbor.data];var evt=jQuery.Event("jqplotDataClick");evt.which=ev.which;evt.pageX=ev.pageX;evt.pageY=ev.pageY;plot.target.trigger(evt,ins)}}function handleRightClick(ev,gridpos,datapos,neighbor,plot){if(neighbor){var ins=[neighbor.seriesIndex,neighbor.pointIndex,neighbor.data];
var idx=plot.plugins.lineRenderer.highlightedSeriesIndex;if(idx!=null&&plot.series[idx].highlightMouseDown)unhighlight(plot);var evt=jQuery.Event("jqplotDataRightClick");evt.which=ev.which;evt.pageX=ev.pageX;evt.pageY=ev.pageY;plot.target.trigger(evt,ins)}}$.jqplot.MarkerRenderer=function(options){this.show=true;this.style="filledCircle";this.lineWidth=2;this.size=9;this.color="#666666";this.shadow=true;this.shadowAngle=45;this.shadowOffset=1;this.shadowDepth=3;this.shadowAlpha="0.07";this.shadowRenderer=
new $.jqplot.ShadowRenderer;this.shapeRenderer=new $.jqplot.ShapeRenderer;$.extend(true,this,options)};$.jqplot.MarkerRenderer.prototype.init=function(options){$.extend(true,this,options);var sdopt={angle:this.shadowAngle,offset:this.shadowOffset,alpha:this.shadowAlpha,lineWidth:this.lineWidth,depth:this.shadowDepth,closePath:true};if(this.style.indexOf("filled")!=-1)sdopt.fill=true;if(this.style.indexOf("ircle")!=-1){sdopt.isarc=true;sdopt.closePath=false}this.shadowRenderer.init(sdopt);var shopt=
{fill:false,isarc:false,strokeStyle:this.color,fillStyle:this.color,lineWidth:this.lineWidth,closePath:true};if(this.style.indexOf("filled")!=-1)shopt.fill=true;if(this.style.indexOf("ircle")!=-1){shopt.isarc=true;shopt.closePath=false}this.shapeRenderer.init(shopt)};$.jqplot.MarkerRenderer.prototype.drawDiamond=function(x,y,ctx,fill,options){var stretch=1.2;var dx=this.size/2/stretch;var dy=this.size/2*stretch;var points=[[x-dx,y],[x,y+dy],[x+dx,y],[x,y-dy]];if(this.shadow)this.shadowRenderer.draw(ctx,
points);this.shapeRenderer.draw(ctx,points,options)};$.jqplot.MarkerRenderer.prototype.drawPlus=function(x,y,ctx,fill,options){var stretch=1;var dx=this.size/2*stretch;var dy=this.size/2*stretch;var points1=[[x,y-dy],[x,y+dy]];var points2=[[x+dx,y],[x-dx,y]];var opts=$.extend(true,{},this.options,{closePath:false});if(this.shadow){this.shadowRenderer.draw(ctx,points1,{closePath:false});this.shadowRenderer.draw(ctx,points2,{closePath:false})}this.shapeRenderer.draw(ctx,points1,opts);this.shapeRenderer.draw(ctx,
points2,opts)};$.jqplot.MarkerRenderer.prototype.drawX=function(x,y,ctx,fill,options){var stretch=1;var dx=this.size/2*stretch;var dy=this.size/2*stretch;var opts=$.extend(true,{},this.options,{closePath:false});var points1=[[x-dx,y-dy],[x+dx,y+dy]];var points2=[[x-dx,y+dy],[x+dx,y-dy]];if(this.shadow){this.shadowRenderer.draw(ctx,points1,{closePath:false});this.shadowRenderer.draw(ctx,points2,{closePath:false})}this.shapeRenderer.draw(ctx,points1,opts);this.shapeRenderer.draw(ctx,points2,opts)};
$.jqplot.MarkerRenderer.prototype.drawDash=function(x,y,ctx,fill,options){var stretch=1;var dx=this.size/2*stretch;var dy=this.size/2*stretch;var points=[[x-dx,y],[x+dx,y]];if(this.shadow)this.shadowRenderer.draw(ctx,points);this.shapeRenderer.draw(ctx,points,options)};$.jqplot.MarkerRenderer.prototype.drawLine=function(p1,p2,ctx,fill,options){var points=[p1,p2];if(this.shadow)this.shadowRenderer.draw(ctx,points);this.shapeRenderer.draw(ctx,points,options)};$.jqplot.MarkerRenderer.prototype.drawSquare=
function(x,y,ctx,fill,options){var stretch=1;var dx=this.size/2/stretch;var dy=this.size/2*stretch;var points=[[x-dx,y-dy],[x-dx,y+dy],[x+dx,y+dy],[x+dx,y-dy]];if(this.shadow)this.shadowRenderer.draw(ctx,points);this.shapeRenderer.draw(ctx,points,options)};$.jqplot.MarkerRenderer.prototype.drawCircle=function(x,y,ctx,fill,options){var radius=this.size/2;var end=2*Math.PI;var points=[x,y,radius,0,end,true];if(this.shadow)this.shadowRenderer.draw(ctx,points);this.shapeRenderer.draw(ctx,points,options)};
$.jqplot.MarkerRenderer.prototype.draw=function(x,y,ctx,options){options=options||{};if(options.show==null||options.show!=false){if(options.color&&!options.fillStyle)options.fillStyle=options.color;if(options.color&&!options.strokeStyle)options.strokeStyle=options.color;switch(this.style){case "diamond":this.drawDiamond(x,y,ctx,false,options);break;case "filledDiamond":this.drawDiamond(x,y,ctx,true,options);break;case "circle":this.drawCircle(x,y,ctx,false,options);break;case "filledCircle":this.drawCircle(x,
y,ctx,true,options);break;case "square":this.drawSquare(x,y,ctx,false,options);break;case "filledSquare":this.drawSquare(x,y,ctx,true,options);break;case "x":this.drawX(x,y,ctx,true,options);break;case "plus":this.drawPlus(x,y,ctx,true,options);break;case "dash":this.drawDash(x,y,ctx,true,options);break;case "line":this.drawLine(x,y,ctx,false,options);break;default:this.drawDiamond(x,y,ctx,false,options);break}}};$.jqplot.ShadowRenderer=function(options){this.angle=45;this.offset=1;this.alpha=0.07;
this.lineWidth=1.5;this.lineJoin="miter";this.lineCap="round";this.closePath=false;this.fill=false;this.depth=3;this.strokeStyle="rgba(0,0,0,0.1)";this.isarc=false;$.extend(true,this,options)};$.jqplot.ShadowRenderer.prototype.init=function(options){$.extend(true,this,options)};$.jqplot.ShadowRenderer.prototype.draw=function(ctx,points,options){ctx.save();var opts=options!=null?options:{};var fill=opts.fill!=null?opts.fill:this.fill;var fillRect=opts.fillRect!=null?opts.fillRect:this.fillRect;var closePath=
opts.closePath!=null?opts.closePath:this.closePath;var offset=opts.offset!=null?opts.offset:this.offset;var alpha=opts.alpha!=null?opts.alpha:this.alpha;var depth=opts.depth!=null?opts.depth:this.depth;var isarc=opts.isarc!=null?opts.isarc:this.isarc;var linePattern=opts.linePattern!=null?opts.linePattern:this.linePattern;ctx.lineWidth=opts.lineWidth!=null?opts.lineWidth:this.lineWidth;ctx.lineJoin=opts.lineJoin!=null?opts.lineJoin:this.lineJoin;ctx.lineCap=opts.lineCap!=null?opts.lineCap:this.lineCap;
ctx.strokeStyle=opts.strokeStyle||this.strokeStyle||"rgba(0,0,0,"+alpha+")";ctx.fillStyle=opts.fillStyle||this.fillStyle||"rgba(0,0,0,"+alpha+")";for(var j=0;j<depth;j++){var ctxPattern=$.jqplot.LinePattern(ctx,linePattern);ctx.translate(Math.cos(this.angle*Math.PI/180)*offset,Math.sin(this.angle*Math.PI/180)*offset);ctxPattern.beginPath();if(isarc)ctx.arc(points[0],points[1],points[2],points[3],points[4],true);else if(fillRect){if(fillRect)ctx.fillRect(points[0],points[1],points[2],points[3])}else if(points&&
points.length){var move=true;for(var i=0;i<points.length;i++)if(points[i][0]!=null&&points[i][1]!=null)if(move){ctxPattern.moveTo(points[i][0],points[i][1]);move=false}else ctxPattern.lineTo(points[i][0],points[i][1]);else move=true}if(closePath)ctxPattern.closePath();if(fill)ctx.fill();else ctx.stroke()}ctx.restore()};$.jqplot.ShapeRenderer=function(options){this.lineWidth=1.5;this.linePattern="solid";this.lineJoin="miter";this.lineCap="round";this.closePath=false;this.fill=false;this.isarc=false;
this.fillRect=false;this.strokeRect=false;this.clearRect=false;this.strokeStyle="#999999";this.fillStyle="#999999";$.extend(true,this,options)};$.jqplot.ShapeRenderer.prototype.init=function(options){$.extend(true,this,options)};$.jqplot.ShapeRenderer.prototype.draw=function(ctx,points,options){ctx.save();var opts=options!=null?options:{};var fill=opts.fill!=null?opts.fill:this.fill;var closePath=opts.closePath!=null?opts.closePath:this.closePath;var fillRect=opts.fillRect!=null?opts.fillRect:this.fillRect;
var strokeRect=opts.strokeRect!=null?opts.strokeRect:this.strokeRect;var clearRect=opts.clearRect!=null?opts.clearRect:this.clearRect;var isarc=opts.isarc!=null?opts.isarc:this.isarc;var linePattern=opts.linePattern!=null?opts.linePattern:this.linePattern;var ctxPattern=$.jqplot.LinePattern(ctx,linePattern);ctx.lineWidth=opts.lineWidth||this.lineWidth;ctx.lineJoin=opts.lineJoin||this.lineJoin;ctx.lineCap=opts.lineCap||this.lineCap;ctx.strokeStyle=opts.strokeStyle||opts.color||this.strokeStyle;ctx.fillStyle=
opts.fillStyle||this.fillStyle;ctx.beginPath();if(isarc){ctx.arc(points[0],points[1],points[2],points[3],points[4],true);if(closePath)ctx.closePath();if(fill)ctx.fill();else ctx.stroke();ctx.restore();return}else if(clearRect){ctx.clearRect(points[0],points[1],points[2],points[3]);ctx.restore();return}else if(fillRect||strokeRect){if(fillRect)ctx.fillRect(points[0],points[1],points[2],points[3]);if(strokeRect){ctx.strokeRect(points[0],points[1],points[2],points[3]);ctx.restore();return}}else if(points&&
points.length){var move=true;for(var i=0;i<points.length;i++)if(points[i][0]!=null&&points[i][1]!=null)if(move){ctxPattern.moveTo(points[i][0],points[i][1]);move=false}else ctxPattern.lineTo(points[i][0],points[i][1]);else move=true;if(closePath)ctxPattern.closePath();if(fill)ctx.fill();else ctx.stroke()}ctx.restore()};$.jqplot.TableLegendRenderer=function(){};$.jqplot.TableLegendRenderer.prototype.init=function(options){$.extend(true,this,options)};$.jqplot.TableLegendRenderer.prototype.addrow=function(label,
color,pad,reverse){var rs=pad?this.rowSpacing+"px":"0px";var tr;var td;var elem;var div0;var div1;elem=document.createElement("tr");tr=$(elem);tr.addClass("jqplot-table-legend");elem=null;if(reverse)tr.prependTo(this._elem);else tr.appendTo(this._elem);if(this.showSwatches){td=$(document.createElement("td"));td.addClass("jqplot-table-legend jqplot-table-legend-swatch");td.css({textAlign:"center",paddingTop:rs});div0=$(document.createElement("div"));div0.addClass("jqplot-table-legend-swatch-outline");
div1=$(document.createElement("div"));div1.addClass("jqplot-table-legend-swatch");div1.css({backgroundColor:color,borderColor:color});tr.append(td.append(div0.append(div1)))}if(this.showLabels){td=$(document.createElement("td"));td.addClass("jqplot-table-legend jqplot-table-legend-label");td.css("paddingTop",rs);tr.append(td);if(this.escapeHtml)td.text(label);else td.html(label)}td=null;div0=null;div1=null;tr=null;elem=null};$.jqplot.TableLegendRenderer.prototype.draw=function(){if(this._elem){this._elem.emptyForce();
this._elem=null}if(this.show){var series=this._series;var elem=document.createElement("table");this._elem=$(elem);this._elem.addClass("jqplot-table-legend");var ss={position:"absolute"};if(this.background)ss["background"]=this.background;if(this.border)ss["border"]=this.border;if(this.fontSize)ss["fontSize"]=this.fontSize;if(this.fontFamily)ss["fontFamily"]=this.fontFamily;if(this.textColor)ss["textColor"]=this.textColor;if(this.marginTop!=null)ss["marginTop"]=this.marginTop;if(this.marginBottom!=
null)ss["marginBottom"]=this.marginBottom;if(this.marginLeft!=null)ss["marginLeft"]=this.marginLeft;if(this.marginRight!=null)ss["marginRight"]=this.marginRight;var pad=false,reverse=false,s;for(var i=0;i<series.length;i++){s=series[i];if(s._stack||s.renderer.constructor==$.jqplot.BezierCurveRenderer)reverse=true;if(s.show&&s.showLabel){var lt=this.labels[i]||s.label.toString();if(lt){var color=s.color;if(reverse&&i<series.length-1)pad=true;else if(reverse&&i==series.length-1)pad=false;this.renderer.addrow.call(this,
lt,color,pad,reverse);pad=true}for(var j=0;j<$.jqplot.addLegendRowHooks.length;j++){var item=$.jqplot.addLegendRowHooks[j].call(this,s);if(item){this.renderer.addrow.call(this,item.label,item.color,pad);pad=true}}lt=null}}}return this._elem};$.jqplot.TableLegendRenderer.prototype.pack=function(offsets){if(this.show)if(this.placement=="insideGrid")switch(this.location){case "nw":var a=offsets.left;var b=offsets.top;this._elem.css("left",a);this._elem.css("top",b);break;case "n":var a=(offsets.left+
(this._plotDimensions.width-offsets.right))/2-this.getWidth()/2;var b=offsets.top;this._elem.css("left",a);this._elem.css("top",b);break;case "ne":var a=offsets.right;var b=offsets.top;this._elem.css({right:a,top:b});break;case "e":var a=offsets.right;var b=(offsets.top+(this._plotDimensions.height-offsets.bottom))/2-this.getHeight()/2;this._elem.css({right:a,top:b});break;case "se":var a=offsets.right;var b=offsets.bottom;this._elem.css({right:a,bottom:b});break;case "s":var a=(offsets.left+(this._plotDimensions.width-
offsets.right))/2-this.getWidth()/2;var b=offsets.bottom;this._elem.css({left:a,bottom:b});break;case "sw":var a=offsets.left;var b=offsets.bottom;this._elem.css({left:a,bottom:b});break;case "w":var a=offsets.left;var b=(offsets.top+(this._plotDimensions.height-offsets.bottom))/2-this.getHeight()/2;this._elem.css({left:a,top:b});break;default:var a=offsets.right;var b=offsets.bottom;this._elem.css({right:a,bottom:b});break}else if(this.placement=="outside")switch(this.location){case "nw":var a=this._plotDimensions.width-
offsets.left;var b=offsets.top;this._elem.css("right",a);this._elem.css("top",b);break;case "n":var a=(offsets.left+(this._plotDimensions.width-offsets.right))/2-this.getWidth()/2;var b=this._plotDimensions.height-offsets.top;this._elem.css("left",a);this._elem.css("bottom",b);break;case "ne":var a=this._plotDimensions.width-offsets.right;var b=offsets.top;this._elem.css({left:a,top:b});break;case "e":var a=this._plotDimensions.width-offsets.right;var b=(offsets.top+(this._plotDimensions.height-offsets.bottom))/
2-this.getHeight()/2;this._elem.css({left:a,top:b});break;case "se":var a=this._plotDimensions.width-offsets.right;var b=offsets.bottom;this._elem.css({left:a,bottom:b});break;case "s":var a=(offsets.left+(this._plotDimensions.width-offsets.right))/2-this.getWidth()/2;var b=this._plotDimensions.height-offsets.bottom;this._elem.css({left:a,top:b});break;case "sw":var a=this._plotDimensions.width-offsets.left;var b=offsets.bottom;this._elem.css({right:a,bottom:b});break;case "w":var a=this._plotDimensions.width-
offsets.left;var b=(offsets.top+(this._plotDimensions.height-offsets.bottom))/2-this.getHeight()/2;this._elem.css({right:a,top:b});break;default:var a=offsets.right;var b=offsets.bottom;this._elem.css({right:a,bottom:b});break}else switch(this.location){case "nw":this._elem.css({left:0,top:offsets.top});break;case "n":var a=(offsets.left+(this._plotDimensions.width-offsets.right))/2-this.getWidth()/2;this._elem.css({left:a,top:offsets.top});break;case "ne":this._elem.css({right:0,top:offsets.top});
break;case "e":var b=(offsets.top+(this._plotDimensions.height-offsets.bottom))/2-this.getHeight()/2;this._elem.css({right:offsets.right,top:b});break;case "se":this._elem.css({right:offsets.right,bottom:offsets.bottom});break;case "s":var a=(offsets.left+(this._plotDimensions.width-offsets.right))/2-this.getWidth()/2;this._elem.css({left:a,bottom:offsets.bottom});break;case "sw":this._elem.css({left:offsets.left,bottom:offsets.bottom});break;case "w":var b=(offsets.top+(this._plotDimensions.height-
offsets.bottom))/2-this.getHeight()/2;this._elem.css({left:offsets.left,top:b});break;default:this._elem.css({right:offsets.right,bottom:offsets.bottom});break}};$.jqplot.ThemeEngine=function(){this.themes={};this.activeTheme=null};$.jqplot.ThemeEngine.prototype.init=function(){var th=new $.jqplot.Theme({_name:"Default"});var n,i,nn;for(n in th.target)if(n=="textColor")th.target[n]=this.target.css("color");else th.target[n]=this.target.css(n);if(this.title.show&&this.title._elem)for(n in th.title)if(n==
"textColor")th.title[n]=this.title._elem.css("color");else th.title[n]=this.title._elem.css(n);for(n in th.grid)th.grid[n]=this.grid[n];if(th.grid.backgroundColor==null&&this.grid.background!=null)th.grid.backgroundColor=this.grid.background;if(this.legend.show&&this.legend._elem)for(n in th.legend)if(n=="textColor")th.legend[n]=this.legend._elem.css("color");else th.legend[n]=this.legend._elem.css(n);var s;for(i=0;i<this.series.length;i++){s=this.series[i];if(s.renderer.constructor==$.jqplot.LineRenderer)th.series.push(new LineSeriesProperties);
else if(s.renderer.constructor==$.jqplot.BarRenderer)th.series.push(new BarSeriesProperties);else if(s.renderer.constructor==$.jqplot.PieRenderer)th.series.push(new PieSeriesProperties);else if(s.renderer.constructor==$.jqplot.DonutRenderer)th.series.push(new DonutSeriesProperties);else if(s.renderer.constructor==$.jqplot.FunnelRenderer)th.series.push(new FunnelSeriesProperties);else if(s.renderer.constructor==$.jqplot.MeterGaugeRenderer)th.series.push(new MeterSeriesProperties);else th.series.push({});
for(n in th.series[i])th.series[i][n]=s[n]}var a,ax;for(n in this.axes){ax=this.axes[n];a=th.axes[n]=new AxisProperties;a.borderColor=ax.borderColor;a.borderWidth=ax.borderWidth;if(ax._ticks&&ax._ticks[0])for(nn in a.ticks)if(ax._ticks[0].hasOwnProperty(nn))a.ticks[nn]=ax._ticks[0][nn];else if(ax._ticks[0]._elem)a.ticks[nn]=ax._ticks[0]._elem.css(nn);if(ax._label&&ax._label.show)for(nn in a.label)if(ax._label[nn])a.label[nn]=ax._label[nn];else if(ax._label._elem)if(nn=="textColor")a.label[nn]=ax._label._elem.css("color");
else a.label[nn]=ax._label._elem.css(nn)}this.themeEngine._add(th);this.themeEngine.activeTheme=this.themeEngine.themes[th._name]};$.jqplot.ThemeEngine.prototype.get=function(name){if(!name)return this.activeTheme;else return this.themes[name]};function numericalOrder(a,b){return a-b}$.jqplot.ThemeEngine.prototype.getThemeNames=function(){var tn=[];for(var n in this.themes)tn.push(n);return tn.sort(numericalOrder)};$.jqplot.ThemeEngine.prototype.getThemes=function(){var tn=[];var themes=[];for(var n in this.themes)tn.push(n);
tn.sort(numericalOrder);for(var i=0;i<tn.length;i++)themes.push(this.themes[tn[i]]);return themes};$.jqplot.ThemeEngine.prototype.activate=function(plot,name){var redrawPlot=false;if(!name&&this.activeTheme&&this.activeTheme._name)name=this.activeTheme._name;if(!this.themes.hasOwnProperty(name))throw new Error("No theme of that name");else{var th=this.themes[name];this.activeTheme=th;var val,checkBorderColor=false,checkBorderWidth=false;var arr=["xaxis","x2axis","yaxis","y2axis"];for(i=0;i<arr.length;i++){var ax=
arr[i];if(th.axesStyles.borderColor!=null)plot.axes[ax].borderColor=th.axesStyles.borderColor;if(th.axesStyles.borderWidth!=null)plot.axes[ax].borderWidth=th.axesStyles.borderWidth}for(var axname in plot.axes){var axis=plot.axes[axname];if(axis.show){var thaxis=th.axes[axname]||{};var thaxstyle=th.axesStyles;var thax=$.jqplot.extend(true,{},thaxis,thaxstyle);val=th.axesStyles.borderColor!=null?th.axesStyles.borderColor:thax.borderColor;if(thax.borderColor!=null){axis.borderColor=thax.borderColor;
redrawPlot=true}val=th.axesStyles.borderWidth!=null?th.axesStyles.borderWidth:thax.borderWidth;if(thax.borderWidth!=null){axis.borderWidth=thax.borderWidth;redrawPlot=true}if(axis._ticks&&axis._ticks[0])for(var nn in thax.ticks){val=thax.ticks[nn];if(val!=null){axis.tickOptions[nn]=val;axis._ticks=[];redrawPlot=true}}if(axis._label&&axis._label.show)for(var nn in thax.label){val=thax.label[nn];if(val!=null){axis.labelOptions[nn]=val;redrawPlot=true}}}}for(var n in th.grid)if(th.grid[n]!=null)plot.grid[n]=
th.grid[n];if(!redrawPlot)plot.grid.draw();if(plot.legend.show)for(n in th.legend)if(th.legend[n]!=null)plot.legend[n]=th.legend[n];if(plot.title.show)for(n in th.title)if(th.title[n]!=null)plot.title[n]=th.title[n];var i;for(i=0;i<th.series.length;i++){var opts={};var redrawSeries=false;for(n in th.series[i]){val=th.seriesStyles[n]!=null?th.seriesStyles[n]:th.series[i][n];if(val!=null){opts[n]=val;if(n=="color"){plot.series[i].renderer.shapeRenderer.fillStyle=val;plot.series[i].renderer.shapeRenderer.strokeStyle=
val;plot.series[i][n]=val}else if(n=="lineWidth"||n=="linePattern"){plot.series[i].renderer.shapeRenderer[n]=val;plot.series[i][n]=val}else if(n=="markerOptions"){merge(plot.series[i].markerOptions,val);merge(plot.series[i].markerRenderer,val)}else plot.series[i][n]=val;redrawPlot=true}}}if(redrawPlot){plot.target.empty();plot.draw()}for(n in th.target)if(th.target[n]!=null)plot.target.css(n,th.target[n])}};$.jqplot.ThemeEngine.prototype._add=function(theme,name){if(name)theme._name=name;if(!theme._name)theme._name=
Date.parse(new Date);if(!this.themes.hasOwnProperty(theme._name))this.themes[theme._name]=theme;else throw new Error("jqplot.ThemeEngine Error: Theme already in use");};$.jqplot.ThemeEngine.prototype.remove=function(name){if(name=="Default")return false;return delete this.themes[name]};$.jqplot.ThemeEngine.prototype.newTheme=function(name,obj){if(typeof name=="object"){obj=obj||name;name=null}if(obj&&obj._name)name=obj._name;else name=name||Date.parse(new Date);var th=this.copy(this.themes["Default"]._name,
name);$.jqplot.extend(th,obj);return th};function clone(obj){if(obj==null||typeof obj!="object")return obj;var temp=new obj.constructor;for(var key in obj)temp[key]=clone(obj[key]);return temp}$.jqplot.clone=clone;function merge(obj1,obj2){if(obj2==null||typeof obj2!="object")return;for(var key in obj2){if(key=="highlightColors")obj1[key]=clone(obj2[key]);if(obj2[key]!=null&&typeof obj2[key]=="object"){if(!obj1.hasOwnProperty(key))obj1[key]={};merge(obj1[key],obj2[key])}else obj1[key]=obj2[key]}}
$.jqplot.merge=merge;$.jqplot.extend=function(){var target=arguments[0]||{},i=1,length=arguments.length,deep=false,options;if(typeof target==="boolean"){deep=target;target=arguments[1]||{};i=2}if(typeof target!=="object"&&!toString.call(target)==="[object Function]")target={};for(;i<length;i++)if((options=arguments[i])!=null)for(var name in options){var src=target[name],copy=options[name];if(target===copy)continue;if(deep&&copy&&typeof copy==="object"&&!copy.nodeType)target[name]=$.jqplot.extend(deep,
src||(copy.length!=null?[]:{}),copy);else if(copy!==undefined)target[name]=copy}return target};$.jqplot.ThemeEngine.prototype.rename=function(oldName,newName){if(oldName=="Default"||newName=="Default")throw new Error("jqplot.ThemeEngine Error: Cannot rename from/to Default");if(this.themes.hasOwnProperty(newName))throw new Error("jqplot.ThemeEngine Error: New name already in use.");else if(this.themes.hasOwnProperty(oldName)){var th=this.copy(oldName,newName);this.remove(oldName);return th}throw new Error("jqplot.ThemeEngine Error: Old name or new name invalid");
};$.jqplot.ThemeEngine.prototype.copy=function(sourceName,targetName,obj){if(targetName=="Default")throw new Error("jqplot.ThemeEngine Error: Cannot copy over Default theme");if(!this.themes.hasOwnProperty(sourceName)){var s="jqplot.ThemeEngine Error: Source name invalid";throw new Error(s);}if(this.themes.hasOwnProperty(targetName)){var s="jqplot.ThemeEngine Error: Target name invalid";throw new Error(s);}else{var th=clone(this.themes[sourceName]);th._name=targetName;$.jqplot.extend(true,th,obj);
this._add(th);return th}};$.jqplot.Theme=function(name,obj){if(typeof name=="object"){obj=obj||name;name=null}name=name||Date.parse(new Date);this._name=name;this.target={backgroundColor:null};this.legend={textColor:null,fontFamily:null,fontSize:null,border:null,background:null};this.title={textColor:null,fontFamily:null,fontSize:null,textAlign:null};this.seriesStyles={};this.series=[];this.grid={drawGridlines:null,gridLineColor:null,gridLineWidth:null,backgroundColor:null,borderColor:null,borderWidth:null,
shadow:null};this.axesStyles={label:{},ticks:{}};this.axes={};if(typeof obj=="string")this._name=obj;else if(typeof obj=="object")$.jqplot.extend(true,this,obj)};var AxisProperties=function(){this.borderColor=null;this.borderWidth=null;this.ticks=new AxisTicks;this.label=new AxisLabel};var AxisTicks=function(){this.show=null;this.showGridline=null;this.showLabel=null;this.showMark=null;this.size=null;this.textColor=null;this.whiteSpace=null;this.fontSize=null;this.fontFamily=null};var AxisLabel=function(){this.textColor=
null;this.whiteSpace=null;this.fontSize=null;this.fontFamily=null;this.fontWeight=null};var LineSeriesProperties=function(){this.color=null;this.lineWidth=null;this.linePattern=null;this.shadow=null;this.fillColor=null;this.showMarker=null;this.markerOptions=new MarkerOptions};var MarkerOptions=function(){this.show=null;this.style=null;this.lineWidth=null;this.size=null;this.color=null;this.shadow=null};var BarSeriesProperties=function(){this.color=null;this.seriesColors=null;this.lineWidth=null;
this.shadow=null;this.barPadding=null;this.barMargin=null;this.barWidth=null;this.highlightColors=null};var PieSeriesProperties=function(){this.seriesColors=null;this.padding=null;this.sliceMargin=null;this.fill=null;this.shadow=null;this.startAngle=null;this.lineWidth=null;this.highlightColors=null};var DonutSeriesProperties=function(){this.seriesColors=null;this.padding=null;this.sliceMargin=null;this.fill=null;this.shadow=null;this.startAngle=null;this.lineWidth=null;this.innerDiameter=null;this.thickness=
null;this.ringMargin=null;this.highlightColors=null};var FunnelSeriesProperties=function(){this.color=null;this.lineWidth=null;this.shadow=null;this.padding=null;this.sectionMargin=null;this.seriesColors=null;this.highlightColors=null};var MeterSeriesProperties=function(){this.padding=null;this.backgroundColor=null;this.ringColor=null;this.tickColor=null;this.ringWidth=null;this.intervalColors=null;this.intervalInnerRadius=null;this.intervalOuterRadius=null;this.hubRadius=null;this.needleThickness=
null;this.needlePad=null};$.fn.jqplotChildText=function(){return $(this).contents().filter(function(){return this.nodeType==3}).text()};$.fn.jqplotGetComputedFontStyle=function(){var css=window.getComputedStyle?window.getComputedStyle(this[0],""):this[0].currentStyle;var attrs=css["font-style"]?["font-style","font-weight","font-size","font-family"]:["fontStyle","fontWeight","fontSize","fontFamily"];var style=[];for(var i=0;i<attrs.length;++i){var attr=String(css[attrs[i]]);if(attr&&attr!="normal")style.push(attr)}return style.join(" ")};
$.fn.jqplotToImageCanvas=function(options){options=options||{};var x_offset=options.x_offset==null?0:options.x_offset;var y_offset=options.y_offset==null?0:options.y_offset;var backgroundColor=options.backgroundColor==null?"rgb(255,255,255)":options.backgroundColor;if($(this).width()==0||$(this).height()==0)return null;if($.jqplot.use_excanvas)return null;var newCanvas=document.createElement("canvas");var h=$(this).outerHeight(true);var w=$(this).outerWidth(true);var offs=$(this).offset();var plotleft=
offs.left;var plottop=offs.top;var transx=0,transy=0;var clses=["jqplot-table-legend","jqplot-xaxis-tick","jqplot-x2axis-tick","jqplot-yaxis-tick","jqplot-y2axis-tick","jqplot-y3axis-tick","jqplot-y4axis-tick","jqplot-y5axis-tick","jqplot-y6axis-tick","jqplot-y7axis-tick","jqplot-y8axis-tick","jqplot-y9axis-tick","jqplot-xaxis-label","jqplot-x2axis-label","jqplot-yaxis-label","jqplot-y2axis-label","jqplot-y3axis-label","jqplot-y4axis-label","jqplot-y5axis-label","jqplot-y6axis-label","jqplot-y7axis-label",
"jqplot-y8axis-label","jqplot-y9axis-label"];var temptop,templeft,tempbottom,tempright;for(var i=0;i<clses.length;i++)$(this).find("."+clses[i]+":visible").each(function(){temptop=$(this).offset().top-plottop;templeft=$(this).offset().left-plotleft;tempright=templeft+$(this).outerWidth(true)+transx;tempbottom=temptop+$(this).outerHeight(true)+transy;if(templeft<-transx){w=w-transx-templeft;transx=-templeft}if(temptop<-transy){h=h-transy-temptop;transy=-temptop}if(tempright>w)w=tempright;if(tempbottom>
h)h=tempbottom});newCanvas.width=w+Number(x_offset);newCanvas.height=h+Number(y_offset);var newContext=newCanvas.getContext("2d");newContext.save();newContext.fillStyle=backgroundColor;newContext.fillRect(0,0,newCanvas.width,newCanvas.height);newContext.restore();newContext.translate(transx,transy);newContext.textAlign="left";newContext.textBaseline="top";function getLineheight(el){var lineheight=parseInt($(el).css("line-height"),10);if(isNaN(lineheight))lineheight=parseInt($(el).css("font-size"),
10)*1.2;return lineheight}function writeWrappedText(el,context,text,left,top,canvasWidth){var lineheight=getLineheight(el);var tagwidth=$(el).innerWidth();var tagheight=$(el).innerHeight();var words=text.split(/\s+/);var wl=words.length;var w="";var breaks=[];var temptop=top;var templeft=left;for(var i=0;i<wl;i++){w+=words[i];if(context.measureText(w).width>tagwidth&&w.length>words[i].length){breaks.push(i);w="";i--}}if(breaks.length===0){if($(el).css("textAlign")==="center")templeft=left+(canvasWidth-
context.measureText(w).width)/2-transx;context.fillText(text,templeft,top)}else{w=words.slice(0,breaks[0]).join(" ");if($(el).css("textAlign")==="center")templeft=left+(canvasWidth-context.measureText(w).width)/2-transx;context.fillText(w,templeft,temptop);temptop+=lineheight;for(var i=1,l=breaks.length;i<l;i++){w=words.slice(breaks[i-1],breaks[i]).join(" ");if($(el).css("textAlign")==="center")templeft=left+(canvasWidth-context.measureText(w).width)/2-transx;context.fillText(w,templeft,temptop);
temptop+=lineheight}w=words.slice(breaks[i-1],words.length).join(" ");if($(el).css("textAlign")==="center")templeft=left+(canvasWidth-context.measureText(w).width)/2-transx;context.fillText(w,templeft,temptop)}}function _jqpToImage(el,x_offset,y_offset){var tagname=el.tagName.toLowerCase();var p=$(el).position();var css=window.getComputedStyle?window.getComputedStyle(el,""):el.currentStyle;var left=x_offset+p.left+parseInt(css.marginLeft,10)+parseInt(css.borderLeftWidth,10)+parseInt(css.paddingLeft,
10);var top=y_offset+p.top+parseInt(css.marginTop,10)+parseInt(css.borderTopWidth,10)+parseInt(css.paddingTop,10);var w=newCanvas.width;if((tagname=="div"||tagname=="span")&&!$(el).hasClass("jqplot-highlighter-tooltip")&&!$(el).hasClass("jqplot-vertcursor-tooltip")){$(el).children(":visible").each(function(){_jqpToImage(this,left,top)});var text=$(el).jqplotChildText();if(text){newContext.font=$(el).jqplotGetComputedFontStyle();newContext.fillStyle=$(el).css("color");writeWrappedText(el,newContext,
text,left,top,w)}}else if($(el).hasClass("jqplot-vertcursor-tooltip")){var extraWidth=10;newContext.strokeStyle=$(el).css("border-top-color");newContext.fillStyle=$(el).css("background-color");newContext.fillRect(left,top,$(el).innerWidth()+extraWidth,$(el).innerHeight());if(parseInt($(el).css("border-top-width"),10)>0)newContext.strokeRect(left,top,$(el).innerWidth()+extraWidth,$(el).innerHeight());$(el).find("div.jqplot-table-legend-swatch").each(function(){var elem=$(this);console.log(elem.width());
newContext.strokeStyle=elem.css("border-top-color");var l=left+elem.position().left;var t=top+elem.position().top;newContext.fillStyle=elem.css("background-color");newContext.fillRect(l,t,elem.outerWidth(),elem.outerHeight());console.log(l,t,elem.outerWidth(),elem.outerHeight())});$(el).find("div.cursorLegendText").each(function(){var elem=$(this);var l=left+elem.position().left;var t=top+elem.position().top+parseInt(elem.css("padding-top"),10);newContext.font=elem.jqplotGetComputedFontStyle();newContext.fillStyle=
elem.css("color");writeWrappedText(elem,newContext,elem.text(),l,t,w)});var elem=null}else if(tagname==="table"&&$(el).hasClass("jqplot-table-legend")){newContext.strokeStyle=$(el).css("border-top-color");newContext.fillStyle=$(el).css("background-color");newContext.fillRect(left,top,$(el).innerWidth(),$(el).innerHeight());if(parseInt($(el).css("border-top-width"),10)>0)newContext.strokeRect(left,top,$(el).innerWidth(),$(el).innerHeight());$(el).find("div.jqplot-table-legend-swatch-outline").each(function(){var elem=
$(this);newContext.strokeStyle=elem.css("border-top-color");var l=left+elem.position().left;var t=top+elem.position().top;newContext.strokeRect(l,t,elem.innerWidth(),elem.innerHeight());l+=parseInt(elem.css("padding-left"),10);t+=parseInt(elem.css("padding-top"),10);var h=elem.innerHeight()-2*parseInt(elem.css("padding-top"),10);var w=elem.innerWidth()-2*parseInt(elem.css("padding-left"),10);var swatch=elem.children("div.jqplot-table-legend-swatch");newContext.fillStyle=swatch.css("background-color");
newContext.fillRect(l,t,w,h)});$(el).find("td.jqplot-table-legend-label").each(function(){var elem=$(this);var l=left+elem.position().left;var t=top+elem.position().top+parseInt(elem.css("padding-top"),10);newContext.font=elem.jqplotGetComputedFontStyle();newContext.fillStyle=elem.css("color");writeWrappedText(elem,newContext,elem.text(),l,t,w)});var elem=null}else if(tagname=="canvas")newContext.drawImage(el,left,top)}$(this).children(":visible").each(function(){_jqpToImage(this,x_offset,y_offset)});
return newCanvas};$.fn.jqplotToImageStr=function(options){var imgCanvas=$(this).jqplotToImageCanvas(options);if(imgCanvas)return imgCanvas.toDataURL("image/png");else return null};$.fn.jqplotToImageElem=function(options){var elem=document.createElement("img");var str=$(this).jqplotToImageStr(options);elem.src=str;return elem};$.fn.jqplotToImageElemStr=function(options){var str="<img src="+$(this).jqplotToImageStr(options)+" />";return str};$.fn.jqplotSaveImage=function(){var imgData=$(this).jqplotToImageStr({});
if(imgData)window.location.href=imgData.replace("image/png","image/octet-stream")};$.fn.jqplotViewImage=function(){var imgStr=$(this).jqplotToImageElemStr({});var imgData=$(this).jqplotToImageStr({});if(imgStr){var w=window.open("");w.document.open("image/png");w.document.write(imgStr);w.document.close();w=null}};$.jqplot.sprintf=function(){function pad(str,len,chr,leftJustify){var padding=str.length>=len?"":Array(1+len-str.length>>>0).join(chr);return leftJustify?str+padding:padding+str}function thousand_separate(value){var value_str=
new String(value);for(var i=10;i>0;i--)if(value_str==(value_str=value_str.replace(/^(\d+)(\d{3})/,"$1"+$.jqplot.sprintf.thousandsSeparator+"$2")))break;return value_str}function justify(value,prefix,leftJustify,minWidth,zeroPad,htmlSpace){var diff=minWidth-value.length;if(diff>0){var spchar=" ";if(htmlSpace)spchar="&nbsp;";if(leftJustify||!zeroPad)value=pad(value,minWidth,spchar,leftJustify);else value=value.slice(0,prefix.length)+pad("",diff,"0",true)+value.slice(prefix.length)}return value}function formatBaseX(value,
base,prefix,leftJustify,minWidth,precision,zeroPad,htmlSpace){var number=value>>>0;prefix=prefix&&number&&{2:"0b",8:"0",16:"0x"}[base]||"";value=prefix+pad(number.toString(base),precision||0,"0",false);return justify(value,prefix,leftJustify,minWidth,zeroPad,htmlSpace)}function formatString(value,leftJustify,minWidth,precision,zeroPad,htmlSpace){if(precision!=null)value=value.slice(0,precision);return justify(value,"",leftJustify,minWidth,zeroPad,htmlSpace)}var a=arguments,i=0,format=a[i++];return format.replace($.jqplot.sprintf.regex,
function(substring,valueIndex,flags,minWidth,_,precision,type){if(substring=="%%")return"%";var leftJustify=false,positivePrefix="",zeroPad=false,prefixBaseX=false,htmlSpace=false,thousandSeparation=false;for(var j=0;flags&&j<flags.length;j++)switch(flags.charAt(j)){case " ":positivePrefix=" ";break;case "+":positivePrefix="+";break;case "-":leftJustify=true;break;case "0":zeroPad=true;break;case "#":prefixBaseX=true;break;case "&":htmlSpace=true;break;case "'":thousandSeparation=true;break}if(!minWidth)minWidth=
0;else if(minWidth=="*")minWidth=+a[i++];else if(minWidth.charAt(0)=="*")minWidth=+a[minWidth.slice(1,-1)];else minWidth=+minWidth;if(minWidth<0){minWidth=-minWidth;leftJustify=true}if(!isFinite(minWidth))throw new Error("$.jqplot.sprintf: (minimum-)width must be finite");if(!precision)precision="fFeE".indexOf(type)>-1?6:type=="d"?0:void 0;else if(precision=="*")precision=+a[i++];else if(precision.charAt(0)=="*")precision=+a[precision.slice(1,-1)];else precision=+precision;var value=valueIndex?a[valueIndex.slice(0,
-1)]:a[i++];switch(type){case "s":if(value==null)return"";return formatString(String(value),leftJustify,minWidth,precision,zeroPad,htmlSpace);case "c":return formatString(String.fromCharCode(+value),leftJustify,minWidth,precision,zeroPad,htmlSpace);case "b":return formatBaseX(value,2,prefixBaseX,leftJustify,minWidth,precision,zeroPad,htmlSpace);case "o":return formatBaseX(value,8,prefixBaseX,leftJustify,minWidth,precision,zeroPad,htmlSpace);case "x":return formatBaseX(value,16,prefixBaseX,leftJustify,
minWidth,precision,zeroPad,htmlSpace);case "X":return formatBaseX(value,16,prefixBaseX,leftJustify,minWidth,precision,zeroPad,htmlSpace).toUpperCase();case "u":return formatBaseX(value,10,prefixBaseX,leftJustify,minWidth,precision,zeroPad,htmlSpace);case "i":var number=parseInt(+value,10);if(isNaN(number))return"";var prefix=number<0?"-":positivePrefix;var number_str=thousandSeparation?thousand_separate(String(Math.abs(number))):String(Math.abs(number));value=prefix+pad(number_str,precision,"0",false);
return justify(value,prefix,leftJustify,minWidth,zeroPad,htmlSpace);case "d":var number=Math.round(+value);if(isNaN(number))return"";var prefix=number<0?"-":positivePrefix;var number_str=thousandSeparation?thousand_separate(String(Math.abs(number))):String(Math.abs(number));value=prefix+pad(number_str,precision,"0",false);return justify(value,prefix,leftJustify,minWidth,zeroPad,htmlSpace);case "e":case "E":case "f":case "F":case "g":case "G":var number=+value;if(isNaN(number))return"";var prefix=
number<0?"-":positivePrefix;var method=["toExponential","toFixed","toPrecision"]["efg".indexOf(type.toLowerCase())];var textTransform=["toString","toUpperCase"]["eEfFgG".indexOf(type)%2];var number_str=Math.abs(number)[method](precision);number_str=thousandSeparation?thousand_separate(number_str):number_str;value=prefix+number_str;var justified=justify(value,prefix,leftJustify,minWidth,zeroPad,htmlSpace)[textTransform]();if($.jqplot.sprintf.decimalMark!=="."&&$.jqplot.sprintf.decimalMark!==$.jqplot.sprintf.thousandsSeparator)return justified.replace(/\./,
$.jqplot.sprintf.decimalMark);else return justified;case "p":case "P":var number=+value;if(isNaN(number))return"";var prefix=number<0?"-":positivePrefix;var parts=String(Number(Math.abs(number)).toExponential()).split(/e|E/);var sd=parts[0].indexOf(".")!=-1?parts[0].length-1:parts[0].length;var zeros=parts[1]<0?-parts[1]-1:0;if(Math.abs(number)<1)if(sd+zeros<=precision)value=prefix+Math.abs(number).toPrecision(sd);else if(sd<=precision-1)value=prefix+Math.abs(number).toExponential(sd-1);else value=
prefix+Math.abs(number).toExponential(precision-1);else{var prec=sd<=precision?sd:precision;value=prefix+Math.abs(number).toPrecision(prec)}var textTransform=["toString","toUpperCase"]["pP".indexOf(type)%2];return justify(value,prefix,leftJustify,minWidth,zeroPad,htmlSpace)[textTransform]();case "n":return"";default:return substring}})};$.jqplot.sprintf.thousandsSeparator=",";$.jqplot.sprintf.decimalMark=".";$.jqplot.sprintf.regex=/%%|%(\d+\$)?([-+#0&\' ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([nAscboxXuidfegpEGP])/g;
$.jqplot.getSignificantFigures=function(number){var parts=String(Number(Math.abs(number)).toExponential()).split(/e|E/);var sd=parts[0].indexOf(".")!=-1?parts[0].length-1:parts[0].length;var zeros=parts[1]<0?-parts[1]-1:0;var expn=parseInt(parts[1],10);var dleft=expn+1>0?expn+1:0;var dright=sd<=dleft?0:sd-expn-1;return{significantDigits:sd,digitsLeft:dleft,digitsRight:dright,zeros:zeros,exponent:expn}};$.jqplot.getPrecision=function(number){return $.jqplot.getSignificantFigures(number).digitsRight};
var backCompat=$.uiBackCompat!==false;$.jqplot.effects={effect:{}};var dataSpace="jqplot.storage.";$.extend($.jqplot.effects,{version:"1.9pre",save:function(element,set){for(var i=0;i<set.length;i++)if(set[i]!==null)element.data(dataSpace+set[i],element[0].style[set[i]])},restore:function(element,set){for(var i=0;i<set.length;i++)if(set[i]!==null)element.css(set[i],element.data(dataSpace+set[i]))},setMode:function(el,mode){if(mode==="toggle")mode=el.is(":hidden")?"show":"hide";return mode},createWrapper:function(element){if(element.parent().is(".ui-effects-wrapper"))return element.parent();
var props={width:element.outerWidth(true),height:element.outerHeight(true),"float":element.css("float")},wrapper=$("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),size={width:element.width(),height:element.height()},active=document.activeElement;element.wrap(wrapper);if(element[0]===active||$.contains(element[0],active))$(active).focus();wrapper=element.parent();if(element.css("position")==="static"){wrapper.css({position:"relative"});
element.css({position:"relative"})}else{$.extend(props,{position:element.css("position"),zIndex:element.css("z-index")});$.each(["top","left","bottom","right"],function(i,pos){props[pos]=element.css(pos);if(isNaN(parseInt(props[pos],10)))props[pos]="auto"});element.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})}element.css(size);return wrapper.css(props).show()},removeWrapper:function(element){var active=document.activeElement;if(element.parent().is(".ui-effects-wrapper")){element.parent().replaceWith(element);
if(element[0]===active||$.contains(element[0],active))$(active).focus()}return element}});function _normalizeArguments(effect,options,speed,callback){if($.isPlainObject(effect))return effect;effect={effect:effect};if(options===undefined)options={};if($.isFunction(options)){callback=options;speed=null;options={}}if($.type(options)==="number"||$.fx.speeds[options]){callback=speed;speed=options;options={}}if($.isFunction(speed)){callback=speed;speed=null}if(options)$.extend(effect,options);speed=speed||
options.duration;effect.duration=$.fx.off?0:typeof speed==="number"?speed:speed in $.fx.speeds?$.fx.speeds[speed]:$.fx.speeds._default;effect.complete=callback||options.complete;return effect}function standardSpeed(speed){if(!speed||typeof speed==="number"||$.fx.speeds[speed])return true;if(typeof speed==="string"&&!$.jqplot.effects.effect[speed]){if(backCompat&&$.jqplot.effects[speed])return false;return true}return false}$.fn.extend({jqplotEffect:function(effect,options,speed,callback){var args=
_normalizeArguments.apply(this,arguments),mode=args.mode,queue=args.queue,effectMethod=$.jqplot.effects.effect[args.effect],oldEffectMethod=!effectMethod&&backCompat&&$.jqplot.effects[args.effect];if($.fx.off||!(effectMethod||oldEffectMethod))if(mode)return this[mode](args.duration,args.complete);else return this.each(function(){if(args.complete)args.complete.call(this)});function run(next){var elem=$(this),complete=args.complete,mode=args.mode;function done(){if($.isFunction(complete))complete.call(elem[0]);
if($.isFunction(next))next()}if(elem.is(":hidden")?mode==="hide":mode==="show")done();else effectMethod.call(elem[0],args,done)}if(effectMethod)return queue===false?this.each(run):this.queue(queue||"fx",run);else return oldEffectMethod.call(this,{options:args,duration:args.duration,callback:args.complete,mode:args.mode})}});var rvertical=/up|down|vertical/,rpositivemotion=/up|left|vertical|horizontal/;$.jqplot.effects.effect.blind=function(o,done){var el=$(this),props=["position","top","bottom","left",
"right","height","width"],mode=$.jqplot.effects.setMode(el,o.mode||"hide"),direction=o.direction||"up",vertical=rvertical.test(direction),ref=vertical?"height":"width",ref2=vertical?"top":"left",motion=rpositivemotion.test(direction),animation={},show=mode==="show",wrapper,distance,top;if(el.parent().is(".ui-effects-wrapper"))$.jqplot.effects.save(el.parent(),props);else $.jqplot.effects.save(el,props);el.show();top=parseInt(el.css("top"),10);wrapper=$.jqplot.effects.createWrapper(el).css({overflow:"hidden"});
distance=vertical?wrapper[ref]()+top:wrapper[ref]();animation[ref]=show?String(distance):"0";if(!motion){el.css(vertical?"bottom":"right",0).css(vertical?"top":"left","").css({position:"absolute"});animation[ref2]=show?"0":String(distance)}if(show){wrapper.css(ref,0);if(!motion)wrapper.css(ref2,distance)}wrapper.animate(animation,{duration:o.duration,easing:o.easing,queue:false,complete:function(){if(mode==="hide")el.hide();$.jqplot.effects.restore(el,props);$.jqplot.effects.removeWrapper(el);done()}})};
var jsDate=function(){this.syntax=jsDate.config.syntax;this._type="jsDate";this.proxy=new Date;this.options={};this.locale=jsDate.regional.getLocale();this.formatString="";this.defaultCentury=jsDate.config.defaultCentury;switch(arguments.length){case 0:break;case 1:if(get_type(arguments[0])=="[object Object]"&&arguments[0]._type!="jsDate"){var opts=this.options=arguments[0];this.syntax=opts.syntax||this.syntax;this.defaultCentury=opts.defaultCentury||this.defaultCentury;this.proxy=jsDate.createDate(opts.date)}else this.proxy=
jsDate.createDate(arguments[0]);break;default:var a=[];for(var i=0;i<arguments.length;i++)a.push(arguments[i]);this.proxy=new Date;this.proxy.setFullYear.apply(this.proxy,a.slice(0,3));if(a.slice(3).length)this.proxy.setHours.apply(this.proxy,a.slice(3));break}};jsDate.config={defaultLocale:"en",syntax:"perl",defaultCentury:1900};jsDate.prototype.add=function(number,unit){var factor=multipliers[unit]||multipliers.day;if(typeof factor=="number")this.proxy.setTime(this.proxy.getTime()+factor*number);
else factor.add(this,number);return this};jsDate.prototype.clone=function(){return new jsDate(this.proxy.getTime())};jsDate.prototype.getUtcOffset=function(){return this.proxy.getTimezoneOffset()*6E4};jsDate.prototype.diff=function(dateObj,unit,allowDecimal){dateObj=new jsDate(dateObj);if(dateObj===null)return null;var factor=multipliers[unit]||multipliers.day;if(typeof factor=="number")var unitDiff=(this.proxy.getTime()-dateObj.proxy.getTime())/factor;else var unitDiff=factor.diff(this.proxy,dateObj.proxy);
return allowDecimal?unitDiff:Math[unitDiff>0?"floor":"ceil"](unitDiff)};jsDate.prototype.getAbbrDayName=function(){return jsDate.regional[this.locale]["dayNamesShort"][this.proxy.getDay()]};jsDate.prototype.getAbbrMonthName=function(){return jsDate.regional[this.locale]["monthNamesShort"][this.proxy.getMonth()]};jsDate.prototype.getAMPM=function(){return this.proxy.getHours()>=12?"PM":"AM"};jsDate.prototype.getAmPm=function(){return this.proxy.getHours()>=12?"pm":"am"};jsDate.prototype.getCentury=
function(){return parseInt(this.proxy.getFullYear()/100,10)};jsDate.prototype.getDate=function(){return this.proxy.getDate()};jsDate.prototype.getDay=function(){return this.proxy.getDay()};jsDate.prototype.getDayOfWeek=function(){var dow=this.proxy.getDay();return dow===0?7:dow};jsDate.prototype.getDayOfYear=function(){var d=this.proxy;var ms=d-new Date(""+d.getFullYear()+"/1/1 GMT");ms+=d.getTimezoneOffset()*6E4;d=null;return parseInt(ms/6E4/60/24,10)+1};jsDate.prototype.getDayName=function(){return jsDate.regional[this.locale]["dayNames"][this.proxy.getDay()]};
jsDate.prototype.getFullWeekOfYear=function(){var d=this.proxy;var doy=this.getDayOfYear();var rdow=6-d.getDay();var woy=parseInt((doy+rdow)/7,10);return woy};jsDate.prototype.getFullYear=function(){return this.proxy.getFullYear()};jsDate.prototype.getGmtOffset=function(){var hours=this.proxy.getTimezoneOffset()/60;var prefix=hours<0?"+":"-";hours=Math.abs(hours);return prefix+addZeros(Math.floor(hours),2)+":"+addZeros(hours%1*60,2)};jsDate.prototype.getHours=function(){return this.proxy.getHours()};
jsDate.prototype.getHours12=function(){var hours=this.proxy.getHours();return hours>12?hours-12:hours==0?12:hours};jsDate.prototype.getIsoWeek=function(){var d=this.proxy;var woy=d.getWeekOfYear();var dow1_1=(new Date(""+d.getFullYear()+"/1/1")).getDay();var idow=woy+(dow1_1>4||dow1_1<=1?0:1);if(idow==53&&(new Date(""+d.getFullYear()+"/12/31")).getDay()<4)idow=1;else if(idow===0){d=new jsDate(new Date(""+(d.getFullYear()-1)+"/12/31"));idow=d.getIsoWeek()}d=null;return idow};jsDate.prototype.getMilliseconds=
function(){return this.proxy.getMilliseconds()};jsDate.prototype.getMinutes=function(){return this.proxy.getMinutes()};jsDate.prototype.getMonth=function(){return this.proxy.getMonth()};jsDate.prototype.getMonthName=function(){return jsDate.regional[this.locale]["monthNames"][this.proxy.getMonth()]};jsDate.prototype.getMonthNumber=function(){return this.proxy.getMonth()+1};jsDate.prototype.getSeconds=function(){return this.proxy.getSeconds()};jsDate.prototype.getShortYear=function(){return this.proxy.getYear()%
100};jsDate.prototype.getTime=function(){return this.proxy.getTime()};jsDate.prototype.getTimezoneAbbr=function(){return this.proxy.toString().replace(/^.*\(([^)]+)\)$/,"$1")};jsDate.prototype.getTimezoneName=function(){var match=/(?:\((.+)\)$| ([A-Z]{3}) )/.exec(this.toString());return match[1]||match[2]||"GMT"+this.getGmtOffset()};jsDate.prototype.getTimezoneOffset=function(){return this.proxy.getTimezoneOffset()};jsDate.prototype.getWeekOfYear=function(){var doy=this.getDayOfYear();var rdow=7-
this.getDayOfWeek();var woy=parseInt((doy+rdow)/7,10);return woy};jsDate.prototype.getUnix=function(){return Math.round(this.proxy.getTime()/1E3,0)};jsDate.prototype.getYear=function(){return this.proxy.getYear()};jsDate.prototype.next=function(unit){unit=unit||"day";return this.clone().add(1,unit)};jsDate.prototype.set=function(){switch(arguments.length){case 0:this.proxy=new Date;break;case 1:if(get_type(arguments[0])=="[object Object]"&&arguments[0]._type!="jsDate"){var opts=this.options=arguments[0];
this.syntax=opts.syntax||this.syntax;this.defaultCentury=opts.defaultCentury||this.defaultCentury;this.proxy=jsDate.createDate(opts.date)}else this.proxy=jsDate.createDate(arguments[0]);break;default:var a=[];for(var i=0;i<arguments.length;i++)a.push(arguments[i]);this.proxy=new Date;this.proxy.setFullYear.apply(this.proxy,a.slice(0,3));if(a.slice(3).length)this.proxy.setHours.apply(this.proxy,a.slice(3));break}return this};jsDate.prototype.setDate=function(n){this.proxy.setDate(n);return this};jsDate.prototype.setFullYear=
function(){this.proxy.setFullYear.apply(this.proxy,arguments);return this};jsDate.prototype.setHours=function(){this.proxy.setHours.apply(this.proxy,arguments);return this};jsDate.prototype.setMilliseconds=function(n){this.proxy.setMilliseconds(n);return this};jsDate.prototype.setMinutes=function(){this.proxy.setMinutes.apply(this.proxy,arguments);return this};jsDate.prototype.setMonth=function(){this.proxy.setMonth.apply(this.proxy,arguments);return this};jsDate.prototype.setSeconds=function(){this.proxy.setSeconds.apply(this.proxy,
arguments);return this};jsDate.prototype.setTime=function(n){this.proxy.setTime(n);return this};jsDate.prototype.setYear=function(){this.proxy.setYear.apply(this.proxy,arguments);return this};jsDate.prototype.strftime=function(formatString){formatString=formatString||this.formatString||jsDate.regional[this.locale]["formatString"];return jsDate.strftime(this,formatString,this.syntax)};jsDate.prototype.toString=function(){return this.proxy.toString()};jsDate.prototype.toYmdInt=function(){return this.proxy.getFullYear()*
1E4+this.getMonthNumber()*100+this.proxy.getDate()};jsDate.regional={"en":{monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],formatString:"%Y-%m-%d %H:%M:%S"},"fr":{monthNames:["Janvier","F\u00e9vrier",
"Mars","Avril","Mai","Juin","Juillet","Ao\u00fbt","Septembre","Octobre","Novembre","D\u00e9cembre"],monthNamesShort:["Jan","F\u00e9v","Mar","Avr","Mai","Jun","Jul","Ao\u00fb","Sep","Oct","Nov","D\u00e9c"],dayNames:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],dayNamesShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],formatString:"%Y-%m-%d %H:%M:%S"},"de":{monthNames:["Januar","Februar","M\u00e4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],
monthNamesShort:["Jan","Feb","M\u00e4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],formatString:"%Y-%m-%d %H:%M:%S"},"es":{monthNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthNamesShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],dayNames:["Domingo",
"Lunes","Martes","Mi&eacute;rcoles","Jueves","Viernes","S&aacute;bado"],dayNamesShort:["Dom","Lun","Mar","Mi&eacute;","Juv","Vie","S&aacute;b"],formatString:"%Y-%m-%d %H:%M:%S"},"ru":{monthNames:["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c",
"\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"],monthNamesShort:["\u042f\u043d\u0432","\u0424\u0435\u0432","\u041c\u0430\u0440","\u0410\u043f\u0440","\u041c\u0430\u0439","\u0418\u044e\u043d","\u0418\u044e\u043b","\u0410\u0432\u0433","\u0421\u0435\u043d","\u041e\u043a\u0442","\u041d\u043e\u044f","\u0414\u0435\u043a"],dayNames:["\u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0435\u043d\u044c\u0435","\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u044c\u043d\u0438\u043a",
"\u0432\u0442\u043e\u0440\u043d\u0438\u043a","\u0441\u0440\u0435\u0434\u0430","\u0447\u0435\u0442\u0432\u0435\u0440\u0433","\u043f\u044f\u0442\u043d\u0438\u0446\u0430","\u0441\u0443\u0431\u0431\u043e\u0442\u0430"],dayNamesShort:["\u0432\u0441\u043a","\u043f\u043d\u0434","\u0432\u0442\u0440","\u0441\u0440\u0434","\u0447\u0442\u0432","\u043f\u0442\u043d","\u0441\u0431\u0442"],formatString:"%Y-%m-%d %H:%M:%S"},"ar":{monthNames:["\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u062b\u0627\u0646\u064a","\u0634\u0628\u0627\u0637",
"\u0622\u0630\u0627\u0631","\u0646\u064a\u0633\u0627\u0646","\u0622\u0630\u0627\u0631","\u062d\u0632\u064a\u0631\u0627\u0646","\u062a\u0645\u0648\u0632","\u0622\u0628","\u0623\u064a\u0644\u0648\u0644","\u062a\u0634\u0631\u064a\u0646 \u0627\u0644\u0623\u0648\u0644","\u062a\u0634\u0631\u064a\u0646 \u0627\u0644\u062b\u0627\u0646\u064a","\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u0623\u0648\u0644"],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["\u0627\u0644\u0633\u0628\u062a",
"\u0627\u0644\u0623\u062d\u062f","\u0627\u0644\u0627\u062b\u0646\u064a\u0646","\u0627\u0644\u062b\u0644\u0627\u062b\u0627\u0621","\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621","\u0627\u0644\u062e\u0645\u064a\u0633","\u0627\u0644\u062c\u0645\u0639\u0629"],dayNamesShort:["\u0633\u0628\u062a","\u0623\u062d\u062f","\u0627\u062b\u0646\u064a\u0646","\u062b\u0644\u0627\u062b\u0627\u0621","\u0623\u0631\u0628\u0639\u0627\u0621","\u062e\u0645\u064a\u0633","\u062c\u0645\u0639\u0629"],formatString:"%Y-%m-%d %H:%M:%S"},
"pt":{monthNames:["Janeiro","Fevereiro","Mar&ccedil;o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["Domingo","Segunda-feira","Ter&ccedil;a-feira","Quarta-feira","Quinta-feira","Sexta-feira","S&aacute;bado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","S&aacute;b"],formatString:"%Y-%m-%d %H:%M:%S"},"pt-BR":{monthNames:["Janeiro","Fevereiro","Mar&ccedil;o",
"Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],monthNamesShort:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],dayNames:["Domingo","Segunda-feira","Ter&ccedil;a-feira","Quarta-feira","Quinta-feira","Sexta-feira","S&aacute;bado"],dayNamesShort:["Dom","Seg","Ter","Qua","Qui","Sex","S&aacute;b"],formatString:"%Y-%m-%d %H:%M:%S"}};jsDate.regional["en-US"]=jsDate.regional["en-GB"]=jsDate.regional["en"];jsDate.regional.getLocale=function(){var l=
jsDate.config.defaultLocale;if(document&&document.getElementsByTagName("html")&&document.getElementsByTagName("html")[0].lang){l=document.getElementsByTagName("html")[0].lang;if(!jsDate.regional.hasOwnProperty(l))l=jsDate.config.defaultLocale}return l};var day=24*60*60*1E3;var addZeros=function(num,digits){num=String(num);var i=digits-num.length;var s=String(Math.pow(10,i)).slice(1);return s.concat(num)};var multipliers={millisecond:1,second:1E3,minute:60*1E3,hour:60*60*1E3,day:day,week:7*day,month:{add:function(d,
number){multipliers.year.add(d,Math[number>0?"floor":"ceil"](number/12));var prevMonth=d.getMonth()+number%12;if(prevMonth==12){prevMonth=0;d.setYear(d.getFullYear()+1)}else if(prevMonth==-1){prevMonth=11;d.setYear(d.getFullYear()-1)}d.setMonth(prevMonth)},diff:function(d1,d2){var diffYears=d1.getFullYear()-d2.getFullYear();var diffMonths=d1.getMonth()-d2.getMonth()+diffYears*12;var diffDays=d1.getDate()-d2.getDate();return diffMonths+diffDays/30}},year:{add:function(d,number){d.setYear(d.getFullYear()+
Math[number>0?"floor":"ceil"](number))},diff:function(d1,d2){return multipliers.month.diff(d1,d2)/12}}};for(var unit in multipliers)if(unit.substring(unit.length-1)!="s")multipliers[unit+"s"]=multipliers[unit];var format=function(d,code,syntax){if(jsDate.formats[syntax]["shortcuts"][code])return jsDate.strftime(d,jsDate.formats[syntax]["shortcuts"][code],syntax);else{var getter=(jsDate.formats[syntax]["codes"][code]||"").split(".");var nbr=d["get"+getter[0]]?d["get"+getter[0]]():"";if(getter[1])nbr=
addZeros(nbr,getter[1]);return nbr}};jsDate.strftime=function(d,formatString,syntax,locale){var syn="perl";var loc=jsDate.regional.getLocale();if(syntax&&jsDate.formats.hasOwnProperty(syntax))syn=syntax;else if(syntax&&jsDate.regional.hasOwnProperty(syntax))loc=syntax;if(locale&&jsDate.formats.hasOwnProperty(locale))syn=locale;else if(locale&&jsDate.regional.hasOwnProperty(locale))loc=locale;if(get_type(d)!="[object Object]"||d._type!="jsDate"){d=new jsDate(d);d.locale=loc}if(!formatString)formatString=
d.formatString||jsDate.regional[loc]["formatString"];var source=formatString||"%Y-%m-%d",result="",match;while(source.length>0)if(match=source.match(jsDate.formats[syn].codes.matcher)){result+=source.slice(0,match.index);result+=(match[1]||"")+format(d,match[2],syn);source=source.slice(match.index+match[0].length)}else{result+=source;source=""}return result};jsDate.formats={ISO:"%Y-%m-%dT%H:%M:%S.%N%G",SQL:"%Y-%m-%d %H:%M:%S"};jsDate.formats.perl={codes:{matcher:/()%(#?(%|[a-z]))/i,Y:"FullYear",y:"ShortYear.2",
m:"MonthNumber.2","#m":"MonthNumber",B:"MonthName",b:"AbbrMonthName",d:"Date.2","#d":"Date",e:"Date",A:"DayName",a:"AbbrDayName",w:"Day",H:"Hours.2","#H":"Hours",I:"Hours12.2","#I":"Hours12",p:"AMPM",M:"Minutes.2","#M":"Minutes",S:"Seconds.2","#S":"Seconds",s:"Unix",N:"Milliseconds.3","#N":"Milliseconds",O:"TimezoneOffset",Z:"TimezoneName",G:"GmtOffset"},shortcuts:{F:"%Y-%m-%d",T:"%H:%M:%S",X:"%H:%M:%S",x:"%m/%d/%y",D:"%m/%d/%y","#c":"%a %b %e %H:%M:%S %Y",v:"%e-%b-%Y",R:"%H:%M",r:"%I:%M:%S %p",t:"\t",
n:"\n","%":"%"}};jsDate.formats.php={codes:{matcher:/()%((%|[a-z]))/i,a:"AbbrDayName",A:"DayName",d:"Date.2",e:"Date",j:"DayOfYear.3",u:"DayOfWeek",w:"Day",U:"FullWeekOfYear.2",V:"IsoWeek.2",W:"WeekOfYear.2",b:"AbbrMonthName",B:"MonthName",m:"MonthNumber.2",h:"AbbrMonthName",C:"Century.2",y:"ShortYear.2",Y:"FullYear",H:"Hours.2",I:"Hours12.2",l:"Hours12",p:"AMPM",P:"AmPm",M:"Minutes.2",S:"Seconds.2",s:"Unix",O:"TimezoneOffset",z:"GmtOffset",Z:"TimezoneAbbr"},shortcuts:{D:"%m/%d/%y",F:"%Y-%m-%d",T:"%H:%M:%S",
X:"%H:%M:%S",x:"%m/%d/%y",R:"%H:%M",r:"%I:%M:%S %p",t:"\t",n:"\n","%":"%"}};jsDate.createDate=function(date){if(date==null)return new Date;if(date instanceof Date)return date;if(typeof date=="number")return new Date(date);var parsable=String(date).replace(/^\s*(.+)\s*$/g,"$1");parsable=parsable.replace(/^([0-9]{1,4})-([0-9]{1,2})-([0-9]{1,4})/,"$1/$2/$3");parsable=parsable.replace(/^(3[01]|[0-2]?\d)[-\/]([a-z]{3,})[-\/](\d{4})/i,"$1 $2 $3");var match=parsable.match(/^(3[01]|[0-2]?\d)[-\/]([a-z]{3,})[-\/](\d{2})\D*/i);
if(match&&match.length>3){var m3=parseFloat(match[3]);var ny=jsDate.config.defaultCentury+m3;ny=String(ny);parsable=parsable.replace(/^(3[01]|[0-2]?\d)[-\/]([a-z]{3,})[-\/](\d{2})\D*/i,match[1]+" "+match[2]+" "+ny)}match=parsable.match(/^([0-9]{1,2})[-\/]([0-9]{1,2})[-\/]([0-9]{1,2})[^0-9]/);function h1(parsable,match){var m1=parseFloat(match[1]);var m2=parseFloat(match[2]);var m3=parseFloat(match[3]);var cent=jsDate.config.defaultCentury;var ny,nd,nm,str;if(m1>31){nd=m3;nm=m2;ny=cent+m1}else{nd=
m2;nm=m1;ny=cent+m3}str=nm+"/"+nd+"/"+ny;return parsable.replace(/^([0-9]{1,2})[-\/]([0-9]{1,2})[-\/]([0-9]{1,2})/,str)}if(match&&match.length>3)parsable=h1(parsable,match);var match=parsable.match(/^([0-9]{1,2})[-\/]([0-9]{1,2})[-\/]([0-9]{1,2})$/);if(match&&match.length>3)parsable=h1(parsable,match);var i=0;var length=jsDate.matchers.length;var pattern,ms,current=parsable,obj;while(i<length){ms=Date.parse(current);if(!isNaN(ms))return new Date(ms);pattern=jsDate.matchers[i];if(typeof pattern=="function"){obj=
pattern.call(jsDate,current);if(obj instanceof Date)return obj}else current=parsable.replace(pattern[0],pattern[1]);i++}return NaN};jsDate.daysInMonth=function(year,month){if(month==2)return(new Date(year,1,29)).getDate()==29?29:28;return[undefined,31,undefined,31,30,31,30,31,31,30,31,30,31][month]};jsDate.matchers=[[/(3[01]|[0-2]\d)\s*\.\s*(1[0-2]|0\d)\s*\.\s*([1-9]\d{3})/,"$2/$1/$3"],[/([1-9]\d{3})\s*-\s*(1[0-2]|0\d)\s*-\s*(3[01]|[0-2]\d)/,"$2/$3/$1"],function(str){var match=str.match(/^(?:(.+)\s+)?([012]?\d)(?:\s*\:\s*(\d\d))?(?:\s*\:\s*(\d\d(\.\d*)?))?\s*(am|pm)?\s*$/i);
if(match){if(match[1]){var d=this.createDate(match[1]);if(isNaN(d))return}else{var d=new Date;d.setMilliseconds(0)}var hour=parseFloat(match[2]);if(match[6])hour=match[6].toLowerCase()=="am"?hour==12?0:hour:hour==12?12:hour+12;d.setHours(hour,parseInt(match[3]||0,10),parseInt(match[4]||0,10),(parseFloat(match[5]||0)||0)*1E3);return d}else return str},function(str){var match=str.match(/^(?:(.+))[T|\s+]([012]\d)(?:\:(\d\d))(?:\:(\d\d))(?:\.\d+)([\+\-]\d\d\:\d\d)$/i);if(match){if(match[1]){var d=this.createDate(match[1]);
if(isNaN(d))return}else{var d=new Date;d.setMilliseconds(0)}var hour=parseFloat(match[2]);d.setHours(hour,parseInt(match[3],10),parseInt(match[4],10),parseFloat(match[5])*1E3);return d}else return str},function(str){var match=str.match(/^([0-3]?\d)\s*[-\/.\s]{1}\s*([a-zA-Z]{3,9})\s*[-\/.\s]{1}\s*([0-3]?\d)$/);if(match){var d=new Date;var cent=jsDate.config.defaultCentury;var m1=parseFloat(match[1]);var m3=parseFloat(match[3]);var ny,nd,nm;if(m1>31){nd=m3;ny=cent+m1}else{nd=m1;ny=cent+m3}var nm=inArray(match[2],
jsDate.regional[jsDate.regional.getLocale()]["monthNamesShort"]);if(nm==-1)nm=inArray(match[2],jsDate.regional[jsDate.regional.getLocale()]["monthNames"]);d.setFullYear(ny,nm,nd);d.setHours(0,0,0,0);return d}else return str}];function inArray(elem,array){if(array.indexOf)return array.indexOf(elem);for(var i=0,length=array.length;i<length;i++)if(array[i]===elem)return i;return-1}function get_type(thing){if(thing===null)return"[object Null]";return Object.prototype.toString.call(thing)}$.jsDate=jsDate})(jQuery);
(function($){$.jqplot.CanvasTextRenderer=function(options){this.fontStyle="normal";this.fontVariant="normal";this.fontWeight="normal";this.fontSize="10px";this.fontFamily="sans-serif";this.fontStretch=1;this.fillStyle="#666666";this.angle=0;this.textAlign="start";this.textBaseline="alphabetic";this.text;this.width;this.height;this.pt2px=1.28;$.extend(true,this,options);this.normalizedFontSize=this.normalizeFontSize(this.fontSize);this.setHeight()};$.jqplot.CanvasTextRenderer.prototype.init=function(options){$.extend(true,
this,options);this.normalizedFontSize=this.normalizeFontSize(this.fontSize);this.setHeight()};$.jqplot.CanvasTextRenderer.prototype.normalizeFontSize=function(sz){sz=String(sz);var n=parseFloat(sz);if(sz.indexOf("px")>-1)return n/this.pt2px;else if(sz.indexOf("pt")>-1)return n;else if(sz.indexOf("em")>-1)return n*12;else if(sz.indexOf("%")>-1)return n*12/100;else return n/this.pt2px};$.jqplot.CanvasTextRenderer.prototype.fontWeight2Float=function(w){if(Number(w))return w/400;else switch(w){case "normal":return 1;
break;case "bold":return 1.75;break;case "bolder":return 2.25;break;case "lighter":return 0.75;break;default:return 1;break}};$.jqplot.CanvasTextRenderer.prototype.getText=function(){return this.text};$.jqplot.CanvasTextRenderer.prototype.setText=function(t,ctx){this.text=t;this.setWidth(ctx);return this};$.jqplot.CanvasTextRenderer.prototype.getWidth=function(ctx){return this.width};$.jqplot.CanvasTextRenderer.prototype.setWidth=function(ctx,w){if(!w)this.width=this.measure(ctx,this.text);else this.width=
w;return this};$.jqplot.CanvasTextRenderer.prototype.getHeight=function(ctx){return this.height};$.jqplot.CanvasTextRenderer.prototype.setHeight=function(w){if(!w)this.height=this.normalizedFontSize*this.pt2px;else this.height=w;return this};$.jqplot.CanvasTextRenderer.prototype.letter=function(ch){return this.letters[ch]};$.jqplot.CanvasTextRenderer.prototype.ascent=function(){return this.normalizedFontSize};$.jqplot.CanvasTextRenderer.prototype.descent=function(){return 7*this.normalizedFontSize/
25};$.jqplot.CanvasTextRenderer.prototype.measure=function(ctx,str){var total=0;var len=str.length;for(var i=0;i<len;i++){var c=this.letter(str.charAt(i));if(c)total+=c.width*this.normalizedFontSize/25*this.fontStretch}return total};$.jqplot.CanvasTextRenderer.prototype.draw=function(ctx,str){var x=0;var y=this.height*0.72;var total=0;var len=str.length;var mag=this.normalizedFontSize/25;ctx.save();var tx,ty;if(-Math.PI/2<=this.angle&&this.angle<=0||Math.PI*3/2<=this.angle&&this.angle<=Math.PI*2){tx=
0;ty=-Math.sin(this.angle)*this.width}else if(0<this.angle&&this.angle<=Math.PI/2||-Math.PI*2<=this.angle&&this.angle<=-Math.PI*3/2){tx=Math.sin(this.angle)*this.height;ty=0}else if(-Math.PI<this.angle&&this.angle<-Math.PI/2||Math.PI<=this.angle&&this.angle<=Math.PI*3/2){tx=-Math.cos(this.angle)*this.width;ty=-Math.sin(this.angle)*this.width-Math.cos(this.angle)*this.height}else if(-Math.PI*3/2<this.angle&&this.angle<Math.PI||Math.PI/2<this.angle&&this.angle<Math.PI){tx=Math.sin(this.angle)*this.height-
Math.cos(this.angle)*this.width;ty=-Math.cos(this.angle)*this.height}ctx.strokeStyle=this.fillStyle;ctx.fillStyle=this.fillStyle;ctx.translate(tx,ty);ctx.rotate(this.angle);ctx.lineCap="round";var fact=this.normalizedFontSize>30?2:2+(30-this.normalizedFontSize)/20;ctx.lineWidth=fact*mag*this.fontWeight2Float(this.fontWeight);for(var i=0;i<len;i++){var c=this.letter(str.charAt(i));if(!c)continue;ctx.beginPath();var penUp=1;var needStroke=0;for(var j=0;j<c.points.length;j++){var a=c.points[j];if(a[0]==
-1&&a[1]==-1){penUp=1;continue}if(penUp){ctx.moveTo(x+a[0]*mag*this.fontStretch,y-a[1]*mag);penUp=false}else ctx.lineTo(x+a[0]*mag*this.fontStretch,y-a[1]*mag)}ctx.stroke();x+=c.width*mag*this.fontStretch}ctx.restore();return total};$.jqplot.CanvasTextRenderer.prototype.letters={" ":{width:16,points:[]},"!":{width:10,points:[[5,21],[5,7],[-1,-1],[5,2],[4,1],[5,0],[6,1],[5,2]]},'"':{width:16,points:[[4,21],[4,14],[-1,-1],[12,21],[12,14]]},"#":{width:21,points:[[11,25],[4,-7],[-1,-1],[17,25],[10,-7],
[-1,-1],[4,12],[18,12],[-1,-1],[3,6],[17,6]]},"$":{width:20,points:[[8,25],[8,-4],[-1,-1],[12,25],[12,-4],[-1,-1],[17,18],[15,20],[12,21],[8,21],[5,20],[3,18],[3,16],[4,14],[5,13],[7,12],[13,10],[15,9],[16,8],[17,6],[17,3],[15,1],[12,0],[8,0],[5,1],[3,3]]},"%":{width:24,points:[[21,21],[3,0],[-1,-1],[8,21],[10,19],[10,17],[9,15],[7,14],[5,14],[3,16],[3,18],[4,20],[6,21],[8,21],[10,20],[13,19],[16,19],[19,20],[21,21],[-1,-1],[17,7],[15,6],[14,4],[14,2],[16,0],[18,0],[20,1],[21,3],[21,5],[19,7],[17,
7]]},"&":{width:26,points:[[23,12],[23,13],[22,14],[21,14],[20,13],[19,11],[17,6],[15,3],[13,1],[11,0],[7,0],[5,1],[4,2],[3,4],[3,6],[4,8],[5,9],[12,13],[13,14],[14,16],[14,18],[13,20],[11,21],[9,20],[8,18],[8,16],[9,13],[11,10],[16,3],[18,1],[20,0],[22,0],[23,1],[23,2]]},"'":{width:10,points:[[5,19],[4,20],[5,21],[6,20],[6,18],[5,16],[4,15]]},"(":{width:14,points:[[11,25],[9,23],[7,20],[5,16],[4,11],[4,7],[5,2],[7,-2],[9,-5],[11,-7]]},")":{width:14,points:[[3,25],[5,23],[7,20],[9,16],[10,11],[10,
7],[9,2],[7,-2],[5,-5],[3,-7]]},"*":{width:16,points:[[8,21],[8,9],[-1,-1],[3,18],[13,12],[-1,-1],[13,18],[3,12]]},"+":{width:26,points:[[13,18],[13,0],[-1,-1],[4,9],[22,9]]},",":{width:10,points:[[6,1],[5,0],[4,1],[5,2],[6,1],[6,-1],[5,-3],[4,-4]]},"-":{width:18,points:[[6,9],[12,9]]},".":{width:10,points:[[5,2],[4,1],[5,0],[6,1],[5,2]]},"/":{width:22,points:[[20,25],[2,-7]]},"0":{width:20,points:[[9,21],[6,20],[4,17],[3,12],[3,9],[4,4],[6,1],[9,0],[11,0],[14,1],[16,4],[17,9],[17,12],[16,17],[14,
20],[11,21],[9,21]]},1:{width:20,points:[[6,17],[8,18],[11,21],[11,0]]},2:{width:20,points:[[4,16],[4,17],[5,19],[6,20],[8,21],[12,21],[14,20],[15,19],[16,17],[16,15],[15,13],[13,10],[3,0],[17,0]]},3:{width:20,points:[[5,21],[16,21],[10,13],[13,13],[15,12],[16,11],[17,8],[17,6],[16,3],[14,1],[11,0],[8,0],[5,1],[4,2],[3,4]]},4:{width:20,points:[[13,21],[3,7],[18,7],[-1,-1],[13,21],[13,0]]},5:{width:20,points:[[15,21],[5,21],[4,12],[5,13],[8,14],[11,14],[14,13],[16,11],[17,8],[17,6],[16,3],[14,1],[11,
0],[8,0],[5,1],[4,2],[3,4]]},6:{width:20,points:[[16,18],[15,20],[12,21],[10,21],[7,20],[5,17],[4,12],[4,7],[5,3],[7,1],[10,0],[11,0],[14,1],[16,3],[17,6],[17,7],[16,10],[14,12],[11,13],[10,13],[7,12],[5,10],[4,7]]},7:{width:20,points:[[17,21],[7,0],[-1,-1],[3,21],[17,21]]},8:{width:20,points:[[8,21],[5,20],[4,18],[4,16],[5,14],[7,13],[11,12],[14,11],[16,9],[17,7],[17,4],[16,2],[15,1],[12,0],[8,0],[5,1],[4,2],[3,4],[3,7],[4,9],[6,11],[9,12],[13,13],[15,14],[16,16],[16,18],[15,20],[12,21],[8,21]]},
9:{width:20,points:[[16,14],[15,11],[13,9],[10,8],[9,8],[6,9],[4,11],[3,14],[3,15],[4,18],[6,20],[9,21],[10,21],[13,20],[15,18],[16,14],[16,9],[15,4],[13,1],[10,0],[8,0],[5,1],[4,3]]},":":{width:10,points:[[5,14],[4,13],[5,12],[6,13],[5,14],[-1,-1],[5,2],[4,1],[5,0],[6,1],[5,2]]},";":{width:10,points:[[5,14],[4,13],[5,12],[6,13],[5,14],[-1,-1],[6,1],[5,0],[4,1],[5,2],[6,1],[6,-1],[5,-3],[4,-4]]},"<":{width:24,points:[[20,18],[4,9],[20,0]]},"=":{width:26,points:[[4,12],[22,12],[-1,-1],[4,6],[22,6]]},
">":{width:24,points:[[4,18],[20,9],[4,0]]},"?":{width:18,points:[[3,16],[3,17],[4,19],[5,20],[7,21],[11,21],[13,20],[14,19],[15,17],[15,15],[14,13],[13,12],[9,10],[9,7],[-1,-1],[9,2],[8,1],[9,0],[10,1],[9,2]]},"@":{width:27,points:[[18,13],[17,15],[15,16],[12,16],[10,15],[9,14],[8,11],[8,8],[9,6],[11,5],[14,5],[16,6],[17,8],[-1,-1],[12,16],[10,14],[9,11],[9,8],[10,6],[11,5],[-1,-1],[18,16],[17,8],[17,6],[19,5],[21,5],[23,7],[24,10],[24,12],[23,15],[22,17],[20,19],[18,20],[15,21],[12,21],[9,20],[7,
19],[5,17],[4,15],[3,12],[3,9],[4,6],[5,4],[7,2],[9,1],[12,0],[15,0],[18,1],[20,2],[21,3],[-1,-1],[19,16],[18,8],[18,6],[19,5]]},"A":{width:18,points:[[9,21],[1,0],[-1,-1],[9,21],[17,0],[-1,-1],[4,7],[14,7]]},"B":{width:21,points:[[4,21],[4,0],[-1,-1],[4,21],[13,21],[16,20],[17,19],[18,17],[18,15],[17,13],[16,12],[13,11],[-1,-1],[4,11],[13,11],[16,10],[17,9],[18,7],[18,4],[17,2],[16,1],[13,0],[4,0]]},"C":{width:21,points:[[18,16],[17,18],[15,20],[13,21],[9,21],[7,20],[5,18],[4,16],[3,13],[3,8],[4,
5],[5,3],[7,1],[9,0],[13,0],[15,1],[17,3],[18,5]]},"D":{width:21,points:[[4,21],[4,0],[-1,-1],[4,21],[11,21],[14,20],[16,18],[17,16],[18,13],[18,8],[17,5],[16,3],[14,1],[11,0],[4,0]]},"E":{width:19,points:[[4,21],[4,0],[-1,-1],[4,21],[17,21],[-1,-1],[4,11],[12,11],[-1,-1],[4,0],[17,0]]},"F":{width:18,points:[[4,21],[4,0],[-1,-1],[4,21],[17,21],[-1,-1],[4,11],[12,11]]},"G":{width:21,points:[[18,16],[17,18],[15,20],[13,21],[9,21],[7,20],[5,18],[4,16],[3,13],[3,8],[4,5],[5,3],[7,1],[9,0],[13,0],[15,
1],[17,3],[18,5],[18,8],[-1,-1],[13,8],[18,8]]},"H":{width:22,points:[[4,21],[4,0],[-1,-1],[18,21],[18,0],[-1,-1],[4,11],[18,11]]},"I":{width:8,points:[[4,21],[4,0]]},"J":{width:16,points:[[12,21],[12,5],[11,2],[10,1],[8,0],[6,0],[4,1],[3,2],[2,5],[2,7]]},"K":{width:21,points:[[4,21],[4,0],[-1,-1],[18,21],[4,7],[-1,-1],[9,12],[18,0]]},"L":{width:17,points:[[4,21],[4,0],[-1,-1],[4,0],[16,0]]},"M":{width:24,points:[[4,21],[4,0],[-1,-1],[4,21],[12,0],[-1,-1],[20,21],[12,0],[-1,-1],[20,21],[20,0]]},"N":{width:22,
points:[[4,21],[4,0],[-1,-1],[4,21],[18,0],[-1,-1],[18,21],[18,0]]},"O":{width:22,points:[[9,21],[7,20],[5,18],[4,16],[3,13],[3,8],[4,5],[5,3],[7,1],[9,0],[13,0],[15,1],[17,3],[18,5],[19,8],[19,13],[18,16],[17,18],[15,20],[13,21],[9,21]]},"P":{width:21,points:[[4,21],[4,0],[-1,-1],[4,21],[13,21],[16,20],[17,19],[18,17],[18,14],[17,12],[16,11],[13,10],[4,10]]},"Q":{width:22,points:[[9,21],[7,20],[5,18],[4,16],[3,13],[3,8],[4,5],[5,3],[7,1],[9,0],[13,0],[15,1],[17,3],[18,5],[19,8],[19,13],[18,16],[17,
18],[15,20],[13,21],[9,21],[-1,-1],[12,4],[18,-2]]},"R":{width:21,points:[[4,21],[4,0],[-1,-1],[4,21],[13,21],[16,20],[17,19],[18,17],[18,15],[17,13],[16,12],[13,11],[4,11],[-1,-1],[11,11],[18,0]]},"S":{width:20,points:[[17,18],[15,20],[12,21],[8,21],[5,20],[3,18],[3,16],[4,14],[5,13],[7,12],[13,10],[15,9],[16,8],[17,6],[17,3],[15,1],[12,0],[8,0],[5,1],[3,3]]},"T":{width:16,points:[[8,21],[8,0],[-1,-1],[1,21],[15,21]]},"U":{width:22,points:[[4,21],[4,6],[5,3],[7,1],[10,0],[12,0],[15,1],[17,3],[18,
6],[18,21]]},"V":{width:18,points:[[1,21],[9,0],[-1,-1],[17,21],[9,0]]},"W":{width:24,points:[[2,21],[7,0],[-1,-1],[12,21],[7,0],[-1,-1],[12,21],[17,0],[-1,-1],[22,21],[17,0]]},"X":{width:20,points:[[3,21],[17,0],[-1,-1],[17,21],[3,0]]},"Y":{width:18,points:[[1,21],[9,11],[9,0],[-1,-1],[17,21],[9,11]]},"Z":{width:20,points:[[17,21],[3,0],[-1,-1],[3,21],[17,21],[-1,-1],[3,0],[17,0]]},"[":{width:14,points:[[4,25],[4,-7],[-1,-1],[5,25],[5,-7],[-1,-1],[4,25],[11,25],[-1,-1],[4,-7],[11,-7]]},"\\":{width:14,
points:[[0,21],[14,-3]]},"]":{width:14,points:[[9,25],[9,-7],[-1,-1],[10,25],[10,-7],[-1,-1],[3,25],[10,25],[-1,-1],[3,-7],[10,-7]]},"^":{width:16,points:[[6,15],[8,18],[10,15],[-1,-1],[3,12],[8,17],[13,12],[-1,-1],[8,17],[8,0]]},"_":{width:16,points:[[0,-2],[16,-2]]},"`":{width:10,points:[[6,21],[5,20],[4,18],[4,16],[5,15],[6,16],[5,17]]},"a":{width:19,points:[[15,14],[15,0],[-1,-1],[15,11],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},"b":{width:19,points:[[4,
21],[4,0],[-1,-1],[4,11],[6,13],[8,14],[11,14],[13,13],[15,11],[16,8],[16,6],[15,3],[13,1],[11,0],[8,0],[6,1],[4,3]]},"c":{width:18,points:[[15,11],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},"d":{width:19,points:[[15,21],[15,0],[-1,-1],[15,11],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},"e":{width:18,points:[[3,8],[15,8],[15,10],[14,12],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,
0],[13,1],[15,3]]},"f":{width:12,points:[[10,21],[8,21],[6,20],[5,17],[5,0],[-1,-1],[2,14],[9,14]]},"g":{width:19,points:[[15,14],[15,-2],[14,-5],[13,-6],[11,-7],[8,-7],[6,-6],[-1,-1],[15,11],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},"h":{width:19,points:[[4,21],[4,0],[-1,-1],[4,10],[7,13],[9,14],[12,14],[14,13],[15,10],[15,0]]},"i":{width:8,points:[[3,21],[4,20],[5,21],[4,22],[3,21],[-1,-1],[4,14],[4,0]]},"j":{width:10,points:[[5,21],[6,20],[7,21],
[6,22],[5,21],[-1,-1],[6,14],[6,-3],[5,-6],[3,-7],[1,-7]]},"k":{width:17,points:[[4,21],[4,0],[-1,-1],[14,14],[4,4],[-1,-1],[8,8],[15,0]]},"l":{width:8,points:[[4,21],[4,0]]},"m":{width:30,points:[[4,14],[4,0],[-1,-1],[4,10],[7,13],[9,14],[12,14],[14,13],[15,10],[15,0],[-1,-1],[15,10],[18,13],[20,14],[23,14],[25,13],[26,10],[26,0]]},"n":{width:19,points:[[4,14],[4,0],[-1,-1],[4,10],[7,13],[9,14],[12,14],[14,13],[15,10],[15,0]]},"o":{width:19,points:[[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,
0],[11,0],[13,1],[15,3],[16,6],[16,8],[15,11],[13,13],[11,14],[8,14]]},"p":{width:19,points:[[4,14],[4,-7],[-1,-1],[4,11],[6,13],[8,14],[11,14],[13,13],[15,11],[16,8],[16,6],[15,3],[13,1],[11,0],[8,0],[6,1],[4,3]]},"q":{width:19,points:[[15,14],[15,-7],[-1,-1],[15,11],[13,13],[11,14],[8,14],[6,13],[4,11],[3,8],[3,6],[4,3],[6,1],[8,0],[11,0],[13,1],[15,3]]},"r":{width:13,points:[[4,14],[4,0],[-1,-1],[4,8],[5,11],[7,13],[9,14],[12,14]]},"s":{width:17,points:[[14,11],[13,13],[10,14],[7,14],[4,13],[3,
11],[4,9],[6,8],[11,7],[13,6],[14,4],[14,3],[13,1],[10,0],[7,0],[4,1],[3,3]]},"t":{width:12,points:[[5,21],[5,4],[6,1],[8,0],[10,0],[-1,-1],[2,14],[9,14]]},"u":{width:19,points:[[4,14],[4,4],[5,1],[7,0],[10,0],[12,1],[15,4],[-1,-1],[15,14],[15,0]]},"v":{width:16,points:[[2,14],[8,0],[-1,-1],[14,14],[8,0]]},"w":{width:22,points:[[3,14],[7,0],[-1,-1],[11,14],[7,0],[-1,-1],[11,14],[15,0],[-1,-1],[19,14],[15,0]]},"x":{width:17,points:[[3,14],[14,0],[-1,-1],[14,14],[3,0]]},"y":{width:16,points:[[2,14],
[8,0],[-1,-1],[14,14],[8,0],[6,-4],[4,-6],[2,-7],[1,-7]]},"z":{width:17,points:[[14,14],[3,0],[-1,-1],[3,14],[14,14],[-1,-1],[3,0],[14,0]]},"{":{width:14,points:[[9,25],[7,24],[6,23],[5,21],[5,19],[6,17],[7,16],[8,14],[8,12],[6,10],[-1,-1],[7,24],[6,22],[6,20],[7,18],[8,17],[9,15],[9,13],[8,11],[4,9],[8,7],[9,5],[9,3],[8,1],[7,0],[6,-2],[6,-4],[7,-6],[-1,-1],[6,8],[8,6],[8,4],[7,2],[6,1],[5,-1],[5,-3],[6,-5],[7,-6],[9,-7]]},"|":{width:8,points:[[4,25],[4,-7]]},"}":{width:14,points:[[5,25],[7,24],
[8,23],[9,21],[9,19],[8,17],[7,16],[6,14],[6,12],[8,10],[-1,-1],[7,24],[8,22],[8,20],[7,18],[6,17],[5,15],[5,13],[6,11],[10,9],[6,7],[5,5],[5,3],[6,1],[7,0],[8,-2],[8,-4],[7,-6],[-1,-1],[8,8],[6,6],[6,4],[7,2],[8,1],[9,-1],[9,-3],[8,-5],[7,-6],[5,-7]]},"~":{width:24,points:[[3,6],[3,8],[4,11],[6,12],[8,12],[10,11],[14,8],[16,7],[18,7],[20,8],[21,10],[-1,-1],[3,8],[4,10],[6,11],[8,11],[10,10],[14,7],[16,6],[18,6],[20,7],[21,10],[21,12]]}};$.jqplot.CanvasFontRenderer=function(options){options=options||
{};if(!options.pt2px)options.pt2px=1.5;$.jqplot.CanvasTextRenderer.call(this,options)};$.jqplot.CanvasFontRenderer.prototype=new $.jqplot.CanvasTextRenderer({});$.jqplot.CanvasFontRenderer.prototype.constructor=$.jqplot.CanvasFontRenderer;$.jqplot.CanvasFontRenderer.prototype.measure=function(ctx,str){var fstyle=this.fontSize+" "+this.fontFamily;ctx.save();ctx.font=fstyle;var w=ctx.measureText(str).width;ctx.restore();return w};$.jqplot.CanvasFontRenderer.prototype.draw=function(ctx,str){var x=0;
var y=this.height*0.72;ctx.save();var tx,ty;if(-Math.PI/2<=this.angle&&this.angle<=0||Math.PI*3/2<=this.angle&&this.angle<=Math.PI*2){tx=0;ty=-Math.sin(this.angle)*this.width}else if(0<this.angle&&this.angle<=Math.PI/2||-Math.PI*2<=this.angle&&this.angle<=-Math.PI*3/2){tx=Math.sin(this.angle)*this.height;ty=0}else if(-Math.PI<this.angle&&this.angle<-Math.PI/2||Math.PI<=this.angle&&this.angle<=Math.PI*3/2){tx=-Math.cos(this.angle)*this.width;ty=-Math.sin(this.angle)*this.width-Math.cos(this.angle)*
this.height}else if(-Math.PI*3/2<this.angle&&this.angle<Math.PI||Math.PI/2<this.angle&&this.angle<Math.PI){tx=Math.sin(this.angle)*this.height-Math.cos(this.angle)*this.width;ty=-Math.cos(this.angle)*this.height}ctx.strokeStyle=this.fillStyle;ctx.fillStyle=this.fillStyle;var fstyle=this.fontSize+" "+this.fontFamily;ctx.font=fstyle;ctx.translate(tx,ty);ctx.rotate(this.angle);ctx.fillText(str,x,y);ctx.restore()}})(jQuery);
(function($){$.jqplot.CanvasAxisTickRenderer=function(options){this.mark="outside";this.showMark=true;this.showGridline=true;this.isMinorTick=false;this.angle=0;this.markSize=4;this.show=true;this.showLabel=true;this.labelPosition="auto";this.label="";this.value=null;this._styles={};this.formatter=$.jqplot.DefaultTickFormatter;this.formatString="";this.prefix="";this.fontFamily='"Trebuchet MS", Arial, Helvetica, sans-serif';this.fontSize="10pt";this.fontWeight="normal";this.fontStretch=1;this.textColor=
"#666666";this.enableFontSupport=true;this.pt2px=null;this._elem;this._ctx;this._plotWidth;this._plotHeight;this._plotDimensions={height:null,width:null};$.extend(true,this,options);var ropts={fontSize:this.fontSize,fontWeight:this.fontWeight,fontStretch:this.fontStretch,fillStyle:this.textColor,angle:this.getAngleRad(),fontFamily:this.fontFamily};if(this.pt2px)ropts.pt2px=this.pt2px;if(this.enableFontSupport)if($.jqplot.support_canvas_text())this._textRenderer=new $.jqplot.CanvasFontRenderer(ropts);
else this._textRenderer=new $.jqplot.CanvasTextRenderer(ropts);else this._textRenderer=new $.jqplot.CanvasTextRenderer(ropts)};$.jqplot.CanvasAxisTickRenderer.prototype.init=function(options){$.extend(true,this,options);this._textRenderer.init({fontSize:this.fontSize,fontWeight:this.fontWeight,fontStretch:this.fontStretch,fillStyle:this.textColor,angle:this.getAngleRad(),fontFamily:this.fontFamily})};$.jqplot.CanvasAxisTickRenderer.prototype.getWidth=function(ctx){if(this._elem)return this._elem.outerWidth(true);
else{var tr=this._textRenderer;var l=tr.getWidth(ctx);var h=tr.getHeight(ctx);var w=Math.abs(Math.sin(tr.angle)*h)+Math.abs(Math.cos(tr.angle)*l);return w}};$.jqplot.CanvasAxisTickRenderer.prototype.getHeight=function(ctx){if(this._elem)return this._elem.outerHeight(true);else{var tr=this._textRenderer;var l=tr.getWidth(ctx);var h=tr.getHeight(ctx);var w=Math.abs(Math.cos(tr.angle)*h)+Math.abs(Math.sin(tr.angle)*l);return w}};$.jqplot.CanvasAxisTickRenderer.prototype.getAngleRad=function(){var a=
this.angle*Math.PI/180;return a};$.jqplot.CanvasAxisTickRenderer.prototype.setTick=function(value,axisName,isMinor){this.value=value;if(isMinor)this.isMinorTick=true;return this};$.jqplot.CanvasAxisTickRenderer.prototype.draw=function(ctx,plot){if(!this.label)this.label=this.prefix+this.formatter(this.formatString,this.value);if(this._elem){if($.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==undefined)window.G_vmlCanvasManager.uninitElement(this._elem.get(0));this._elem.emptyForce();
this._elem=null}var elem=plot.canvasManager.getCanvas();this._textRenderer.setText(this.label,ctx);var w=this.getWidth(ctx);var h=this.getHeight(ctx);elem.width=w;elem.height=h;elem.style.width=w;elem.style.height=h;elem.style.textAlign="left";elem.style.position="absolute";elem=plot.canvasManager.initCanvas(elem);this._elem=$(elem);this._elem.css(this._styles);this._elem.addClass("jqplot-"+this.axis+"-tick");elem=null;return this._elem};$.jqplot.CanvasAxisTickRenderer.prototype.pack=function(){this._textRenderer.draw(this._elem.get(0).getContext("2d"),
this.label)}})(jQuery);
(function($){$.jqplot.CanvasAxisLabelRenderer=function(options){this.angle=0;this.axis;this.show=true;this.showLabel=true;this.label="";this.fontFamily='"Trebuchet MS", Arial, Helvetica, sans-serif';this.fontSize="11pt";this.fontWeight="normal";this.fontStretch=1;this.textColor="#666666";this.enableFontSupport=true;this.pt2px=null;this._elem;this._ctx;this._plotWidth;this._plotHeight;this._plotDimensions={height:null,width:null};$.extend(true,this,options);if(options.angle==null&&this.axis!="xaxis"&&
this.axis!="x2axis")this.angle=-90;var ropts={fontSize:this.fontSize,fontWeight:this.fontWeight,fontStretch:this.fontStretch,fillStyle:this.textColor,angle:this.getAngleRad(),fontFamily:this.fontFamily};if(this.pt2px)ropts.pt2px=this.pt2px;if(this.enableFontSupport)if($.jqplot.support_canvas_text())this._textRenderer=new $.jqplot.CanvasFontRenderer(ropts);else this._textRenderer=new $.jqplot.CanvasTextRenderer(ropts);else this._textRenderer=new $.jqplot.CanvasTextRenderer(ropts)};$.jqplot.CanvasAxisLabelRenderer.prototype.init=
function(options){$.extend(true,this,options);this._textRenderer.init({fontSize:this.fontSize,fontWeight:this.fontWeight,fontStretch:this.fontStretch,fillStyle:this.textColor,angle:this.getAngleRad(),fontFamily:this.fontFamily})};$.jqplot.CanvasAxisLabelRenderer.prototype.getWidth=function(ctx){if(this._elem)return this._elem.outerWidth(true);else{var tr=this._textRenderer;var l=tr.getWidth(ctx);var h=tr.getHeight(ctx);var w=Math.abs(Math.sin(tr.angle)*h)+Math.abs(Math.cos(tr.angle)*l);return w}};
$.jqplot.CanvasAxisLabelRenderer.prototype.getHeight=function(ctx){if(this._elem)return this._elem.outerHeight(true);else{var tr=this._textRenderer;var l=tr.getWidth(ctx);var h=tr.getHeight(ctx);var w=Math.abs(Math.cos(tr.angle)*h)+Math.abs(Math.sin(tr.angle)*l);return w}};$.jqplot.CanvasAxisLabelRenderer.prototype.getAngleRad=function(){var a=this.angle*Math.PI/180;return a};$.jqplot.CanvasAxisLabelRenderer.prototype.draw=function(ctx,plot){if(this._elem){if($.jqplot.use_excanvas&&window.G_vmlCanvasManager.uninitElement!==
undefined)window.G_vmlCanvasManager.uninitElement(this._elem.get(0));this._elem.emptyForce();this._elem=null}var elem=plot.canvasManager.getCanvas();this._textRenderer.setText(this.label,ctx);var w=this.getWidth(ctx);var h=this.getHeight(ctx);elem.width=w;elem.height=h;elem.style.width=w;elem.style.height=h;elem=plot.canvasManager.initCanvas(elem);this._elem=$(elem);this._elem.css({position:"absolute"});this._elem.addClass("jqplot-"+this.axis+"-label");elem=null;return this._elem};$.jqplot.CanvasAxisLabelRenderer.prototype.pack=
function(){this._textRenderer.draw(this._elem.get(0).getContext("2d"),this.label)}})(jQuery);
(function($){$.jqplot.LogAxisRenderer=function(){$.jqplot.LinearAxisRenderer.call(this);this.axisDefaults={base:10,tickDistribution:"power"}};$.jqplot.LogAxisRenderer.prototype=new $.jqplot.LinearAxisRenderer;$.jqplot.LogAxisRenderer.prototype.constructor=$.jqplot.LogAxisRenderer;$.jqplot.LogAxisRenderer.prototype.init=function(options){this.drawBaseline=true;this.minorTicks="auto";this._scalefact=1;$.extend(true,this,options);this._autoFormatString="%d";this._overrideFormatString=false;for(var d in this.renderer.axisDefaults)if(this[d]==
null)this[d]=this.renderer.axisDefaults[d];this.resetDataBounds()};$.jqplot.LogAxisRenderer.prototype.createTicks=function(plot){var ticks=this._ticks;var userTicks=this.ticks;var name=this.name;var db=this._dataBounds;var dim=this.name.charAt(0)==="x"?this._plotDimensions.width:this._plotDimensions.height;var interval;var min,max;var pos1,pos2;var tt,i;var threshold=30;this._scalefact=(Math.max(dim,threshold+1)-threshold)/300;if(userTicks.length){for(i=0;i<userTicks.length;i++){var ut=userTicks[i];
var t=new this.tickRenderer(this.tickOptions);if(ut.constructor==Array){t.value=ut[0];t.label=ut[1];if(!this.showTicks){t.showLabel=false;t.showMark=false}else if(!this.showTickMarks)t.showMark=false;t.setTick(ut[0],this.name);this._ticks.push(t)}else if($.isPlainObject(ut)){$.extend(true,t,ut);t.axis=this.name;this._ticks.push(t)}else{t.value=ut;if(!this.showTicks){t.showLabel=false;t.showMark=false}else if(!this.showTickMarks)t.showMark=false;t.setTick(ut,this.name);this._ticks.push(t)}}this.numberTicks=
userTicks.length;this.min=this._ticks[0].value;this.max=this._ticks[this.numberTicks-1].value}else{if(this.min==null)min=db.min*(2-this.padMin);else min=this.min;if(this.min==null)max=db.max*this.padMax;else max=this.max;if(min==max){var adj=0.05;min=min*(1-adj);max=max*(1+adj)}if(this.min!=null&&this.min<=0)throw"log axis minimum must be greater than 0";if(this.max!=null&&this.max<=0)throw"log axis maximum must be greater than 0";function findCeil(val){var order=Math.pow(10,Math.floor(Math.log(val)/
Math.LN10));return Math.ceil(val/order)*order}function findFloor(val){var order=Math.pow(10,Math.floor(Math.log(val)/Math.LN10));return Math.floor(val/order)*order}var rmin,rmax;rmin=Math.pow(this.base,Math.floor(Math.log(min)/Math.log(this.base)));rmax=Math.pow(this.base,Math.ceil(Math.log(max)/Math.log(this.base)));var order=Math.round(Math.log(rmin)/Math.LN10);if(this.tickOptions==null||!this.tickOptions.formatString)this._overrideFormatString=true;this.min=rmin;this.max=rmax;var range=this.max-
this.min;var minorTicks=this.minorTicks==="auto"?0:this.minorTicks;var numberTicks;if(this.numberTicks==null)if(dim>140){numberTicks=Math.round(Math.log(this.max/this.min)/Math.log(this.base)+1);if(numberTicks<2)numberTicks=2;if(minorTicks===0){var temp=dim/(numberTicks-1);if(temp<100)minorTicks=0;else if(temp<190)minorTicks=1;else if(temp<250)minorTicks=3;else if(temp<600)minorTicks=4;else minorTicks=9}}else{numberTicks=2;if(minorTicks===0)minorTicks=1;minorTicks=0}else numberTicks=this.numberTicks;
if(order>=0&&minorTicks!==3)this._autoFormatString="%d";else if(order<=0&&minorTicks===3){var temp=-(order-1);this._autoFormatString="%."+Math.abs(order-1)+"f"}else if(order<0){var temp=-order;this._autoFormatString="%."+Math.abs(order)+"f"}else this._autoFormatString="%d";var to,t,val,tt1,spread,interval;for(var i=0;i<numberTicks;i++){tt=Math.pow(this.base,i-numberTicks+1)*this.max;t=new this.tickRenderer(this.tickOptions);if(this._overrideFormatString)t.formatString=this._autoFormatString;if(!this.showTicks){t.showLabel=
false;t.showMark=false}else if(!this.showTickMarks)t.showMark=false;t.setTick(tt,this.name);this._ticks.push(t);if(minorTicks&&i<numberTicks-1){tt1=Math.pow(this.base,i-numberTicks+2)*this.max;spread=tt1-tt;interval=tt1/(minorTicks+1);for(var j=minorTicks-1;j>=0;j--){val=tt1-interval*(j+1);t=new this.tickRenderer(this.tickOptions);if(this._overrideFormatString&&this._autoFormatString!="")t.formatString=this._autoFormatString;if(!this.showTicks){t.showLabel=false;t.showMark=false}else if(!this.showTickMarks)t.showMark=
false;t.setTick(val,this.name);this._ticks.push(t)}}}}};$.jqplot.LogAxisRenderer.prototype.pack=function(pos,offsets){var lb=parseInt(this.base,10);var ticks=this._ticks;var trans=function(v){return Math.log(v)/Math.log(lb)};var invtrans=function(v){return Math.pow(Math.E,Math.log(lb)*v)};var max=trans(this.max);var min=trans(this.min);var offmax=offsets.max;var offmin=offsets.min;var lshow=this._label==null?false:this._label.show;for(var p in pos)this._elem.css(p,pos[p]);this._offsets=offsets;var pixellength=
offmax-offmin;var unitlength=max-min;this.p2u=function(p){return invtrans((p-offmin)*unitlength/pixellength+min)};this.u2p=function(u){return(trans(u)-min)*pixellength/unitlength+offmin};if(this.name=="xaxis"||this.name=="x2axis"){this.series_u2p=function(u){return(trans(u)-min)*pixellength/unitlength};this.series_p2u=function(p){return invtrans(p*unitlength/pixellength+min)}}else{this.series_u2p=function(u){return(trans(u)-max)*pixellength/unitlength};this.series_p2u=function(p){return invtrans(p*
unitlength/pixellength+max)}}if(this.show)if(this.name=="xaxis"||this.name=="x2axis"){for(var i=0;i<ticks.length;i++){var t=ticks[i];if(t.show&&t.showLabel){var shim;if(t.constructor==$.jqplot.CanvasAxisTickRenderer&&t.angle)switch(t.labelPosition){case "auto":if(t.angle<0)shim=-t.getWidth()+t._textRenderer.height*Math.sin(-t._textRenderer.angle)/2;else shim=-t._textRenderer.height*Math.sin(t._textRenderer.angle)/2;break;case "end":shim=-t.getWidth()+t._textRenderer.height*Math.sin(-t._textRenderer.angle)/
2;break;case "start":shim=-t._textRenderer.height*Math.sin(t._textRenderer.angle)/2;break;case "middle":shim=-t.getWidth()/2+t._textRenderer.height*Math.sin(-t._textRenderer.angle)/2;break;default:shim=-t.getWidth()/2+t._textRenderer.height*Math.sin(-t._textRenderer.angle)/2;break}else shim=-t.getWidth()/2;var val=this.u2p(t.value)+shim+"px";t._elem.css("left",val);t.pack()}}if(lshow){var w=this._label._elem.outerWidth(true);this._label._elem.css("left",offmin+pixellength/2-w/2+"px");if(this.name==
"xaxis")this._label._elem.css("bottom","0px");else this._label._elem.css("top","0px");this._label.pack()}}else{for(var i=0;i<ticks.length;i++){var t=ticks[i];if(t.show&&t.showLabel){var shim;if(t.constructor==$.jqplot.CanvasAxisTickRenderer&&t.angle)switch(t.labelPosition){case "auto":case "end":if(t.angle<0)shim=-t._textRenderer.height*Math.cos(-t._textRenderer.angle)/2;else shim=-t.getHeight()+t._textRenderer.height*Math.cos(t._textRenderer.angle)/2;break;case "start":if(t.angle>0)shim=-t._textRenderer.height*
Math.cos(-t._textRenderer.angle)/2;else shim=-t.getHeight()+t._textRenderer.height*Math.cos(t._textRenderer.angle)/2;break;case "middle":shim=-t.getHeight()/2;break;default:shim=-t.getHeight()/2;break}else shim=-t.getHeight()/2;var val=this.u2p(t.value)+shim+"px";t._elem.css("top",val);t.pack()}}if(lshow){var h=this._label._elem.outerHeight(true);this._label._elem.css("top",offmax-pixellength/2-h/2+"px");if(this.name=="yaxis")this._label._elem.css("left","0px");else this._label._elem.css("right",
"0px");this._label.pack()}}}})(jQuery);
(function($){$.jqplot.eventListenerHooks.push(["jqplotMouseMove",handleMove]);$.jqplot.Highlighter=function(options){this.show=$.jqplot.config.enablePlugins;this.markerRenderer=new $.jqplot.MarkerRenderer({shadow:false});this.showMarker=true;this.lineWidthAdjust=2.5;this.sizeAdjust=5;this.showTooltip=true;this.tooltipLocation="nw";this.fadeTooltip=true;this.tooltipFadeSpeed="fast";this.tooltipOffset=2;this.tooltipAxes="both";this.tooltipSeparator=", ";this.tooltipContentEditor=null;this.useAxesFormatters=
true;this.tooltipFormatString="%.5P";this.formatString=null;this.yvalues=1;this.bringSeriesToFront=false;this._tooltipElems={};this.isHighlighting=false;this.currentNeighbor=null;$.extend(true,this,options)};var locations=["nw","n","ne","e","se","s","sw","w"];var locationIndicies={"nw":0,"n":1,"ne":2,"e":3,"se":4,"s":5,"sw":6,"w":7};var oppositeLocations=["se","s","sw","w","nw","n","ne","e"];$.jqplot.Highlighter.init=function(target,data,opts){var options=opts||{};this.plugins.highlighter=new $.jqplot.Highlighter(options.highlighter)};
$.jqplot.Highlighter.parseOptions=function(defaults,options){this.showHighlight=true};$.jqplot.Highlighter.postPlotDraw=function(){if(this.plugins.highlighter&&this.plugins.highlighter.highlightCanvas){this.plugins.highlighter.highlightCanvas.resetCanvas();this.plugins.highlighter.highlightCanvas=null}if(this.plugins.highlighter&&!$.isEmptyObject(this.plugins.highlighter._tooltipElems))for(var i in this.plugins.highlighter._tooltipElems)if(this.plugins.highlighter._tooltipElems[i]){this.plugins.highlighter._tooltipElems[i].emptyForce();
this.plugins.highlighter._tooltipElems[i]=null}this.plugins.highlighter.highlightCanvas=new $.jqplot.GenericCanvas;this.eventCanvas._elem.before(this.plugins.highlighter.highlightCanvas.createElement(this._gridPadding,"jqplot-highlight-canvas",this._plotDimensions,this));this.plugins.highlighter.highlightCanvas.setContext();for(var k=0;k<this.seriesStack.length;k++){var i=this.seriesStack[k];var elem=document.createElement("div");this.plugins.highlighter._tooltipElems[i]=$(elem);elem=null;this.plugins.highlighter._tooltipElems[i].addClass("jqplot-highlighter-tooltip");
this.plugins.highlighter._tooltipElems[i].css({position:"absolute",display:"none"});this.eventCanvas._elem.before(this.plugins.highlighter._tooltipElems[i])}};$.jqplot.preInitHooks.push($.jqplot.Highlighter.init);$.jqplot.preParseSeriesOptionsHooks.push($.jqplot.Highlighter.parseOptions);$.jqplot.postDrawHooks.push($.jqplot.Highlighter.postPlotDraw);function draw(plot,neighbor){var hl=plot.plugins.highlighter;var s=plot.series[neighbor.seriesIndex];var smr=s.markerRenderer;var mr=hl.markerRenderer;
mr.style=smr.style;mr.lineWidth=smr.lineWidth+hl.lineWidthAdjust;mr.size=smr.size+hl.sizeAdjust;var rgba=$.jqplot.getColorComponents(smr.color);var newrgb=[rgba[0],rgba[1],rgba[2]];var alpha=rgba[3]>=0.6?rgba[3]*0.6:rgba[3]*(2-rgba[3]);mr.color="rgba("+newrgb[0]+","+newrgb[1]+","+newrgb[2]+","+alpha+")";mr.init();mr.draw(s.gridData[neighbor.pointIndex][0],s.gridData[neighbor.pointIndex][1],hl.highlightCanvas._ctx)}function showTooltip(plot,series,neighbor){var hl=plot.plugins.highlighter;var elem=
hl._tooltipElems[neighbor.seriesIndex];var serieshl=series.highlighter||{};var opts=$.extend(true,{},hl,serieshl);if(opts.useAxesFormatters){var xf=series._xaxis._ticks[0].formatter;var yf=series._yaxis._ticks[0].formatter;var xfstr=series._xaxis._ticks[0].formatString;var yfstr=series._yaxis._ticks[0].formatString;var str;var xstr=xf(xfstr,neighbor.data[0]);var ystrs=[];for(var i=1;i<opts.yvalues+1;i++)ystrs.push(yf(yfstr,neighbor.data[i]));if(typeof opts.formatString==="string")switch(opts.tooltipAxes){case "both":case "xy":ystrs.unshift(xstr);
ystrs.unshift(opts.formatString);str=$.jqplot.sprintf.apply($.jqplot.sprintf,ystrs);break;case "yx":ystrs.push(xstr);ystrs.unshift(opts.formatString);str=$.jqplot.sprintf.apply($.jqplot.sprintf,ystrs);break;case "x":str=$.jqplot.sprintf.apply($.jqplot.sprintf,[opts.formatString,xstr]);break;case "y":ystrs.unshift(opts.formatString);str=$.jqplot.sprintf.apply($.jqplot.sprintf,ystrs);break;default:ystrs.unshift(xstr);ystrs.unshift(opts.formatString);str=$.jqplot.sprintf.apply($.jqplot.sprintf,ystrs);
break}else switch(opts.tooltipAxes){case "both":case "xy":str=xstr;for(var i=0;i<ystrs.length;i++)str+=opts.tooltipSeparator+ystrs[i];break;case "yx":str="";for(var i=0;i<ystrs.length;i++)str+=ystrs[i]+opts.tooltipSeparator;str+=xstr;break;case "x":str=xstr;break;case "y":str=ystrs.join(opts.tooltipSeparator);break;default:str=xstr;for(var i=0;i<ystrs.length;i++)str+=opts.tooltipSeparator+ystrs[i];break}}else{var str;if(typeof opts.formatString==="string")str=$.jqplot.sprintf.apply($.jqplot.sprintf,
[opts.formatString].concat(neighbor.data));else if(opts.tooltipAxes=="both"||opts.tooltipAxes=="xy")str=$.jqplot.sprintf(opts.tooltipFormatString,neighbor.data[0])+opts.tooltipSeparator+$.jqplot.sprintf(opts.tooltipFormatString,neighbor.data[1]);else if(opts.tooltipAxes=="yx")str=$.jqplot.sprintf(opts.tooltipFormatString,neighbor.data[1])+opts.tooltipSeparator+$.jqplot.sprintf(opts.tooltipFormatString,neighbor.data[0]);else if(opts.tooltipAxes=="x")str=$.jqplot.sprintf(opts.tooltipFormatString,neighbor.data[0]);
else if(opts.tooltipAxes=="y")str=$.jqplot.sprintf(opts.tooltipFormatString,neighbor.data[1])}if($.isFunction(opts.tooltipContentEditor))str=opts.tooltipContentEditor(str,neighbor.seriesIndex,neighbor.pointIndex,plot);elem.html(str);var gridpos={x:neighbor.gridData[0],y:neighbor.gridData[1]};var ms=0;var fact=0.707;if(series.markerRenderer.show==true)ms=(series.markerRenderer.size+opts.sizeAdjust)/2;var loc=locations;if(series.fillToZero&&series.fill&&neighbor.data[1]<0)loc=oppositeLocations;switch(loc[locationIndicies[opts.tooltipLocation]]){case "nw":var x=
gridpos.x+plot._gridPadding.left-elem.outerWidth(true)-opts.tooltipOffset-fact*ms;var y=gridpos.y+plot._gridPadding.top-opts.tooltipOffset-elem.outerHeight(true)-fact*ms;break;case "n":var x=gridpos.x+plot._gridPadding.left-elem.outerWidth(true)/2;var y=gridpos.y+plot._gridPadding.top-opts.tooltipOffset-elem.outerHeight(true)-ms;break;case "ne":var x=gridpos.x+plot._gridPadding.left+opts.tooltipOffset+fact*ms;var y=gridpos.y+plot._gridPadding.top-opts.tooltipOffset-elem.outerHeight(true)-fact*ms;
break;case "e":var x=gridpos.x+plot._gridPadding.left+opts.tooltipOffset+ms;var y=gridpos.y+plot._gridPadding.top-elem.outerHeight(true)/2;break;case "se":var x=gridpos.x+plot._gridPadding.left+opts.tooltipOffset+fact*ms;var y=gridpos.y+plot._gridPadding.top+opts.tooltipOffset+fact*ms;break;case "s":var x=gridpos.x+plot._gridPadding.left-elem.outerWidth(true)/2;var y=gridpos.y+plot._gridPadding.top+opts.tooltipOffset+ms;break;case "sw":var x=gridpos.x+plot._gridPadding.left-elem.outerWidth(true)-
opts.tooltipOffset-fact*ms;var y=gridpos.y+plot._gridPadding.top+opts.tooltipOffset+fact*ms;break;case "w":var x=gridpos.x+plot._gridPadding.left-elem.outerWidth(true)-opts.tooltipOffset-ms;var y=gridpos.y+plot._gridPadding.top-elem.outerHeight(true)/2;break;default:var x=gridpos.x+plot._gridPadding.left-elem.outerWidth(true)-opts.tooltipOffset-fact*ms;var y=gridpos.y+plot._gridPadding.top-opts.tooltipOffset-elem.outerHeight(true)-fact*ms;break}elem.css("left",x);elem.css("top",y);if(opts.fadeTooltip)elem.stop(true,
true).fadeIn(opts.tooltipFadeSpeed);else elem.show();elem=null}function handleMove(ev,gridpos,datapos,neighbor,plot){var hl=plot.plugins.highlighter;var c=plot.plugins.cursor;if(hl.show)if(neighbor==null&&hl.isHighlighting){var evt=jQuery.Event("jqplotHighlighterUnhighlight");plot.target.trigger(evt);var ctx=hl.highlightCanvas._ctx;ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height);if(hl.fadeTooltip)for(var i in hl._tooltipElems)hl._tooltipElems[i].fadeOut(hl.tooltipFadeSpeed);else for(var i in hl._tooltipElems)hl._tooltipElems[i].hide();
if(hl.bringSeriesToFront)plot.restorePreviousSeriesOrder();hl.isHighlighting=false;hl.currentNeighbor=null;ctx=null}else if(neighbor!=null&&plot.series[neighbor.seriesIndex].showHighlight&&!hl.isHighlighting){var evt=jQuery.Event("jqplotHighlighterHighlight");evt.which=ev.which;evt.pageX=ev.pageX;evt.pageY=ev.pageY;var ins=[neighbor.seriesIndex,neighbor.pointIndex,neighbor.data,plot];plot.target.trigger(evt,ins);hl.isHighlighting=true;hl.currentNeighbor=neighbor;if(hl.showMarker)draw(plot,neighbor);
if(hl.showTooltip&&(!c||!c._zoom.started))showTooltip(plot,plot.series[neighbor.seriesIndex],neighbor);if(hl.bringSeriesToFront)plot.moveSeriesToFront(neighbor.seriesIndex)}else if(neighbor!=null&&hl.isHighlighting&&hl.currentNeighbor!=neighbor)if(plot.series[neighbor.seriesIndex].showHighlight){var un_evt=jQuery.Event("jqplotHighlighterUnhighlight");plot.target.trigger(un_evt);var evt=jQuery.Event("jqplotHighlighterHighlight");evt.which=ev.which;evt.pageX=ev.pageX;evt.pageY=ev.pageY;var ins=[neighbor.seriesIndex,
neighbor.pointIndex,neighbor.data,plot];plot.target.trigger(evt,ins);var ctx=hl.highlightCanvas._ctx;ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height);hl.isHighlighting=true;hl.currentNeighbor=neighbor;if(hl.showMarker)draw(plot,neighbor);if(hl.showTooltip&&(!c||!c._zoom.started))showTooltip(plot,plot.series[neighbor.seriesIndex],neighbor);if(hl.bringSeriesToFront)plot.moveSeriesToFront(neighbor.seriesIndex)}}})(jQuery);
(function($){$.jqplot.EnhancedLegendRenderer=function(){$.jqplot.TableLegendRenderer.call(this)};$.jqplot.EnhancedLegendRenderer.prototype=new $.jqplot.TableLegendRenderer;$.jqplot.EnhancedLegendRenderer.prototype.constructor=$.jqplot.EnhancedLegendRenderer;$.jqplot.EnhancedLegendRenderer.prototype.init=function(options){this.numberRows=null;this.numberColumns=null;this.seriesToggle="normal";this.seriesToggleReplot=false;this.disableIEFading=true;$.extend(true,this,options);if(this.seriesToggle)$.jqplot.postDrawHooks.push(postDraw)};
$.jqplot.EnhancedLegendRenderer.prototype.draw=function(offsets,plot){var legend=this;if(this.show){var series=this._series;var s;var ss="position:absolute;";ss+=this.background?"background:"+this.background+";":"";ss+=this.border?"border:"+this.border+";":"";ss+=this.fontSize?"font-size:"+this.fontSize+";":"";ss+=this.fontFamily?"font-family:"+this.fontFamily+";":"";ss+=this.textColor?"color:"+this.textColor+";":"";ss+=this.marginTop!=null?"margin-top:"+this.marginTop+";":"";ss+=this.marginBottom!=
null?"margin-bottom:"+this.marginBottom+";":"";ss+=this.marginLeft!=null?"margin-left:"+this.marginLeft+";":"";ss+=this.marginRight!=null?"margin-right:"+this.marginRight+";":"";this._elem=$('<table class="jqplot-table-legend" style="'+ss+'"></table>');if(this.seriesToggle)this._elem.css("z-index","3");var pad=false,reverse=false,nr,nc;if(this.numberRows){nr=this.numberRows;if(!this.numberColumns)nc=Math.ceil(series.length/nr);else nc=this.numberColumns}else if(this.numberColumns){nc=this.numberColumns;
nr=Math.ceil(series.length/this.numberColumns)}else{nr=series.length;nc=1}var i,j,tr,td1,td2,lt,rs,div,div0,div1;var idx=0;for(i=series.length-1;i>=0;i--)if(nc==1&&series[i]._stack||series[i].renderer.constructor==$.jqplot.BezierCurveRenderer)reverse=true;for(i=0;i<nr;i++){tr=$(document.createElement("tr"));tr.addClass("jqplot-table-legend");if(reverse)tr.prependTo(this._elem);else tr.appendTo(this._elem);for(j=0;j<nc;j++){if(idx<series.length&&(series[idx].show||series[idx].showLabel)){s=series[idx];
lt=this.labels[idx]||s.label.toString();if(lt){var color=s.color;if(!reverse)if(i>0)pad=true;else pad=false;else if(i==nr-1)pad=false;else pad=true;rs=pad?this.rowSpacing:"0";td1=$(document.createElement("td"));td1.addClass("jqplot-table-legend jqplot-table-legend-swatch");td1.css({textAlign:"center",paddingTop:rs});div0=$(document.createElement("div"));div0.addClass("jqplot-table-legend-swatch-outline");div1=$(document.createElement("div"));div1.addClass("jqplot-table-legend-swatch");div1.css({backgroundColor:color,
borderColor:color});td1.append(div0.append(div1));td2=$(document.createElement("td"));td2.addClass("jqplot-table-legend jqplot-table-legend-label");td2.css("paddingTop",rs);if(this.escapeHtml)td2.text(lt);else td2.html(lt);if(reverse){if(this.showLabels)td2.prependTo(tr);if(this.showSwatches)td1.prependTo(tr)}else{if(this.showSwatches)td1.appendTo(tr);if(this.showLabels)td2.appendTo(tr)}if(this.seriesToggle){var speed;if(typeof this.seriesToggle==="string"||typeof this.seriesToggle==="number")if(!$.jqplot.use_excanvas||
!this.disableIEFading)speed=this.seriesToggle;if(this.showSwatches){td1.bind("click",{series:s,speed:speed,plot:plot,replot:this.seriesToggleReplot},handleToggle);td1.addClass("jqplot-seriesToggle")}if(this.showLabels){td2.bind("click",{series:s,speed:speed,plot:plot,replot:this.seriesToggleReplot},handleToggle);td2.addClass("jqplot-seriesToggle")}if(!s.show&&s.showLabel){td1.addClass("jqplot-series-hidden");td2.addClass("jqplot-series-hidden")}}pad=true}}idx++}td1=td2=div0=div1=null}}return this._elem};
var handleToggle=function(ev){var d=ev.data,s=d.series,replot=d.replot,plot=d.plot,speed=d.speed,sidx=s.index,showing=false;if(s.canvas._elem.is(":hidden")||!s.show)showing=true;var doLegendToggle=function(){if(replot){var opts={};if($.isPlainObject(replot))$.extend(true,opts,replot);plot.replot(opts);if(showing&&speed){var s=plot.series[sidx];if(s.shadowCanvas._elem)s.shadowCanvas._elem.hide().fadeIn(speed);s.canvas._elem.hide().fadeIn(speed);s.canvas._elem.nextAll(".jqplot-point-label.jqplot-series-"+
s.index).hide().fadeIn(speed)}}else{var s=plot.series[sidx];if(s.canvas._elem.is(":hidden")||!s.show){if(typeof plot.options.legend.showSwatches==="undefined"||plot.options.legend.showSwatches===true)plot.legend._elem.find("td").eq(sidx*2).addClass("jqplot-series-hidden");if(typeof plot.options.legend.showLabels==="undefined"||plot.options.legend.showLabels===true)plot.legend._elem.find("td").eq(sidx*2+1).addClass("jqplot-series-hidden")}else{if(typeof plot.options.legend.showSwatches==="undefined"||
plot.options.legend.showSwatches===true)plot.legend._elem.find("td").eq(sidx*2).removeClass("jqplot-series-hidden");if(typeof plot.options.legend.showLabels==="undefined"||plot.options.legend.showLabels===true)plot.legend._elem.find("td").eq(sidx*2+1).removeClass("jqplot-series-hidden")}}};s.toggleDisplay(ev,doLegendToggle)};var postDraw=function(){if(this.legend.renderer.constructor==$.jqplot.EnhancedLegendRenderer&&this.legend.seriesToggle){var e=this.legend._elem.detach();this.eventCanvas._elem.after(e)}}})(jQuery);
(function($){$.jqplot.VertCursor=function(options){this.show=$.jqplot.config.enablePlugins;this.shapeRenderer=new $.jqplot.ShapeRenderer;this.shapeRenderer.init(options.rendererOptions);this.props={"xaxis":{},"yaxis":{}};this.props.xaxis.activeCursors=0;this.props.yaxis.activeCursors=0;this.props.xaxis._cursors=[-1,-1];this.props.yaxis._cursors=[-1,-1];this.props.xaxis._cursorValues=[NaN,NaN];this.props.yaxis._cursorValues=[NaN,NaN];this.props.xaxis.cursors=[NaN,NaN];this.props.yaxis.cursors=[NaN,
NaN];this.isDragging=false;this.draggedCursor=null;this.loadedCursors=false;this._handleWidth=4;this._handleHeight=20;this._initialOffset=10;this._tooltipElem;this.tooltipOffset=10;this.mathTraces={average:[],RMS:[],integral:[]};this.plotType="default";$.extend(true,this,options)};$.jqplot.VertCursor.preInit=function(target,data,opts){var options=opts||{};this.plugins.vertCursor=new $.jqplot.VertCursor(options.vertCursor);this.eventListenerHooks.add("jqplotMouseMove",this.plugins.vertCursor.handleMouseMove);
this.eventListenerHooks.add("jqplotMouseLeave",this.plugins.vertCursor.handleMouseLeave);this.eventListenerHooks.add("jqplotMouseDown",this.plugins.vertCursor.handleMouseDown);this.eventListenerHooks.add("jqplotMouseUp",this.plugins.vertCursor.handleMouseUp);$.jqplot.eventListenerHooks.push(["jqplotMouseDown",this.plugins.vertCursor.handleGlobalMouseDown]);var plot=this;$(document).on("circuitlab.requestUpdateCursorToolTip",function(){var c=plot.plugins.vertCursor.props["xaxis"];if(c._cursors[0]==
-1&&c._cursors[1]==-1){var width=plot.plugins.vertCursor.vertCursorCanvas._ctx.canvas.width;c._cursors[0]=1;c._cursors[1]=width-1;c._cursorValues[0]=plot.axes.xaxis.series_p2u(c._cursors[0]);c._cursorValues[1]=plot.axes.xaxis.series_p2u(c._cursors[1]);c.activeCursors=2}updateTooltip(plot)})};$.jqplot.VertCursor.postInit=function(target,data,opts){this.target.on("jqplotZoom",this.plugins.vertCursor.handleZoom);this.target.on("jqplotResetZoom",this.plugins.vertCursor.handleResetZoom)};$.jqplot.VertCursor.parseOptions=
function(defaults,options){};$.jqplot.VertCursor.postPlotDraw=function(){if(this.plugins.vertCursor&&this.plugins.vertCursor.vertCursorCanvas){this.plugins.vertCursor.vertCursorCanvas.resetCanvas();this.plugins.vertCursor.vertCursorCanvas=null}if(this.plugins.vertCursor._tooltipElem){this.plugins.vertCursor._tooltipElem.emptyForce();this.plugins.vertCursor._tooltipElem=null}var vc=this.plugins.vertCursor;vc.vertCursorCanvas=new $.jqplot.GenericCanvas;this.eventCanvas._elem.before(vc.vertCursorCanvas.createElement(this._gridPadding,
"jqplot-vertcursor-canvas",this._plotDimensions,this));vc.vertCursorCanvas.setContext();var elem=document.createElement("div");vc._tooltipElem=$(elem);elem=null;vc._tooltipElem.addClass("jqplot-vertcursor-tooltip");vc._tooltipElem.css({position:"absolute"});this.eventCanvas._elem.after(vc._tooltipElem);positionTooltip(this);if(!vc.loadedCursors){for(var dir in vc.props){var canvas_size=dir=="xaxis"?vc.vertCursorCanvas._ctx.canvas.width:vc.vertCursorCanvas._ctx.canvas.height;for(var i=0;i<vc.props[dir]._cursors.length;i++){if(vc.props[dir].cursors[i]==
null)vc.props[dir].cursors[i]=NaN;var pos=this.axes[dir].series_u2p(vc.props[dir].cursors[i]);if(pos>0&&pos<canvas_size){vc.props[dir]._cursors[i]=pos;vc.props[dir]._cursorValues[i]=vc.props[dir].cursors[i];vc.props[dir].activeCursors+=1}}}vc.loadedCursors=true}updateTooltip(this);drawLines(this,false,false,false,vc.rendererOptions)};$.jqplot.preInitHooks.push($.jqplot.VertCursor.preInit);$.jqplot.postInitHooks.push($.jqplot.VertCursor.postInit);$.jqplot.preParseSeriesOptionsHooks.push($.jqplot.VertCursor.parseOptions);
$.jqplot.postDrawHooks.push($.jqplot.VertCursor.postPlotDraw);function positionTooltip(plot){var grid=plot._gridPadding;var vc=plot.plugins.vertCursor;var elem=vc._tooltipElem;var x=grid.left+vc.tooltipOffset;var y=grid.bottom+vc.tooltipOffset;elem.css({"left":x,"bottom":y});elem=null}function axisFormatter(plot,axis,val,customFormatString){var axisTick=plot.axes[axis]._ticks[0];if(customFormatString==null||customFormatString==undefined)customFormatString=axisTick.formatString;return axisTick["formatter"](customFormatString,
val)}function calculateAverage(ldataindex,rdataindex,series){var s=series;var relevantData=s.data.slice(ldataindex,rdataindex);var integral=calculateIntegral(ldataindex,rdataindex,series);var delta_t=relevantData[relevantData.length-1][0]-relevantData[0][0];return integral/delta_t}function calculateRMS(ldataindex,rdataindex,series){var s=series;var relevantData=s.data.slice(ldataindex,rdataindex);var totalSquared=calculateIntegral(ldataindex,rdataindex,series,function(a){return Math.pow(a,2)});var deltaT=
relevantData[relevantData.length-1][0]-relevantData[0][0];return Math.sqrt(totalSquared/deltaT)}function calculateIntegral(ldataindex,rdataindex,series,func){if(func==null||func==undefined)func=function(a){return a};var s=series;var relevantData=s.data.slice(ldataindex,rdataindex);var integral=relevantData.reduce(function(a,b,i,array){if(i==0)return 0;else return a+(array[i][0]-array[i-1][0])*(func(array[i][1])+func(array[i-1][1]))/2},0);return integral}function getCursorUnitPosition(plot){var xAxis=
plot.axes["xaxis"];var unitPos1=xAxis.series_p2u(vc.props["xaxis"]._cursors[0]);var unitPos2=xAxis.series_p2u(vc.props["xaxis"]._cursors[1]);return{lunitpos:Math.min(unitPos1,unitPos2),runitpos:Math.max(unitPos1,unitPos2)}}function getCursorUnitIndex(plot){var vc=plot.plugins.vertCursor;var index1=findNeighbors({x:vc.props["xaxis"]._cursors[0],y:0},plot)[0].pointIndex;var index2=findNeighbors({x:vc.props["xaxis"]._cursors[1],y:0},plot)[0].pointIndex;return{lindex:Math.min(index1,index2),rindex:Math.max(index1,
index2)}}function generateToolTipMathDiv(plot,trace,mathFuncLabel){var dataIndexes=getCursorUnitIndex(plot);for(var k=0;k<plot.series.length;k++){var s=plot.series[k];var content="";if(s.label==trace){var mathContainer=$("<div class='cursorLegend cursorLegend_"+trace+"'></div>");mathContainer.css("width","100%");mathContainer.css("clear","both");var text=$("<div class='cursorLegendText'></div>");text.css("float","left");var closeButtonWrapper=$("<div></div>").css({"height":"15px","width":"15px","float":"left"});
var closeButton=$("<a href='#'><i class='icon-remove-sign'></i></a>");closeButtonWrapper.append(closeButton);mathContainer.append(createSwatch(s.color),text);if(mathFuncLabel=="average"){content+="Average: ";content+=axisFormatter(plot,s.yaxis,calculateAverage(dataIndexes.lindex,dataIndexes.rindex,s))}else if(mathFuncLabel=="RMS"){content+="RMS: ";content+=axisFormatter(plot,s.yaxis,calculateRMS(dataIndexes.lindex,dataIndexes.rindex,s))}else if(mathFuncLabel=="integral"){content+="Integral: ";content+=
axisFormatter(plot,s.yaxis,calculateIntegral(dataIndexes.lindex,dataIndexes.rindex,s))+"*s"}text.html(content);mathContainer.append(closeButtonWrapper);closeButton.hide();mathContainer.on("mouseenter",function(){closeButton.show()});mathContainer.on("mouseleave",function(){closeButton.hide()});closeButton.on("click",function(e){var vc=plot.plugins.vertCursor;var traceIndex=vc.mathTraces.average.indexOf(trace);vc.mathTraces[mathFuncLabel].splice(traceIndex,1);updateTooltip(plot);e.preventDefault()});
return mathContainer}}}function updateTooltip(plot){var vc=plot.plugins.vertCursor;var elem=vc._tooltipElem;elem.empty();var content;if(vc.show){for(var dir in vc.props){var c=vc.props[dir];var delta_line=$("<div class='cursorLegendText cursorLegend_delta"+dir[0]+"'></div>");elem.append(delta_line);var axis=plot.axes[dir];var ldata=axis.series_p2u(c._cursors[0]);var rdata=axis.series_p2u(c._cursors[1]);var label=dir=="xaxis"?"X":"Y";if(vc.plotType=="time"&&dir=="xaxis")label="T";if(c._cursors[0]>
-1&&c._cursors[1]>-1){if(label=="T"){var delta_t=Math.abs(rdata-ldata);var l=label+"1: "+axisFormatter(plot,dir,ldata)+"&nbsp;&nbsp;&nbsp;&nbsp;"+label+"2: "+axisFormatter(plot,dir,rdata)+"<br/>";l+="&#916;"+label+": "+axisFormatter(plot,dir,delta_t);if(delta_t!=0)l+="&nbsp;&nbsp;&nbsp;&nbsp;&#916;1/T: "+axisFormatter(plot,dir,1/delta_t,"Hz");delta_line.html(l)}else delta_line.html("&#916;"+label+": "+axisFormatter(plot,dir,Math.abs(rdata-ldata))+"&nbsp;&nbsp;&nbsp;&nbsp;"+label+"1: "+axisFormatter(plot,
dir,ldata)+"&nbsp;&nbsp;&nbsp;&nbsp;"+label+"2: "+axisFormatter(plot,dir,rdata));if(dir=="yaxis"&&plot.axes["y2axis"].show){var y2_delta=$("<div class='cursorLegendText cursorLegend_deltay2'></div>");var data1=plot.axes["y2axis"].series_p2u(c._cursors[0]);var data2=plot.axes["y2axis"].series_p2u(c._cursors[1]);y2_delta.html("&#916;"+label+": "+axisFormatter(plot,"y2axis",Math.abs(data1-data2))+"&nbsp;&nbsp;&nbsp;&nbsp;"+label+"1: "+axisFormatter(plot,"y2axis",data1)+"&nbsp;&nbsp;&nbsp;&nbsp;"+label+
"2: "+axisFormatter(plot,"y2axis",data2));elem.append(y2_delta)}}else if(c._cursors[0]>-1||c._cursors[1]>-1){var content="";content+="&#916;"+label+": &#8212;";if(c._cursors[0]>-1)content+="&nbsp;&nbsp;&nbsp;&nbsp;"+label+"1: "+axisFormatter(plot,dir,ldata);else content+="&nbsp;&nbsp;&nbsp;&nbsp;"+label+"1: &#8212;";if(c._cursors[1]>-1)content+="&nbsp;&nbsp;&nbsp;&nbsp;"+label+"2: "+axisFormatter(plot,dir,rdata)+"<br />";else content+="&nbsp;&nbsp;&nbsp;&nbsp;"+label+"2: &#8212;<br />";delta_line.html(content)}}if(vc.plotType==
"time"&&vc.props.xaxis._cursors[0]>-1&&vc.props.xaxis._cursors[1]>-1)$.each(vc.mathTraces,function(mathFunc,traces){for(var i=0;i<traces.length;i++)elem.append(generateToolTipMathDiv(plot,traces[i],mathFunc));if(traces.length>0)elem.append($("<div></div>").css("clear","both"))});elem.hide();elem.children("div").each(function(){if(!$(this).is(":empty")){elem.show();return false}})}else elem.hide();elem=null}function createSwatch(color){var swatch=$("<div class='jqplot-table-legend-swatch' style='float:left;margin-top:0.35em;margin-right:2px;'></div>");
swatch.css({"background-color":color,"border-color":color});return swatch}function findNeighbors(gridpos,plot){var neighbors={};var series=plot.series;var x=gridpos.x,y=gridpos.y;for(var k=plot.seriesStack.length-1;k>=0;k--){var i=plot.seriesStack[k];var s=series[i];var d0=null,i0,j0,p0;for(var j=0;j<s.gridData.length;j++){var p=s.gridData[j];if(p[0]!=null&&p[1]!=null){var d=Math.sqrt((x-p[0])*(x-p[0])*2);if(d0==null||d<=d0){d0=d;i0=i;j0=j;p0=p}}}if(d0!=null)neighbors[i0]={seriesIndex:i0,pointIndex:j0,
gridData:p0,data:s.data[j0]}}return neighbors}function checkHandleBoundingBox(plot,pos){var vc=plot.plugins.vertCursor;var c=vc.props["xaxis"];var center=vc.vertCursorCanvas._ctx.canvas.height/2;for(var i=0;i<c._cursors.length;i++)if(c._cursors[i]>-1&&pos.x>=c._cursors[i]-vc._handleWidth&&pos.x<=c._cursors[i]+vc._handleWidth)return["xaxis",i];c=vc.props["yaxis"];center=vc.vertCursorCanvas._ctx.canvas.width/2;for(var i=0;i<c._cursors.length;i++)if(c._cursors[i]>-1&&pos.y>=c._cursors[i]-vc._handleWidth&&
pos.y<=c._cursors[i]+vc._handleWidth)return["yaxis",i];return null}function checkSideBarBoundingBox(plot,pos){var vc=plot.plugins.vertCursor;return pos.x<=vc._initialOffset+vc._handleWidth||pos.x>=vc.vertCursorCanvas._ctx.canvas.width-vc._initialOffset-vc._handleWidth}function checkTopBotBarBoundingBox(plot,pos){var vc=plot.plugins.vertCursor;return pos.y<=vc._initialOffset+vc._handleWidth||pos.y>=vc.vertCursorCanvas._ctx.canvas.height-vc._initialOffset-vc._handleWidth}function getNumOffScreenCursors(plot,
dir){var n=0;var vc=plot.plugins.vertCursor;var screen_size=dir=="xaxis"?vc.vertCursorCanvas._ctx.canvas.width:vc.vertCursorCanvas._ctx.canvas.height;for(var i=0;i<vc.props[dir]._cursors.length;i++){var new_pos=plot.axes[dir].series_u2p(vc.props[dir]._cursorValues[i]);if(!isNaN(vc.props[dir]._cursorValues[i])&&(new_pos<=0||new_pos>=screen_size))n++}return n}function drawLines(plot,withHandles,withSideBars,withTopBotBars,options){var vc=plot.plugins.vertCursor;if(vc.show){var ctx=vc.vertCursorCanvas._ctx;
var center_height=ctx.canvas.height/2;var center_width=ctx.canvas.width/2;var opts={"fill":true,"closePath":true,"strokeStyle":options.strokeStyle,"fillStyle":options.strokeStyle};for(var dir in vc.props)for(var i=0;i<vc.props[dir]._cursors.length;i++){var pos=vc.props[dir]._cursors[i];if(pos>-1&&dir=="xaxis")vc.shapeRenderer.draw(ctx,[[pos,0],[pos,ctx.canvas.height]],options);else if(pos>-1&&dir=="yaxis")vc.shapeRenderer.draw(ctx,[[0,pos],[ctx.canvas.width,pos]],options);if(withHandles&&pos>-1&&
dir=="xaxis")vc.shapeRenderer.draw(ctx,[[pos-vc._handleWidth,center_height-vc._handleHeight],[pos+vc._handleWidth,center_height-vc._handleHeight],[pos+vc._handleWidth,center_height+vc._handleHeight],[pos-vc._handleWidth,center_height+vc._handleHeight]],opts);else if(withHandles&&pos>-1&&dir=="yaxis")vc.shapeRenderer.draw(ctx,[[center_width-vc._handleHeight,pos-vc._handleWidth],[center_width-vc._handleHeight,pos+vc._handleWidth],[center_width+vc._handleHeight,pos+vc._handleWidth],[center_width+vc._handleHeight,
pos-vc._handleWidth]],opts)}if(withSideBars){var left=vc._initialOffset;var right=ctx.canvas.width-vc._initialOffset;vc.shapeRenderer.draw(ctx,[[left,0],[left,ctx.canvas.height]],options);vc.shapeRenderer.draw(ctx,[[right,0],[right,ctx.canvas.height]],options);vc.shapeRenderer.draw(ctx,[[left-vc._handleWidth,center_height-vc._handleHeight],[left+vc._handleWidth,center_height-vc._handleHeight],[left+vc._handleWidth,center_height+vc._handleHeight],[left-vc._handleWidth,center_height+vc._handleHeight]],
opts);vc.shapeRenderer.draw(ctx,[[right-vc._handleWidth,center_height-vc._handleHeight],[right+vc._handleWidth,center_height-vc._handleHeight],[right+vc._handleWidth,center_height+vc._handleHeight],[right-vc._handleWidth,center_height+vc._handleHeight]],opts)}if(withTopBotBars){var top=vc._initialOffset;var bot=ctx.canvas.height-vc._initialOffset;vc.shapeRenderer.draw(ctx,[[0,top],[ctx.canvas.width,top]],options);vc.shapeRenderer.draw(ctx,[[0,bot],[ctx.canvas.width,bot]],options);vc.shapeRenderer.draw(ctx,
[[center_width-vc._handleHeight,top-vc._handleWidth],[center_width-vc._handleHeight,top+vc._handleWidth],[center_width+vc._handleHeight,top+vc._handleWidth],[center_width+vc._handleHeight,top-vc._handleWidth]],opts);vc.shapeRenderer.draw(ctx,[[center_width-vc._handleHeight,bot-vc._handleWidth],[center_width-vc._handleHeight,bot+vc._handleWidth],[center_width+vc._handleHeight,bot+vc._handleWidth],[center_width+vc._handleHeight,bot-vc._handleWidth]],opts)}ctx=null}}$.jqplot.VertCursor.prototype.redraw=
function(plot){var vc=plot.plugins.vertCursor;var ctx=vc.vertCursorCanvas._ctx;ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height);drawLines(plot,false,false,false,vc.rendererOptions);updateTooltip(plot);ctx=null};$.jqplot.VertCursor.prototype.handleMouseMove=function(ev,gridpos,datapos,neighbor,plot){var vc=plot.plugins.vertCursor;if(vc.show){var ctx=vc.vertCursorCanvas._ctx;if(vc.isDragging){if(vc.draggedCursor!=null&&vc.draggedCursor[0]=="xaxis"){vc.props["xaxis"]._cursors[vc.draggedCursor[1]]=
gridpos.x;vc.props["xaxis"]._cursorValues[vc.draggedCursor[1]]=plot.axes["xaxis"].series_p2u(gridpos.x)}else if(vc.draggedCursor!=null&&vc.draggedCursor[0]=="yaxis"){vc.props["yaxis"]._cursors[vc.draggedCursor[1]]=gridpos.y;vc.props["yaxis"]._cursorValues[vc.draggedCursor[1]]=plot.axes["yaxis"].series_p2u(gridpos.y)}ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height);drawLines(plot,true,false,false,vc.rendererOptions);updateTooltip(plot)}else{var showHandles=false,showSideBars=false,showTopBotBars=
false;if(checkHandleBoundingBox(plot,gridpos)!=null)showHandles=true;if(vc.props["xaxis"].activeCursors<2&&checkSideBarBoundingBox(plot,gridpos))showSideBars=true;if(vc.props["yaxis"].activeCursors<2&&checkTopBotBarBoundingBox(plot,gridpos))showTopBotBars=true;ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height);drawLines(plot,showHandles,showSideBars,showTopBotBars,vc.rendererOptions)}ctx=null}};$.jqplot.VertCursor.prototype.handleGlobalMouseDown=function(ev,gridpos,datapos,neighbor,plot){var vc=
plot.plugins.vertCursor;if(vc.show)if(checkHandleBoundingBox(plot,gridpos)!=null||checkSideBarBoundingBox(plot,gridpos)&&vc.props["xaxis"].activeCursors<2||checkTopBotBarBoundingBox(plot,gridpos)&&vc.props["yaxis"].activeCursors<2)plot.plugins.cursor.ignoreMouseDown=true};$.jqplot.VertCursor.prototype.handleMouseDown=function(ev,gridpos,datapos,neighbor,plot){var vc=plot.plugins.vertCursor;var isThisPlot=plot.plugins.cursor.onGrid;if(vc.show){var selectedCursor=checkHandleBoundingBox(plot,gridpos);
if(selectedCursor!=null){if(selectedCursor[0]=="xaxis"||isThisPlot){vc.draggedCursor=selectedCursor;vc.isDragging=true}}else if(checkSideBarBoundingBox(plot,gridpos)&&getNumOffScreenCursors(plot,"xaxis")>0){var dir="xaxis";var c=vc.props[dir];var n=getNumOffScreenCursors(plot,dir);if(n==1&&c.activeCursors==0)vc.draggedCursor=[dir,isNaN(c._cursorValues[1])?1:0];else if(n==1&&c.activeCursors==1)vc.draggedCursor=[dir,c._cursors[0]>-1?1:0];else{var xpos1=plot.axes[dir].series_u2p(c._cursorValues[0]);
var xpos2=plot.axes[dir].series_u2p(c._cursorValues[1]);if(xpos1*xpos2>0)vc.draggedCursor=[dir,Math.abs(gridpos.x-xpos1)>Math.abs(gridpos.x-xpos2)?1:0];else vc.draggedCursor=[dir,xpos1*(gridpos.x-vc.vertCursorCanvas._ctx.canvas.width/2)>0?0:1]}c.activeCursors+=1;vc.isDragging=true}else if(checkTopBotBarBoundingBox(plot,gridpos)&&getNumOffScreenCursors(plot,"yaxis")>0&&isThisPlot){var dir="yaxis";var c=vc.props[dir];var n=getNumOffScreenCursors(plot,dir);if(n==1&&c.activeCursors==0)vc.draggedCursor=
[dir,isNaN(c._cursorValues[1])?1:0];else if(n==1&&c.activeCursors==1)vc.draggedCursor=[dir,c._cursors[0]>-1?1:0];else{var xpos1=plot.axes[dir].series_u2p(c._cursorValues[0]);var xpos2=plot.axes[dir].series_u2p(c._cursorValues[1]);if(xpos1*xpos2>0)vc.draggedCursor=[dir,Math.abs(gridpos.y-xpos1)>Math.abs(gridpos.y-xpos2)?1:0];else vc.draggedCursor=[dir,xpos1*(gridpos.y-vc.vertCursorCanvas._ctx.canvas.height/2)>0?0:1]}c.activeCursors+=1;vc.isDragging=true}else if(checkSideBarBoundingBox(plot,gridpos)&&
vc.props["xaxis"].activeCursors<2){vc.draggedCursor=["xaxis",vc.props["xaxis"]._cursors[0]>-1?1:0];vc.props["xaxis"].activeCursors+=1;vc.isDragging=true}else if(checkTopBotBarBoundingBox(plot,gridpos)&&vc.props["yaxis"].activeCursors<2&&isThisPlot){vc.draggedCursor=["yaxis",vc.props["yaxis"]._cursors[0]>-1?1:0];vc.props["yaxis"].activeCursors+=1;vc.isDragging=true}}};$.jqplot.VertCursor.prototype.handleMouseUp=function(ev,gridpos,datapos,neighbor,plot){var vc=plot.plugins.vertCursor;if(vc.show)if(vc.isDragging){vc.isDragging=
false;vc.draggedCursor=null}};$.jqplot.VertCursor.prototype.handleMouseLeave=function(ev,gridpos,datapos,neighbor,plot){var vc=plot.plugins.vertCursor;if(vc.show){if(vc.isDragging){var c=vc.props[vc.draggedCursor[0]];vc.isDragging=false;c._cursors[vc.draggedCursor[1]]=-1;c._cursorValues[vc.draggedCursor[1]]=NaN;c.activeCursors-=1;vc.draggedCursor=null}vc.redraw(plot)}};$.jqplot.VertCursor.prototype.handleZoom=function(ev,gridpos,datapos,plot,cursor){var vc=plot.plugins.vertCursor;var ctx=vc.vertCursorCanvas._ctx;
for(var dir in vc.props){var c=vc.props[dir];var canvas_size=dir=="xaxis"?ctx.canvas.width:ctx.canvas.height;c.activeCursors=0;for(var i=0;i<c._cursors.length;i++){var new_pos=plot.axes[dir].series_u2p(c._cursorValues[i]);if(new_pos>0&&new_pos<canvas_size){c._cursors[i]=new_pos;c.activeCursors+=1}else c._cursors[i]=-1}}if(vc.show)vc.redraw(plot);ctx=null};$.jqplot.VertCursor.prototype.handleResetZoom=function(ev,plot,cursor){var vc=plot.plugins.vertCursor;for(var dir in vc.props){var c=vc.props[dir];
c.activeCursors=0;for(var i=0;i<c._cursors.length;i++)if(!isNaN(c._cursorValues[i])){c._cursors[i]=plot.axes[dir].series_u2p(c._cursorValues[i]);c.activeCursors+=1}}if(vc.show)vc.redraw(plot)};$.jqplot.VertCursor.prototype.setCursorShow=function(plot,show_flag){this.show=show_flag;this.redraw(plot)};$.jqplot.VertCursor.prototype.getCursors=function(plot){return{"xaxis":this.props["xaxis"]._cursorValues,"yaxis":this.props["yaxis"]._cursorValues}}})(jQuery);
(function($){$.jqplot.Cursor=function(options){this.style="crosshair";this.previousCursor="auto";this.show=$.jqplot.config.enablePlugins;this.showTooltip=true;this.followMouse=false;this.tooltipLocation="se";this.tooltipOffset=6;this.showTooltipGridPosition=false;this.showTooltipUnitPosition=true;this.showTooltipDataPosition=false;this.tooltipFormatString="%.4P, %.4P";this.useAxesFormatters=true;this.tooltipAxisGroups=[];this.zoom=false;this.zoomProxy=false;this.zoomTarget=false;this.looseZoom=true;
this.clickReset=false;this.dblClickReset=true;this.showVerticalLine=false;this.showHorizontalLine=false;this.constrainZoomTo="none";this.shapeRenderer=new $.jqplot.ShapeRenderer;this._zoom={start:[],end:[],started:false,zooming:false,isZoomed:false,axes:{start:{},end:{}},gridpos:{},datapos:{}};this._tooltipElem;this.zoomCanvas;this.cursorCanvas;this.intersectionThreshold=2;this.showCursorLegend=false;this.cursorLegendFormatString=$.jqplot.Cursor.cursorLegendFormatString;this._oldHandlers={onselectstart:null,
ondrag:null,onmousedown:null};this.constrainOutsideZoom=true;this.showTooltipOutsideZoom=false;this.onGrid=false;this.ignoreMouseDown=false;$.extend(true,this,options)};$.jqplot.Cursor.cursorLegendFormatString="%s x:%s, y:%s";$.jqplot.Cursor.init=function(target,data,opts){var options=opts||{};this.plugins.cursor=new $.jqplot.Cursor(options.cursor);var c=this.plugins.cursor;if(c.show){$.jqplot.eventListenerHooks.push(["jqplotMouseEnter",handleMouseEnter]);$.jqplot.eventListenerHooks.push(["jqplotMouseLeave",
handleMouseLeave]);$.jqplot.eventListenerHooks.push(["jqplotMouseMove",handleMouseMove]);if(c.showCursorLegend){opts.legend=opts.legend||{};opts.legend.renderer=$.jqplot.CursorLegendRenderer;opts.legend.formatString=this.plugins.cursor.cursorLegendFormatString;opts.legend.show=true}if(c.zoom){$.jqplot.eventListenerHooks.push(["jqplotMouseDown",handleMouseDown]);if(c.clickReset)$.jqplot.eventListenerHooks.push(["jqplotClick",handleClick]);if(c.dblClickReset)$.jqplot.eventListenerHooks.push(["jqplotDblClick",
handleDblClick])}this.resetZoom=function(){var axes=this.axes;if(!c.zoomProxy){for(var ax in axes){axes[ax].reset();axes[ax]._ticks=[];if(c._zoom.axes[ax]!==undefined)axes[ax]._autoFormatString=c._zoom.axes[ax].tickFormatString}this.redraw()}else{var ctx=this.plugins.cursor.zoomCanvas._ctx;ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height);ctx=null}this.plugins.cursor._zoom.isZoomed=false;this.target.trigger("jqplotResetZoom",[this,this.plugins.cursor])};if(c.showTooltipDataPosition){c.showTooltipUnitPosition=
false;c.showTooltipGridPosition=false;if(options.cursor.tooltipFormatString==undefined)c.tooltipFormatString=$.jqplot.Cursor.cursorLegendFormatString}}};$.jqplot.Cursor.postDraw=function(){var c=this.plugins.cursor;if(c.zoomCanvas){c.zoomCanvas.resetCanvas();c.zoomCanvas=null}if(c.cursorCanvas){c.cursorCanvas.resetCanvas();c.cursorCanvas=null}if(c._tooltipElem){c._tooltipElem.emptyForce();c._tooltipElem=null}if(c.zoom){c.zoomCanvas=new $.jqplot.GenericCanvas;this.eventCanvas._elem.before(c.zoomCanvas.createElement(this._gridPadding,
"jqplot-zoom-canvas",this._plotDimensions,this));c.zoomCanvas.setContext()}var elem=document.createElement("div");c._tooltipElem=$(elem);elem=null;c._tooltipElem.addClass("jqplot-cursor-tooltip");c._tooltipElem.css({position:"absolute",display:"none"});if(c.zoomCanvas)c.zoomCanvas._elem.before(c._tooltipElem);else this.eventCanvas._elem.before(c._tooltipElem);if(c.showVerticalLine||c.showHorizontalLine){c.cursorCanvas=new $.jqplot.GenericCanvas;this.eventCanvas._elem.before(c.cursorCanvas.createElement(this._gridPadding,
"jqplot-cursor-canvas",this._plotDimensions,this));c.cursorCanvas.setContext()}if(c.showTooltipUnitPosition)if(c.tooltipAxisGroups.length===0){var series=this.series;var s;var temp=[];for(var i=0;i<series.length;i++){s=series[i];var ax=s.xaxis+","+s.yaxis;if($.inArray(ax,temp)==-1)temp.push(ax)}for(var i=0;i<temp.length;i++)c.tooltipAxisGroups.push(temp[i].split(","))}};$.jqplot.Cursor.zoomProxy=function(targetPlot,controllerPlot){var tc=targetPlot.plugins.cursor;var cc=controllerPlot.plugins.cursor;
tc.zoomTarget=true;tc.zoom=true;tc.style="auto";tc.dblClickReset=false;cc.zoom=true;cc.zoomProxy=true;controllerPlot.target.bind("jqplotZoom",plotZoom);controllerPlot.target.bind("jqplotResetZoom",plotReset);function plotZoom(ev,gridpos,datapos,plot,cursor){tc.doZoom(gridpos,datapos,targetPlot,cursor)}function plotReset(ev,plot,cursor){targetPlot.resetZoom()}};$.jqplot.Cursor.prototype.resetZoom=function(plot,cursor){var axes=plot.axes;var cax=cursor._zoom.axes;if(!plot.plugins.cursor.zoomProxy&&
cursor._zoom.isZoomed){for(var ax in axes){axes[ax].reset();axes[ax]._ticks=[];axes[ax]._autoFormatString=cax[ax].tickFormatString}plot.redraw();cursor._zoom.isZoomed=false}else{var ctx=cursor.zoomCanvas._ctx;ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height);ctx=null}plot.target.trigger("jqplotResetZoom",[plot,cursor])};$.jqplot.Cursor.resetZoom=function(plot){plot.resetZoom()};$.jqplot.Cursor.prototype.doZoom=function(gridpos,datapos,plot,cursor){var c=cursor;var axes=plot.axes;var zaxes=c._zoom.axes;
var start=zaxes.start;var end=zaxes.end;var min,max,dp,span,newmin,newmax,curax,_numberTicks,ret;var ctx=plot.plugins.cursor.zoomCanvas._ctx;if(c.constrainZoomTo=="none"&&Math.abs(gridpos.x-c._zoom.start[0])>6&&Math.abs(gridpos.y-c._zoom.start[1])>6||c.constrainZoomTo=="x"&&Math.abs(gridpos.x-c._zoom.start[0])>6||c.constrainZoomTo=="y"&&Math.abs(gridpos.y-c._zoom.start[1])>6){if(!plot.plugins.cursor.zoomProxy){for(var ax in datapos){if(c._zoom.axes[ax]==undefined){c._zoom.axes[ax]={};c._zoom.axes[ax].numberTicks=
axes[ax].numberTicks;c._zoom.axes[ax].tickInterval=axes[ax].tickInterval;c._zoom.axes[ax].daTickInterval=axes[ax].daTickInterval;c._zoom.axes[ax].min=axes[ax].min;c._zoom.axes[ax].max=axes[ax].max;c._zoom.axes[ax].tickFormatString=axes[ax].tickOptions!=null?axes[ax].tickOptions.formatString:""}if(c.constrainZoomTo=="none"||c.constrainZoomTo=="x"&&ax.charAt(0)=="x"||c.constrainZoomTo=="y"&&ax.charAt(0)=="y"){dp=datapos[ax];if(dp!=null){if(dp>start[ax]){newmin=start[ax];newmax=dp}else{span=start[ax]-
dp;newmin=dp;newmax=start[ax]}curax=axes[ax];_numberTicks=null;if(curax.alignTicks)if(curax.name==="x2axis"&&plot.axes.xaxis.show)_numberTicks=plot.axes.xaxis.numberTicks;else if(curax.name.charAt(0)==="y"&&curax.name!=="yaxis"&&curax.name!=="yMidAxis"&&plot.axes.yaxis.show)_numberTicks=plot.axes.yaxis.numberTicks;if(this.looseZoom&&axes[ax].renderer.constructor===$.jqplot.LinearAxisRenderer){ret=$.jqplot.LinearTickGenerator(newmin,newmax,curax._scalefact,_numberTicks);if(axes[ax].tickInset&&ret[0]<
axes[ax].min+axes[ax].tickInset*axes[ax].tickInterval){ret[0]+=ret[4];ret[2]-=1}if(axes[ax].tickInset&&ret[1]>axes[ax].max-axes[ax].tickInset*axes[ax].tickInterval){ret[1]-=ret[4];ret[2]-=1}if(axes[ax].renderer.constructor===$.jqplot.LogAxisRenderer&&ret[0]<axes[ax].min){ret[0]+=ret[4];ret[2]-=1}axes[ax].min=ret[0];axes[ax].max=ret[1];axes[ax]._autoFormatString=ret[3];axes[ax].numberTicks=ret[2];axes[ax].tickInterval=ret[4];axes[ax].daTickInterval=[ret[4]/1E3,"seconds"]}else{axes[ax].min=newmin;axes[ax].max=
newmax;axes[ax].tickInterval=null;axes[ax].numberTicks=null;axes[ax].daTickInterval=null}axes[ax]._ticks=[]}}}ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height);plot.redraw();c._zoom.isZoomed=true;ctx=null}plot.target.trigger("jqplotZoom",[gridpos,datapos,plot,cursor])}};$.jqplot.preInitHooks.push($.jqplot.Cursor.init);$.jqplot.postDrawHooks.push($.jqplot.Cursor.postDraw);function updateTooltip(gridpos,datapos,plot){var c=plot.plugins.cursor;var s="";var addbr=false;if(c.showTooltipGridPosition){s=
gridpos.x+", "+gridpos.y;addbr=true}if(c.showTooltipUnitPosition){var g;for(var i=0;i<c.tooltipAxisGroups.length;i++){g=c.tooltipAxisGroups[i];if(addbr)s+="<br />";if(c.useAxesFormatters)for(var j=0;j<g.length;j++){if(j)s+=", ";var af=plot.axes[g[j]]._ticks[0].formatter;var afstr=plot.axes[g[j]]._ticks[0].formatString;s+=af(afstr,datapos[g[j]])}else s+=$.jqplot.sprintf(c.tooltipFormatString,datapos[g[0]],datapos[g[1]]);addbr=true}}if(c.showTooltipDataPosition){var series=plot.series;var ret=getIntersectingPoints(plot,
gridpos.x,gridpos.y);var addbr=false;for(var i=0;i<series.length;i++)if(series[i].show){var idx=series[i].index;var label=series[i].label.toString();var cellid=$.inArray(idx,ret.indices);var sx=undefined;var sy=undefined;if(cellid!=-1){var data=ret.data[cellid].data;if(c.useAxesFormatters){var xf=series[i]._xaxis._ticks[0].formatter;var yf=series[i]._yaxis._ticks[0].formatter;var xfstr=series[i]._xaxis._ticks[0].formatString;var yfstr=series[i]._yaxis._ticks[0].formatString;sx=xf(xfstr,data[0]);sy=
yf(yfstr,data[1])}else{sx=data[0];sy=data[1]}if(addbr)s+="<br />";s+=$.jqplot.sprintf(c.tooltipFormatString,label,sx,sy);addbr=true}}}c._tooltipElem.html(s)}function moveLine(gridpos,plot){var c=plot.plugins.cursor;var ctx=c.cursorCanvas._ctx;ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height);if(c.showVerticalLine)c.shapeRenderer.draw(ctx,[[gridpos.x,0],[gridpos.x,ctx.canvas.height]]);if(c.showHorizontalLine)c.shapeRenderer.draw(ctx,[[0,gridpos.y],[ctx.canvas.width,gridpos.y]]);var ret=getIntersectingPoints(plot,
gridpos.x,gridpos.y);if(c.showCursorLegend){var cells=$(plot.targetId+" td.jqplot-cursor-legend-label");for(var i=0;i<cells.length;i++){var idx=$(cells[i]).data("seriesIndex");var series=plot.series[idx];var label=series.label.toString();var cellid=$.inArray(idx,ret.indices);var sx=undefined;var sy=undefined;if(cellid!=-1){var data=ret.data[cellid].data;if(c.useAxesFormatters){var xf=series._xaxis._ticks[0].formatter;var yf=series._yaxis._ticks[0].formatter;var xfstr=series._xaxis._ticks[0].formatString;
var yfstr=series._yaxis._ticks[0].formatString;sx=xf(xfstr,data[0]);sy=yf(yfstr,data[1])}else{sx=data[0];sy=data[1]}}if(plot.legend.escapeHtml)$(cells[i]).text($.jqplot.sprintf(c.cursorLegendFormatString,label,sx,sy));else $(cells[i]).html($.jqplot.sprintf(c.cursorLegendFormatString,label,sx,sy))}}ctx=null}function getIntersectingPoints(plot,x,y){var ret={indices:[],data:[]};var s,i,d0,d,j,r,p;var threshold;var c=plot.plugins.cursor;for(var i=0;i<plot.series.length;i++){s=plot.series[i];r=s.renderer;
if(s.show){threshold=c.intersectionThreshold;if(s.showMarker)threshold+=s.markerRenderer.size/2;for(var j=0;j<s.gridData.length;j++){p=s.gridData[j];if(c.showVerticalLine)if(Math.abs(x-p[0])<=threshold){ret.indices.push(i);ret.data.push({seriesIndex:i,pointIndex:j,gridData:p,data:s.data[j]})}}}}return ret}function moveTooltip(gridpos,plot){var c=plot.plugins.cursor;var elem=c._tooltipElem;switch(c.tooltipLocation){case "nw":var x=gridpos.x+plot._gridPadding.left-elem.outerWidth(true)-c.tooltipOffset;
var y=gridpos.y+plot._gridPadding.top-c.tooltipOffset-elem.outerHeight(true);break;case "n":var x=gridpos.x+plot._gridPadding.left-elem.outerWidth(true)/2;var y=gridpos.y+plot._gridPadding.top-c.tooltipOffset-elem.outerHeight(true);break;case "ne":var x=gridpos.x+plot._gridPadding.left+c.tooltipOffset;var y=gridpos.y+plot._gridPadding.top-c.tooltipOffset-elem.outerHeight(true);break;case "e":var x=gridpos.x+plot._gridPadding.left+c.tooltipOffset;var y=gridpos.y+plot._gridPadding.top-elem.outerHeight(true)/
2;break;case "se":var x=gridpos.x+plot._gridPadding.left+c.tooltipOffset;var y=gridpos.y+plot._gridPadding.top+c.tooltipOffset;break;case "s":var x=gridpos.x+plot._gridPadding.left-elem.outerWidth(true)/2;var y=gridpos.y+plot._gridPadding.top+c.tooltipOffset;break;case "sw":var x=gridpos.x+plot._gridPadding.left-elem.outerWidth(true)-c.tooltipOffset;var y=gridpos.y+plot._gridPadding.top+c.tooltipOffset;break;case "w":var x=gridpos.x+plot._gridPadding.left-elem.outerWidth(true)-c.tooltipOffset;var y=
gridpos.y+plot._gridPadding.top-elem.outerHeight(true)/2;break;default:var x=gridpos.x+plot._gridPadding.left+c.tooltipOffset;var y=gridpos.y+plot._gridPadding.top+c.tooltipOffset;break}elem.css("left",x);elem.css("top",y);elem=null}function positionTooltip(plot){var grid=plot._gridPadding;var c=plot.plugins.cursor;var elem=c._tooltipElem;switch(c.tooltipLocation){case "nw":var a=grid.left+c.tooltipOffset;var b=grid.top+c.tooltipOffset;elem.css("left",a);elem.css("top",b);break;case "n":var a=(grid.left+
(plot._plotDimensions.width-grid.right))/2-elem.outerWidth(true)/2;var b=grid.top+c.tooltipOffset;elem.css("left",a);elem.css("top",b);break;case "ne":var a=grid.right+c.tooltipOffset;var b=grid.top+c.tooltipOffset;elem.css({right:a,top:b});break;case "e":var a=grid.right+c.tooltipOffset;var b=(grid.top+(plot._plotDimensions.height-grid.bottom))/2-elem.outerHeight(true)/2;elem.css({right:a,top:b});break;case "se":var a=grid.right+c.tooltipOffset;var b=grid.bottom+c.tooltipOffset;elem.css({right:a,
bottom:b});break;case "s":var a=(grid.left+(plot._plotDimensions.width-grid.right))/2-elem.outerWidth(true)/2;var b=grid.bottom+c.tooltipOffset;elem.css({left:a,bottom:b});break;case "sw":var a=grid.left+c.tooltipOffset;var b=grid.bottom+c.tooltipOffset;elem.css({left:a,bottom:b});break;case "w":var a=grid.left+c.tooltipOffset;var b=(grid.top+(plot._plotDimensions.height-grid.bottom))/2-elem.outerHeight(true)/2;elem.css({left:a,top:b});break;default:var a=grid.right-c.tooltipOffset;var b=grid.bottom+
c.tooltipOffset;elem.css({right:a,bottom:b});break}elem=null}function handleClick(ev,gridpos,datapos,neighbor,plot){ev.preventDefault();ev.stopImmediatePropagation();var c=plot.plugins.cursor;if(c.clickReset)c.resetZoom(plot,c);var sel=window.getSelection;if(document.selection&&document.selection.empty)document.selection.empty();else if(sel&&!sel().isCollapsed)sel().collapse();return false}function handleDblClick(ev,gridpos,datapos,neighbor,plot){ev.preventDefault();ev.stopImmediatePropagation();
var c=plot.plugins.cursor;if(c.dblClickReset)c.resetZoom(plot,c);var sel=window.getSelection;if(document.selection&&document.selection.empty)document.selection.empty();else if(sel&&!sel().isCollapsed)sel().collapse();return false}function handleMouseLeave(ev,gridpos,datapos,neighbor,plot){var c=plot.plugins.cursor;c.onGrid=false;if(c.show){$(ev.target).css("cursor",c.previousCursor);if(c.showTooltip&&!(c._zoom.zooming&&c.showTooltipOutsideZoom&&!c.constrainOutsideZoom)){c._tooltipElem.empty();c._tooltipElem.hide()}if(c.zoom){c._zoom.gridpos=
gridpos;c._zoom.datapos=datapos}if(c.showVerticalLine||c.showHorizontalLine){var ctx=c.cursorCanvas._ctx;ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height);ctx=null}if(c.showCursorLegend){var cells=$(plot.targetId+" td.jqplot-cursor-legend-label");for(var i=0;i<cells.length;i++){var idx=$(cells[i]).data("seriesIndex");var series=plot.series[idx];var label=series.label.toString();if(plot.legend.escapeHtml)$(cells[i]).text($.jqplot.sprintf(c.cursorLegendFormatString,label,undefined,undefined));else $(cells[i]).html($.jqplot.sprintf(c.cursorLegendFormatString,
label,undefined,undefined))}}}}function handleMouseEnter(ev,gridpos,datapos,neighbor,plot){var c=plot.plugins.cursor;c.onGrid=true;if(c.show){c.previousCursor=ev.target.style.cursor;ev.target.style.cursor=c.style;if(c.showTooltip){updateTooltip(gridpos,datapos,plot);if(c.followMouse)moveTooltip(gridpos,plot);else positionTooltip(plot);c._tooltipElem.show()}if(c.showVerticalLine||c.showHorizontalLine)moveLine(gridpos,plot)}}function handleMouseMove(ev,gridpos,datapos,neighbor,plot){var c=plot.plugins.cursor;
if(c.show){if(c.showTooltip){updateTooltip(gridpos,datapos,plot);if(c.followMouse)moveTooltip(gridpos,plot)}if(c.showVerticalLine||c.showHorizontalLine)moveLine(gridpos,plot)}}function getEventPosition(ev){var plot=ev.data.plot;var go=plot.eventCanvas._elem.offset();var gridPos={x:ev.pageX-go.left,y:ev.pageY-go.top};var dataPos={xaxis:null,yaxis:null,x2axis:null,y2axis:null,y3axis:null,y4axis:null,y5axis:null,y6axis:null,y7axis:null,y8axis:null,y9axis:null,yMidAxis:null};var an=["xaxis","yaxis","x2axis",
"y2axis","y3axis","y4axis","y5axis","y6axis","y7axis","y8axis","y9axis","yMidAxis"];var ax=plot.axes;var n,axis;for(n=11;n>0;n--){axis=an[n-1];if(ax[axis].show)dataPos[axis]=ax[axis].series_p2u(gridPos[axis.charAt(0)])}return{offsets:go,gridPos:gridPos,dataPos:dataPos}}function handleZoomMove(ev){var plot=ev.data.plot;var c=plot.plugins.cursor;if(c.show&&c.zoom&&c._zoom.started&&!c.zoomTarget){ev.preventDefault();var ctx=c.zoomCanvas._ctx;var positions=getEventPosition(ev);var gridpos=positions.gridPos;
var datapos=positions.dataPos;c._zoom.gridpos=gridpos;c._zoom.datapos=datapos;c._zoom.zooming=true;var xpos=gridpos.x;var ypos=gridpos.y;var height=ctx.canvas.height;var width=ctx.canvas.width;if(c.showTooltip&&!c.onGrid&&c.showTooltipOutsideZoom){updateTooltip(gridpos,datapos,plot);if(c.followMouse)moveTooltip(gridpos,plot)}if(c.constrainZoomTo=="x")c._zoom.end=[xpos,height];else if(c.constrainZoomTo=="y")c._zoom.end=[width,ypos];else c._zoom.end=[xpos,ypos];var sel=window.getSelection;if(document.selection&&
document.selection.empty)document.selection.empty();else if(sel&&!sel().isCollapsed)sel().collapse();drawZoomBox.call(c);ctx=null}}function handleMouseDown(ev,gridpos,datapos,neighbor,plot){var c=plot.plugins.cursor;if(c.ignoreMouseDown){c.ignoreMouseDown=false;return}if(plot.plugins.mobile)$(document).one("vmouseup.jqplot_cursor",{plot:plot},handleMouseUp);else $(document).one("mouseup.jqplot_cursor",{plot:plot},handleMouseUp);var axes=plot.axes;if(document.onselectstart!=undefined){c._oldHandlers.onselectstart=
document.onselectstart;document.onselectstart=function(){return false}}if(document.ondrag!=undefined){c._oldHandlers.ondrag=document.ondrag;document.ondrag=function(){return false}}if(document.onmousedown!=undefined){c._oldHandlers.onmousedown=document.onmousedown;document.onmousedown=function(){return false}}if(c.zoom){if(!c.zoomProxy){var ctx=c.zoomCanvas._ctx;ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height);ctx=null}if(c.constrainZoomTo=="x")c._zoom.start=[gridpos.x,0];else if(c.constrainZoomTo==
"y")c._zoom.start=[0,gridpos.y];else c._zoom.start=[gridpos.x,gridpos.y];c._zoom.started=true;for(var ax in datapos)c._zoom.axes.start[ax]=datapos[ax];if(plot.plugins.mobile)$(document).bind("vmousemove.jqplotCursor",{plot:plot},handleZoomMove);else $(document).bind("mousemove.jqplotCursor",{plot:plot},handleZoomMove)}}function handleMouseUp(ev){var plot=ev.data.plot;var c=plot.plugins.cursor;if(c.zoom&&c._zoom.zooming&&!c.zoomTarget){var xpos=c._zoom.gridpos.x;var ypos=c._zoom.gridpos.y;var datapos=
c._zoom.datapos;var height=c.zoomCanvas._ctx.canvas.height;var width=c.zoomCanvas._ctx.canvas.width;var axes=plot.axes;if(c.constrainOutsideZoom&&!c.onGrid){if(xpos<0)xpos=0;else if(xpos>width)xpos=width;if(ypos<0)ypos=0;else if(ypos>height)ypos=height;for(var axis in datapos)if(datapos[axis])if(axis.charAt(0)=="x")datapos[axis]=axes[axis].series_p2u(xpos);else datapos[axis]=axes[axis].series_p2u(ypos)}if(c.constrainZoomTo=="x")ypos=height;else if(c.constrainZoomTo=="y")xpos=width;c._zoom.end=[xpos,
ypos];c._zoom.gridpos={x:xpos,y:ypos};c.doZoom(c._zoom.gridpos,datapos,plot,c)}c._zoom.started=false;c._zoom.zooming=false;$(document).unbind("mousemove.jqplotCursor",handleZoomMove);if(document.onselectstart!=undefined&&c._oldHandlers.onselectstart!=null){document.onselectstart=c._oldHandlers.onselectstart;c._oldHandlers.onselectstart=null}if(document.ondrag!=undefined&&c._oldHandlers.ondrag!=null){document.ondrag=c._oldHandlers.ondrag;c._oldHandlers.ondrag=null}if(document.onmousedown!=undefined&&
c._oldHandlers.onmousedown!=null){document.onmousedown=c._oldHandlers.onmousedown;c._oldHandlers.onmousedown=null}}function drawZoomBox(){var start=this._zoom.start;var end=this._zoom.end;var ctx=this.zoomCanvas._ctx;var l,t,h,w;if(end[0]>start[0]){l=start[0];w=end[0]-start[0]}else{l=end[0];w=start[0]-end[0]}if(end[1]>start[1]){t=start[1];h=end[1]-start[1]}else{t=end[1];h=start[1]-end[1]}ctx.fillStyle="rgba(0,0,0,0.2)";ctx.strokeStyle="#999999";ctx.lineWidth=1;ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height);
ctx.fillRect(0,0,ctx.canvas.width,ctx.canvas.height);ctx.clearRect(l,t,w,h);ctx.strokeRect(l,t,w,h);ctx=null}$.jqplot.CursorLegendRenderer=function(options){$.jqplot.TableLegendRenderer.call(this,options);this.formatString="%s"};$.jqplot.CursorLegendRenderer.prototype=new $.jqplot.TableLegendRenderer;$.jqplot.CursorLegendRenderer.prototype.constructor=$.jqplot.CursorLegendRenderer;$.jqplot.CursorLegendRenderer.prototype.draw=function(){if(this._elem){this._elem.emptyForce();this._elem=null}if(this.show){var series=
this._series,s;var elem=document.createElement("div");this._elem=$(elem);elem=null;this._elem.addClass("jqplot-legend jqplot-cursor-legend");this._elem.css("position","absolute");var pad=false;for(var i=0;i<series.length;i++){s=series[i];if(s.show&&s.showLabel){var lt=$.jqplot.sprintf(this.formatString,s.label.toString());if(lt){var color=s.color;if(s._stack&&!s.fill)color="";addrow.call(this,lt,color,pad,i);pad=true}for(var j=0;j<$.jqplot.addLegendRowHooks.length;j++){var item=$.jqplot.addLegendRowHooks[j].call(this,
s);if(item){addrow.call(this,item.label,item.color,pad);pad=true}}}}series=s=null;delete series;delete s}function addrow(label,color,pad,idx){var rs=pad?this.rowSpacing:"0";var tr=$('<tr class="jqplot-legend jqplot-cursor-legend"></tr>').appendTo(this._elem);tr.data("seriesIndex",idx);$('<td class="jqplot-legend jqplot-cursor-legend-swatch" style="padding-top:'+rs+';">'+'<div style="border:1px solid #cccccc;padding:0.2em;">'+'<div class="jqplot-cursor-legend-swatch" style="background-color:'+color+
';"></div>'+"</div></td>").appendTo(tr);var td=$('<td class="jqplot-legend jqplot-cursor-legend-label" style="vertical-align:middle;padding-top:'+rs+';"></td>');td.appendTo(tr);td.data("seriesIndex",idx);if(this.escapeHtml)td.text(label);else td.html(label);tr=null;td=null}return this._elem}})(jQuery);
(function($){$.jqplot.HoverGuide=function(options){this.show=$.jqplot.config.enablePlugins;this.shapeRenderer=new $.jqplot.ShapeRenderer;this.shapeRenderer.init(options.rendererOptions);$.extend(true,this,options)};var locations=["nw","n","ne","e","se","s","sw","w"];var locationIndicies={"nw":0,"n":1,"ne":2,"e":3,"se":4,"s":5,"sw":6,"w":7};var oppositeLocations=["se","s","sw","w","nw","n","ne","e"];$.jqplot.HoverGuide.init=function(target,data,opts){var options=opts||{};this.plugins.hoverGuide=new $.jqplot.HoverGuide(options.hoverGuide);
this.eventListenerHooks.add("jqplotMouseMove",this.plugins.hoverGuide.handleMouseMove);this.eventListenerHooks.add("jqplotMouseLeave",this.plugins.hoverGuide.handleMouseLeave)};$.jqplot.HoverGuide.parseOptions=function(defaults,options){};$.jqplot.HoverGuide.postPlotDraw=function(){if(this.plugins.hoverGuide&&this.plugins.hoverGuide.hoverGuideCanvas){this.plugins.hoverGuide.hoverGuideCanvas.resetCanvas();this.plugins.hoverGuide.hoverGuideCanvas=null}this.plugins.hoverGuide.hoverGuideCanvas=new $.jqplot.GenericCanvas;
this.eventCanvas._elem.before(this.plugins.hoverGuide.hoverGuideCanvas.createElement(this._gridPadding,"jqplot-hoverguide-canvas",this._plotDimensions,this));this.plugins.hoverGuide.hoverGuideCanvas.setContext()};$.jqplot.preInitHooks.push($.jqplot.HoverGuide.init);$.jqplot.preParseSeriesOptionsHooks.push($.jqplot.HoverGuide.parseOptions);$.jqplot.postDrawHooks.push($.jqplot.HoverGuide.postPlotDraw);function drawLine(gridpos,plot,options){var hg=plot.plugins.hoverGuide;var ctx=hg.hoverGuideCanvas._ctx;
hg.shapeRenderer.draw(ctx,[[gridpos.x,0],[gridpos.x,ctx.canvas.height]],options);ctx=null}function drawMarker(plot,neighbor){var hl=plot.plugins.highlighter;var s=plot.series[neighbor.seriesIndex];var smr=s.markerRenderer;var mr=hl.markerRenderer;mr.style=smr.style;mr.lineWidth=smr.lineWidth+hl.lineWidthAdjust;mr.size=smr.size+hl.sizeAdjust;var rgba=$.jqplot.getColorComponents(smr.color);var newrgb=[rgba[0],rgba[1],rgba[2]];var alpha=rgba[3]>=0.6?rgba[3]*0.6:rgba[3]*(2-rgba[3]);mr.color="rgba("+newrgb[0]+
","+newrgb[1]+","+newrgb[2]+","+alpha+")";mr.init();mr.draw(s.gridData[neighbor.pointIndex][0],s.gridData[neighbor.pointIndex][1],hl.highlightCanvas._ctx)}function drawTooltip(plot,series,neighbor,moveToFront){var hl=plot.plugins.highlighter;var elem=hl._tooltipElems[neighbor.seriesIndex];var serieshl=series.highlighter||{};if(moveToFront&&plot.seriesStack.length>1){var topTooltip=$(elem).detach();$(plot.targetId).find("div.jqplot-highlighter-tooltip").filter(":last").after(topTooltip)}var opts=$.extend(true,
{},hl,serieshl);if(opts.useAxesFormatters){var xf=series._xaxis._ticks[0].formatter;var yf=series._yaxis._ticks[0].formatter;var xfstr=series._xaxis._ticks[0].formatString;var yfstr=series._yaxis._ticks[0].formatString;var str;var xstr=xf(xfstr,neighbor.data[0]);var ystrs=[];for(var i=1;i<opts.yvalues+1;i++)ystrs.push(yf(yfstr,neighbor.data[i]));if(typeof opts.formatString==="string")switch(opts.tooltipAxes){case "both":case "xy":ystrs.unshift(xstr);ystrs.unshift(opts.formatString);str=$.jqplot.sprintf.apply($.jqplot.sprintf,
ystrs);break;case "yx":ystrs.push(xstr);ystrs.unshift(opts.formatString);str=$.jqplot.sprintf.apply($.jqplot.sprintf,ystrs);break;case "x":str=$.jqplot.sprintf.apply($.jqplot.sprintf,[opts.formatString,xstr]);break;case "y":ystrs.unshift(opts.formatString);str=$.jqplot.sprintf.apply($.jqplot.sprintf,ystrs);break;default:ystrs.unshift(xstr);ystrs.unshift(opts.formatString);str=$.jqplot.sprintf.apply($.jqplot.sprintf,ystrs);break}else switch(opts.tooltipAxes){case "both":case "xy":str=xstr;for(var i=
0;i<ystrs.length;i++)str+=opts.tooltipSeparator+ystrs[i];break;case "yx":str="";for(var i=0;i<ystrs.length;i++)str+=ystrs[i]+opts.tooltipSeparator;str+=xstr;break;case "x":str=xstr;break;case "y":str=ystrs.join(opts.tooltipSeparator);break;default:str=xstr;for(var i=0;i<ystrs.length;i++)str+=opts.tooltipSeparator+ystrs[i];break}}else{var str;if(typeof opts.formatString==="string")str=$.jqplot.sprintf.apply($.jqplot.sprintf,[opts.formatString].concat(neighbor.data));else if(opts.tooltipAxes=="both"||
opts.tooltipAxes=="xy")str=$.jqplot.sprintf(opts.tooltipFormatString,neighbor.data[0])+opts.tooltipSeparator+$.jqplot.sprintf(opts.tooltipFormatString,neighbor.data[1]);else if(opts.tooltipAxes=="yx")str=$.jqplot.sprintf(opts.tooltipFormatString,neighbor.data[1])+opts.tooltipSeparator+$.jqplot.sprintf(opts.tooltipFormatString,neighbor.data[0]);else if(opts.tooltipAxes=="x")str=$.jqplot.sprintf(opts.tooltipFormatString,neighbor.data[0]);else if(opts.tooltipAxes=="y")str=$.jqplot.sprintf(opts.tooltipFormatString,
neighbor.data[1])}if($.isFunction(opts.tooltipContentEditor))str=opts.tooltipContentEditor(str,neighbor.seriesIndex,neighbor.pointIndex,plot);elem.html(str);var gridpos={x:neighbor.gridData[0],y:neighbor.gridData[1]};var ms=0;var fact=0.707;if(series.markerRenderer.show==true)ms=(series.markerRenderer.size+opts.sizeAdjust)/2;var loc=locations;if(series.fillToZero&&series.fill&&neighbor.data[1]<0)loc=oppositeLocations;switch(loc[locationIndicies[opts.tooltipLocation]]){case "nw":var x=gridpos.x+plot._gridPadding.left-
elem.outerWidth(true)-opts.tooltipOffset-fact*ms;var y=gridpos.y+plot._gridPadding.top-opts.tooltipOffset-elem.outerHeight(true)-fact*ms;break;case "n":var x=gridpos.x+plot._gridPadding.left-elem.outerWidth(true)/2;var y=gridpos.y+plot._gridPadding.top-opts.tooltipOffset-elem.outerHeight(true)-ms;break;case "ne":var x=gridpos.x+plot._gridPadding.left+opts.tooltipOffset+fact*ms;var y=gridpos.y+plot._gridPadding.top-opts.tooltipOffset-elem.outerHeight(true)-fact*ms;break;case "e":var x=gridpos.x+plot._gridPadding.left+
opts.tooltipOffset+ms;var y=gridpos.y+plot._gridPadding.top-elem.outerHeight(true)/2;break;case "se":var x=gridpos.x+plot._gridPadding.left+opts.tooltipOffset+fact*ms;var y=gridpos.y+plot._gridPadding.top+opts.tooltipOffset+fact*ms;break;case "s":var x=gridpos.x+plot._gridPadding.left-elem.outerWidth(true)/2;var y=gridpos.y+plot._gridPadding.top+opts.tooltipOffset+ms;break;case "sw":var x=gridpos.x+plot._gridPadding.left-elem.outerWidth(true)-opts.tooltipOffset-fact*ms;var y=gridpos.y+plot._gridPadding.top+
opts.tooltipOffset+fact*ms;break;case "w":var x=gridpos.x+plot._gridPadding.left-elem.outerWidth(true)-opts.tooltipOffset-ms;var y=gridpos.y+plot._gridPadding.top-elem.outerHeight(true)/2;break;default:var x=gridpos.x+plot._gridPadding.left-elem.outerWidth(true)-opts.tooltipOffset-fact*ms;var y=gridpos.y+plot._gridPadding.top-opts.tooltipOffset-elem.outerHeight(true)-fact*ms;break}elem.css("left",x);elem.css("top",y);elem.show();elem=null}function findNeighbors(gridpos,plot){var neighbors=[];var series=
plot.series;var x=gridpos.x,y=gridpos.y;for(var k=plot.seriesStack.length-1;k>=0;k--){var i=plot.seriesStack[k];var s=series[i];var d0=null,i0,j0,p0;for(var j=0;j<s.gridData.length;j++){var p=s.gridData[j];if(p[0]!=null&&p[1]!=null){var d=Math.sqrt((x-p[0])*(x-p[0])*2);if(d0==null||d<=d0){d0=d;i0=i;j0=j;p0=p}}}if(d0!=null)neighbors.push({seriesIndex:i0,pointIndex:j0,gridData:p0,data:s.data[j0]})}return neighbors}$.jqplot.HoverGuide.prototype.handleMouseMove=function(ev,gridpos,datapos,neighbor,plot){var hg=
plot.plugins.hoverGuide;if(hg.show){var ctx=hg.hoverGuideCanvas._ctx;ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height);drawLine(gridpos,plot,plot.rendererOptions);var hl,hl_ctx;if(plot.plugins.highlighter!=null){hl=plot.plugins.highlighter;hl_ctx=hl.highlightCanvas._ctx;hl_ctx.clearRect(0,0,hl_ctx.canvas.width,hl_ctx.canvas.height);for(var i in hl._tooltipElems)hl._tooltipElems[i].hide()}hl_ctx=null;if(neighbor!=null){var neighbors=findNeighbors(gridpos,plot);for(var n=0;n<neighbors.length;n++){var nb=
neighbors[n];if(plot.series[nb.seriesIndex].show&&nb.gridData[1]>=0&&nb.gridData[1]<=ctx.canvas.height){drawMarker(plot,nb);if(nb.seriesIndex==neighbor.seriesIndex&&plot.plugins.cursor.onGrid){var evt1=jQuery.Event("jqplotHighlighterUnhighlight");plot.target.trigger(evt1);var evt=jQuery.Event("jqplotHighlighterHighlight");evt.which=ev.which;evt.pageX=ev.pageX;evt.pageY=ev.pageY;var ins=[neighbor.seriesIndex,neighbor.pointIndex,neighbor.data,plot];plot.target.trigger(evt,ins);drawTooltip(plot,plot.series[nb.seriesIndex],
nb,true)}else drawTooltip(plot,plot.series[nb.seriesIndex],nb,false)}}plot.moveSeriesToFront(neighbor.seriesIndex)}else{var evt=jQuery.Event("jqplotHighlighterUnhighlight");plot.target.trigger(evt)}ctx=null}};$.jqplot.HoverGuide.prototype.handleMouseLeave=function(ev,gridpos,datapos,neighbor,plot){var hg=plot.plugins.hoverGuide;if(hg.show){var ctx=hg.hoverGuideCanvas._ctx;ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height);ctx=null;var hl,hl_ctx;if(plot.plugins.highlighter!=null){hl=plot.plugins.highlighter;
hl_ctx=hl.highlightCanvas._ctx;hl_ctx.clearRect(0,0,hl_ctx.canvas.width,hl_ctx.canvas.height);for(var i in hl._tooltipElems)hl._tooltipElems[i].hide()}hl_ctx=null}}})(jQuery);var handle_highlight,handle_post_init,handle_unhighlight;handle_highlight=function(e,series_index,point_index,neighbor,plot){return $(this).find("tr.jqplot-table-legend").eq(series_index).addClass("jqplot-circuitlab-bold-legend")};handle_unhighlight=function(e){return $(this).find("tr.jqplot-table-legend.jqplot-circuitlab-bold-legend").removeClass("jqplot-circuitlab-bold-legend")};
handle_post_init=function(target,data,options){this.target.on("jqplotHighlighterHighlight",handle_highlight);return this.target.on("jqplotHighlighterUnhighlight",handle_unhighlight)};$.jqplot.postInitHooks.push(handle_post_init);
!function($){$(function(){$.support.transition=function(){var transitionEnd=function(){var el=document.createElement("bootstrap"),transEndEventNames={"WebkitTransition":"webkitTransitionEnd","MozTransition":"transitionend","OTransition":"oTransitionEnd otransitionend","transition":"transitionend"},name;for(name in transEndEventNames)if(el.style[name]!==undefined)return transEndEventNames[name]}();return transitionEnd&&{end:transitionEnd}}()})}(window.jQuery);
!function($){var Carousel=function(element,options){this.$element=$(element);this.$indicators=this.$element.find(".carousel-indicators");this.options=options;this.options.pause=="hover"&&this.$element.on("mouseenter",$.proxy(this.pause,this)).on("mouseleave",$.proxy(this.cycle,this))};Carousel.prototype={cycle:function(e){if(!e)this.paused=false;if(this.interval)clearInterval(this.interval);this.options.interval&&!this.paused&&(this.interval=setInterval($.proxy(this.next,this),this.options.interval));
return this},getActiveIndex:function(){this.$active=this.$element.find(".item.active");this.$items=this.$active.parent().children();return this.$items.index(this.$active)},to:function(pos){var activeIndex=this.getActiveIndex(),that=this;if(pos>this.$items.length-1||pos<0)return;if(this.sliding)return this.$element.one("slid",function(){that.to(pos)});if(activeIndex==pos)return this.pause().cycle();return this.slide(pos>activeIndex?"next":"prev",$(this.$items[pos]))},pause:function(e){if(!e)this.paused=
true;if(this.$element.find(".next, .prev").length&&$.support.transition.end){this.$element.trigger($.support.transition.end);this.cycle(true)}clearInterval(this.interval);this.interval=null;return this},next:function(){if(this.sliding)return;return this.slide("next")},prev:function(){if(this.sliding)return;return this.slide("prev")},slide:function(type,next){var $active=this.$element.find(".item.active"),$next=next||$active[type](),isCycling=this.interval,direction=type=="next"?"left":"right",fallback=
type=="next"?"first":"last",that=this,e;this.sliding=true;isCycling&&this.pause();$next=$next.length?$next:this.$element.find(".item")[fallback]();e=$.Event("slide",{relatedTarget:$next[0],direction:direction});if($next.hasClass("active"))return;if(this.$indicators.length){this.$indicators.find(".active").removeClass("active");this.$element.one("slid",function(){var $nextIndicator=$(that.$indicators.children()[that.getActiveIndex()]);$nextIndicator&&$nextIndicator.addClass("active")})}if($.support.transition&&
this.$element.hasClass("slide")){this.$element.trigger(e);if(e.isDefaultPrevented())return;$next.addClass(type);$next[0].offsetWidth;$active.addClass(direction);$next.addClass(direction);this.$element.one($.support.transition.end,function(){$next.removeClass([type,direction].join(" ")).addClass("active");$active.removeClass(["active",direction].join(" "));that.sliding=false;setTimeout(function(){that.$element.trigger("slid")},0)})}else{this.$element.trigger(e);if(e.isDefaultPrevented())return;$active.removeClass("active");
$next.addClass("active");this.sliding=false;this.$element.trigger("slid")}isCycling&&this.cycle();return this}};var old=$.fn.carousel;$.fn.carousel=function(option){return this.each(function(){var $this=$(this),data=$this.data("carousel"),options=$.extend({},$.fn.carousel.defaults,typeof option=="object"&&option),action=typeof option=="string"?option:options.slide;if(!data)$this.data("carousel",data=new Carousel(this,options));if(typeof option=="number")data.to(option);else if(action)data[action]();
else if(options.interval)data.pause().cycle()})};$.fn.carousel.defaults={interval:5E3,pause:"hover"};$.fn.carousel.Constructor=Carousel;$.fn.carousel.noConflict=function(){$.fn.carousel=old;return this};$(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(e){var $this=$(this),href,$target=$($this.attr("data-target")||(href=$this.attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,"")),options=$.extend({},$target.data(),$this.data()),slideIndex;$target.carousel(options);if(slideIndex=
$this.attr("data-slide-to"))$target.data("carousel").pause().to(slideIndex).cycle();e.preventDefault()})}(window.jQuery);
(function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;if(window["editor_skip_external_resources"]===true)return;n.push=n;n.loaded=true;n.version="2.0";n.queue=[];t=b.createElement(e);t.defer=true;t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)})(window,document,"script","https://connect.facebook.net/en_US/fbevents.js");try{fbq("init","1711539685814181")}catch(e){}try{fbq("track","PageView")}catch(e){}
try{if(document.location.pathname.indexOf("/editor/")===0)try{fbq("trackCustom","LaunchEditor")}catch(e){}}catch(e){}(function(w,d){if(!w.rdt){var p=w.rdt=function(){p.sendEvent?p.sendEvent.apply(p,arguments):p.callQueue.push(arguments)};p.callQueue=[];var t=d.createElement("script");t.src="https://www.redditstatic.com/ads/pixel.js";t.defer=true;var s=d.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}})(window,document);try{rdt("init","t2_3y9tn9ev")}catch(e){}
try{if(document.location.pathname.indexOf("/editor/")===0)try{rdt("track","ViewContent")}catch(e){}}catch(e){}
(function(){var activeminutes_bind,activeminutes_eachminute,activeminutes_gaq_push,activeminutes_segmentio_push,activeminutes_touch,activeminutes_tracker_push,appcache_blocker_handler,appcache_event,appcache_setup,asteroids_launcher_keypress_handler,circuitlab_errorlog,clearMenus,editor_render_export_handler,editor_resizeContainer,editor_toolbar_dfp_activeminutes_callback,editor_toolbar_dfp_adblock_detect,editor_toolbar_dfp_adblock_detected,editor_toolbar_dfp_init_poll,editor_toolbar_dfp_part1,editor_toolbar_dfp_part2,
editor_toolbar_dfp_refresh,editor_toolbar_dfp_showad,get_cookie,post_to_editor,post_to_editor_link_handler,rel_external_links,set_cookie;window["_activeminutes_counter"]=0;window["_activeminutes_flag"]=false;window["_activeminutes_onincrement"]=[];activeminutes_touch=function(){window["_activeminutes_flag"]=true;return true};activeminutes_eachminute=function(){var cbfn,was_set,_i,_len,_ref,_results;was_set=window["_activeminutes_flag"];window["_activeminutes_flag"]=false;if(was_set){window["_activeminutes_counter"]+=
1;_ref=window["_activeminutes_onincrement"];_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){cbfn=_ref[_i];_results.push(cbfn(window["_activeminutes_counter"]))}return _results}};activeminutes_bind=function(f){return window["_activeminutes_onincrement"].push(f)};activeminutes_gaq_push=function(x){var doUpdate;try{doUpdate=false;if(x<=10)doUpdate=true;else if(x<=30&&x%2===0)doUpdate=true;else if(x%4===0)doUpdate=true;if(!doUpdate)return false;_gaq.push(["_trackEvent","Editor","ActiveMinutes",""+
x,0,false]);return true}catch(err){return false}};activeminutes_segmentio_push=function(x){try{if(window["analytics"]!=null)return window["analytics"]["track"]("Active minute in editor",{"session_minutes":x})}catch(err){return false}};activeminutes_tracker_push=function(x){var opts,p,r;try{opts={"count":x};if(window["circuit_id"]!=null&&window["circuit_id"]!=="")opts["circuit_id"]=window["circuit_id"];if(window["circuitlab_version"]!=null)opts["circuitlab_version"]=window["circuitlab_version"];if(window["circuitlab_preferences"]!=
null){if(window["circuitlab_preferences"]["remote_launchid"]!=null)opts["remote_launchid"]=window["circuitlab_preferences"]["remote_launchid"];if(window["circuitlab_preferences"]["mode_editor_embed"]!=null){opts["mode_editor_embed"]=window["circuitlab_preferences"]["mode_editor_embed"];opts["editor_embed_username"]=window["circuitlab_preferences"]["editor_embed_username"]}}p="Event/Editor/ActiveMinutes";r=$.param(opts);$.get("/tracker/",{"p":p,"r":r});return true}catch(err){return false}};activeminutes_bind(activeminutes_gaq_push);
activeminutes_bind(activeminutes_segmentio_push);activeminutes_bind(activeminutes_tracker_push);window["activeminutes_touch"]=activeminutes_touch;window["activeminutes_eachminute"]=activeminutes_eachminute;window["activeminutes_bind"]=activeminutes_bind;$(document).ready(function(){var emf;emf=activeminutes_eachminute;setInterval(emf,60*1E3);$(document).mousedown(activeminutes_touch);$(document).mouseup(activeminutes_touch);return $(document).click(activeminutes_touch)});window["appcache_event_handlers"]=
[];window["appcache_shouldblock"]=false;window["appcache_shouldrestart"]=false;window["appcache_last_event_name"]=null;window["appcache_last_event_object"]=null;window["appcache_progress_handlers"]=[];window["appcache_progress"]=null;appcache_blocker_handler=function(name,evt){var h,_i,_len,_ref,_results;if(name==="updateready")window["appcache_shouldrestart"]=true;if(name==="checking"||name==="downloading"||name==="progress")window["appcache_shouldblock"]=true;else window["appcache_shouldblock"]=
false;if(name==="progress"){window["appcache_progress"]=Math.max(0,Math.min(evt.loaded/evt.total,1));_ref=window["appcache_progress_handlers"];_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){h=_ref[_i];_results.push(h(window["appcache_progress"]))}return _results}};window["appcache_event_handlers"].push(appcache_blocker_handler);appcache_event=function(name,evt){var h,_i,_len,_ref;window["appcache_last_event_name"]=name;window["appcache_last_event_object"]=evt;_ref=window["appcache_event_handlers"];
for(_i=0,_len=_ref.length;_i<_len;_i++){h=_ref[_i];h(name,evt)}};appcache_setup=function(){var ac;ac=window.applicationCache;if(!(ac!=null))return;ac.onchecking=function(evt){return appcache_event("checking",evt)};ac.onerror=function(evt){return appcache_event("error",evt)};ac.onnoupdate=function(evt){return appcache_event("noupdate",evt)};ac.ondownloading=function(evt){return appcache_event("downloading",evt)};ac.onprogress=function(evt){return appcache_event("progress",evt)};ac.onupdateready=function(evt){return appcache_event("updateready",
evt)};ac.oncached=function(evt){return appcache_event("cached",evt)};return ac.onobsolete=function(evt){return appcache_event("obsolete",evt)}};appcache_setup();get_cookie=function(name){var cookie,cookieValue,cookies,_i,_len;cookieValue=null;if(document.cookie&&document.cookie!==""){cookies=document.cookie.split(";");for(_i=0,_len=cookies.length;_i<_len;_i++){cookie=cookies[_i];cookie=jQuery.trim(cookie);if(cookie.substring(0,name.length+1)===name+"=")return decodeURIComponent(cookie.substring(name.length+
1))}}return null};set_cookie=function(name,value,days){var date,expires;if(days){date=new Date;date.setTime(date.getTime()+days*24*60*60*1E3);expires="; expires="+date.toGMTString()}else expires="";return document.cookie=name+"="+encodeURIComponent(value)+expires+"; path=/"};window.get_cookie=get_cookie;window.set_cookie=set_cookie;editor_render_export_handler=function(ext){var cktid,csrftoken,frm,frmstr,png_width,pv,pvint,pvrestr;if(ext==null)ext="pdf";png_width="1024";if(ext==="png"){pv=prompt(gettext("Desired PNG width? (pixels)"),
png_width);if(pv===null)return false;pv=pv.trim();pvint=parseInt(pv);pvrestr=pvint.toString();if(isNaN(pvint)||pv!==pvrestr||!(1<=pvint&&pvint<=20480)){alert(gettext("Invalid size."));return false}png_width=pvrestr}cktid=window["circuit_id"];frmstr="<form action='/circuit/"+cktid+"/render_export/' method='post' target='_blank'></form>";frm=$(frmstr);csrftoken=get_cookie("csrftoken");frm.append($("<input type='hidden' name='csrfmiddlewaretoken' value='"+csrftoken+"'/>"));frm.append($("<input type='hidden' name='ext' value='"+
ext+"'/>"));if(ext==="png")frm.append($("<input type='hidden' name='png_width' value='"+png_width+"'/>"));frm.append($("<input type='hidden' name='wait' value='true'/>"));$("body").append(frm);frm.submit();return false};window.editor_render_export_handler=editor_render_export_handler;if(window["editor_resizecontainer_offset"]==null)window["editor_resizecontainer_offset"]=0;editor_resizeContainer=function(){var newHeight;newHeight=$(window).height()-window["editor_resizecontainer_offset"];$("div#editor_container").css("height",
newHeight);return true};$(document).ready(editor_resizeContainer);$(window).resize(editor_resizeContainer);editor_toolbar_dfp_part1=function(){var googletag,x;window["editor_toolbar_dfp_activated"]=false;window["googletag"]=window["googletag"]||{};googletag=window["googletag"];googletag.cmd=googletag.cmd||[];x=function(){var gads,node,useSSL;gads=document.createElement("script");gads.async=true;gads.type="text/javascript";useSSL="https:"===document.location.protocol;gads.src=(useSSL?"https:":"http:")+
"//www.googletagservices.com/tag/js/gpt.js";node=document.getElementsByTagName("script")[0];return node.parentNode.insertBefore(gads,node)};x();return googletag.cmd.push(function(){window["editor_toolbar_dfp_slot"]=googletag.defineSlot("/13798907/CircuitLab_Editor_BottomToolbar_468x30",[468,30],"div-gpt-ad-1360957660648-0");window["editor_toolbar_dfp_slot"].addService(googletag.pubads());googletag.enableServices();return window["editor_toolbar_dfp_activated"]=true})};editor_toolbar_dfp_adblock_detected=
function(){var opts,p,r,_ref;$("#toolbar_dfp_adholder_inner").hide();$("#toolbar_dfp_adholder_inner_adblock").show();window["editor_toolbar_dfp_activated"]=false;opts={};if(((_ref=window["circuitlab_preferences"])!=null?_ref["remote_launchid"]:void 0)!=null)opts["remote_launchid"]=window["circuitlab_preferences"]["remote_launchid"];p="Event/Editor/AdblockDetected";r=$.param(opts);$.get("/tracker/",{"p":p,"r":r});return true};editor_toolbar_dfp_adblock_detect=function(){var id;id="div-gpt-ad-1360957660648-0";
if($("#"+id+" iframe").size()===0)return editor_toolbar_dfp_adblock_detected()};editor_toolbar_dfp_part2=function(){var free_user,googletag;googletag=window["googletag"];setTimeout(editor_toolbar_dfp_adblock_detect,2500);if(window["circuitlab_preferences"]!=null&&window["circuitlab_preferences"]["remote_toolbar_dfp_CLFreeUser"]!=null&&googletag!=null&&googletag.pubads!=null){free_user=window["circuitlab_preferences"]["remote_toolbar_dfp_CLFreeUser"]?"true":"false";try{googletag.pubads().setTargeting("CLFreeUser",
free_user)}catch(err){editor_toolbar_dfp_adblock_detected()}}if(googletag!=null&&googletag.cmd!=null&&googletag.display!=null)googletag.cmd.push(function(){var id;id="div-gpt-ad-1360957660648-0";return googletag.display(id)});if(activeminutes_bind!=null)return activeminutes_bind(editor_toolbar_dfp_activeminutes_callback)};editor_toolbar_dfp_showad=function(){var adblockhtml,adblockhtml_contribute,adblockhtml_goadfree,adblockhtml_goadfree_iframe,adunit_inner,adunit_inner_adblock,adunit_inner_editor_embed,
adunit_inner_paid_noads,adunit_outer,adunit_raw,editor_embed_html,mode_editor_embed,mode_editor_playback,paid_noads_html,user_is_paid;adunit_raw=$("<div id='div-gpt-ad-1360957660648-0' style='width:468px; height:30px;'></div>");adunit_inner=$("<div id='toolbar_dfp_adholder_inner'></div>");adunit_inner_adblock=$("<div id='toolbar_dfp_adholder_inner_adblock'></div>");adunit_inner_editor_embed=$("<div id='toolbar_dfp_adholder_inner_editor_embed'></div>");adunit_inner_paid_noads=$("<div id='toolbar_dfp_adholder_inner_paid_noads'></div>");
adblockhtml="<div style='position: relative; padding:0px; margin:0px; width:468px; height:30px; border:0px; font-size:13px; line-height: 15px; text-align: center; color: #222222; background-color: #dddddd;'>  Thanks for using CircuitLab!   <br/>  Please help us  <a href='https://www.circuitlab.com/about/share/' style='color: #1122cc; text-decoration: underline; font-weight:bold;' target='_blank'>spread the word</a>.  <a href='https://www.circuitlab.com/about/share/' style='position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 100; text-decoration: none; text-shadow: none;' target='_blank' title='Click to open in new tab...'>&nbsp;</a>  </div>";
adblockhtml_contribute="<div style='position: relative; padding:0px; margin:0px; width:468px; height:30px; border:0px; font-size:13px; line-height: 15px; text-align: center; color: #222222; background-color: #dddddd;'>  We noticed you're using AdBlock. Please   <a href='https://www.circuitlab.com/accounts/upgrade/?from=editor-toolbar-adblock' style='color: #1122cc; text-decoration: underline; font-weight:bold;' target='_blank'>upgrade CircuitLab</a>  <br/>  and help support our operations and development of new features.  Thanks!  <a href='https://www.circuitlab.com/accounts/upgrade/?from=editor-toolbar-adblock' style='position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 100; text-decoration: none; text-shadow: none;' target='_blank' title='Click to open in new tab...'>&nbsp;</a>  </div>";
adblockhtml_goadfree="<div style='position: relative; padding:0px; margin:0px; width:468px; height:30px; border:0px; font-size:13px; line-height: 15px; text-align: center; color: #222222; background-color: #dddddd;'>  <strong>Go Ad-Free!</strong> - Activate your CircuitLab membership   <br/>  for no more ads. Thanks! :-) <em>circuitlab.com</em>  <a href='https://www.circuitlab.com/accounts/upgrade/?from=editor-toolbar-adblock' style='position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 100; text-decoration: none; text-shadow: none;' target='_blank' title='Click to open in new tab...'>&nbsp;</a>  </div>";
adblockhtml_goadfree_iframe="<div style='position: relative; padding:0px; margin:0px; width:468px; height:30px; border:0px; font-size:13px; line-height: 15px; text-align: center; color: #222222; background-color: #dddddd;'>  <iframe src='https://www.circuitlab.com/dfp/staticad/kt5t4x/?adblock=true' scrolling='no' width='468' height='30' style='border:0px;margin:0px;padding:0px;'></iframe>  </div>";adunit_inner_adblock.html(adblockhtml_goadfree_iframe);editor_embed_html="<div style='position: relative; padding:0px; margin:0px; width:468px; height:30px; border:0px; font-size:13px; line-height: 15px; text-align: center; color: #222222; background-color: #dddddd;'>  Powered by CircuitLab - to learn about the  <br/>  full version, please visit  <a href='https://www.circuitlab.com/?from=editor_embed_toolbar' style='color: #1122cc; text-decoration: underline; font-weight:bold;' target='_blank'>www.CircuitLab.com</a>!  <a href='https://www.circuitlab.com/?from=editor_embed_toolbar' style='position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 100; text-decoration: none; text-shadow: none;' target='_blank' title='Click to open in new tab...'>&nbsp;</a>  </div>";
adunit_inner_editor_embed.html(editor_embed_html);paid_noads_html="<div style='position: relative; padding:0px; margin:0px; width:468px; height:30px; border:0px; font-size:13px; line-height: 15px; text-align: center; color: #222222; background-color: #dddddd;'>  Thank you for your membership, which supports the development  <br/>  of the CircuitLab software and our <a href='https://ultimateelectronicsbook.com/?from=editor-toolbar-paid' style='color: #000099; text-decoration: underline;' target='_blank'>ongoing projects</a>.  </div>";
adunit_inner_paid_noads.html(paid_noads_html);adunit_outer=$("<div id='toolbar_dfp_adholder'></div>");adunit_inner.append(adunit_raw);adunit_outer.append(adunit_inner);adunit_outer.append(adunit_inner_adblock);adunit_outer.append(adunit_inner_editor_embed);adunit_outer.append(adunit_inner_paid_noads);adunit_outer.hide();$("#editor_container").append(adunit_outer);mode_editor_embed=window["circuitlab_preferences"]["mode_editor_embed"]===true;mode_editor_playback=window["circuitlab_preferences"]["mode_editor_playback"]===
true;user_is_paid=window["circuitlab_preferences"]["remote_toolbar_dfp_CLFreeUser"]!=null&&window["circuitlab_preferences"]["remote_toolbar_dfp_CLFreeUser"]===false;if(window["circuitlab_preferences"]!=null&&(mode_editor_embed||mode_editor_playback||user_is_paid)){adunit_inner.hide();adunit_inner_adblock.hide();if(user_is_paid){adunit_inner_paid_noads.show();setTimeout(function(){return adunit_outer.fadeOut(1E3)},7E3)}else adunit_inner_editor_embed.show();window["editor_toolbar_dfp_activated"]=false}else editor_toolbar_dfp_part2();
return setTimeout(function(){return adunit_outer.fadeIn(1E3)},500)};editor_toolbar_dfp_refresh=function(){var $id,editor_toolbar_dfp_slot,googletag,id;if(window["editor_toolbar_dfp_activated"]===true&&window["editor_toolbar_dfp_slot"]!=null){googletag=window["googletag"];editor_toolbar_dfp_slot=window["editor_toolbar_dfp_slot"];id="div-gpt-ad-1360957660648-0";$id=$("#"+id);return $id.animate({"opacity":0},1E3,function(){$id.find("iframe").remove();try{googletag.pubads().refresh([editor_toolbar_dfp_slot])}catch(err){null}$id.delay(300);
return $id.animate({"opacity":1},1E3)})}};editor_toolbar_dfp_activeminutes_callback=function(x){return editor_toolbar_dfp_refresh()};editor_toolbar_dfp_init_poll=function(){if($("#toolbar").length>0){if(window["circuitlab_preferences"]!=null&&window["circuitlab_preferences"]["remote_toolbar_dfp"])return setTimeout(editor_toolbar_dfp_showad,1E3)}else return setTimeout(editor_toolbar_dfp_init_poll,1E3)};$(document).ready(function(){editor_toolbar_dfp_part1();return setTimeout(editor_toolbar_dfp_init_poll,
3E3)});circuitlab_errorlog=function(name,data){return $.post("/editor/_errorlog/",{"name":name,"data":JSON.stringify(data)})};window.circuitlab_errorlog=circuitlab_errorlog;rel_external_links=function(){try{return $("a[rel='external']").live("click",function(){return this.target="_blank"})}catch(err){}};$(document).ready(function(){return rel_external_links()});clearMenus=function(){return $("a.menu, .dropdown-toggle").parent().removeClass("open")};$.fn.dropdown=function(selector){return this.each(function(){return $(this).delegate("a.menu, .dropdown-toggle",
"click",function(){var $parent,isActive;$parent=$(this).parent();isActive=$parent.hasClass("open");clearMenus();if(!isActive)$parent.toggleClass("open");return false})})};$(document).ready(function(){$("html").on("click.dropdown",clearMenus);return $("body").dropdown("a.menu, .dropdown-toggle")});window.clearMenus=clearMenus;post_to_editor=function(circuit,revnum,target){var csrftoken,frm,frmstr,url;if(circuit==null)circuit="";if(revnum==null)revnum="last";if(target==null)target=null;if(circuit===
"")circuit="_new";url="/editor/";if(circuit!=="")url+=circuit+"/";if(target!=null)frmstr="<form action='"+url+"' method='post' target='"+target+"'></form>";else frmstr="<form action='"+url+"' method='post'></form>";frm=$(frmstr);csrftoken=get_cookie("csrftoken");frm.append($("<input type='hidden' name='csrfmiddlewaretoken' value='"+csrftoken+"'/>"));$("body").append(frm);frm.submit();return false};post_to_editor_link_handler=function(evt){var $this,circuit,ctrlKeyPressed,middleButtonPressed,target;
ctrlKeyPressed=evt.ctrlKey;middleButtonPressed=evt.button===1;$this=$(this);circuit=$this.attr("data-circuit");if(circuit==null)circuit="";target=ctrlKeyPressed||middleButtonPressed?"_blank":null;post_to_editor(circuit,revnum,target);return false};$(document).ready(function(){return $(".post_to_editor").click(post_to_editor_link_handler)});window.post_to_editor=post_to_editor;window.post_to_editor_link_handler=post_to_editor_link_handler;shortcut.add_multi=function(shortcut_combinations,callback,
opts){var s,_i,_len,_results;if(typeof shortcut_combinations==="string")return shortcut.add(shortcut_combinations,callback,opts);else{_results=[];for(_i=0,_len=shortcut_combinations.length;_i<_len;_i++){s=shortcut_combinations[_i];_results.push(shortcut.add(s,callback,opts))}return _results}};asteroids_launcher_keypress_handler=function(evt){var character,code,kDown,kLeft,kRight,kUp,key,s;kLeft=37;kUp=38;kRight=39;kDown=40;code=evt.which;character=String.fromCharCode(code).toLowerCase();key=null;
if(code===37)key="left";else if(code===38)key="up";else if(code===39)key="right";else if(code===40)key="down";else if(character==="a")key="a";else if(character==="b")key="b";if(key===null){window.asteroids_launcher_state=0;return true}s=window.asteroids_launcher_state;if(s===0&&key==="up")s+=1;else if(s===1&&key==="up")s+=1;else if(s===2&&key==="down")s+=1;else if(s===3&&key==="down")s+=1;else if(s===4&&key==="left")s+=1;else if(s===5&&key==="right")s+=1;else if(s===6&&key==="left")s+=1;else if(s===
7&&key==="right")s+=1;else if(s===8&&key==="b")s+=1;else if(s===9&&key==="a")s+=1;else s=0;window.asteroids_launcher_state=s;if(s===10){window.asteroids_launcher_state=0;$.getScript("/assets/js/asteroids.js")}return true};$(document).ready(function(){var launchOnStartWhenEmpty;launchOnStartWhenEmpty=false;$(document).on("keydown.AsteroidsLauncher",asteroids_launcher_keypress_handler);if(launchOnStartWhenEmpty&&window.circuit_id===""&&window.location.pathname==="/editor/")return $.getScript("/assets/js/asteroids.js")});
window.asteroids_launcher_state=0}).call(this);
